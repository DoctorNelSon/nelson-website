<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Nelson: Nelson::Evaluator Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../banner_nelson_small.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Nelson
   &#160;<span id="projectnumber">0.1.2</span>
   </div>
   <div id="projectbrief">Nelson is a numerical interpreter using modern C/C++ libraries (Boost, Eigen, ...) and others state of art numerical libraries.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d5/d55/namespace_nelson.html">Nelson</a></li><li class="navelem"><a class="el" href="../../d6/de2/class_nelson_1_1_evaluator.html">Evaluator</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="../../d6/d05/class_nelson_1_1_evaluator-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Nelson::Evaluator Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../d5/d33/_evaluator_8hpp_source.html">Evaluator.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a09fc09480016027df5867db8878595c0"><td class="memItemLeft" align="right" valign="top"><a id="a09fc09480016027df5867db8878595c0"></a>
OutputFormatDisplay&#160;</td><td class="memItemRight" valign="bottom"><b>getCurrentOutputFormatDisplay</b> ()</td></tr>
<tr class="separator:a09fc09480016027df5867db8878595c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6297a55650fe24f2063f0938f42b3437"><td class="memItemLeft" align="right" valign="top"><a id="a6297a55650fe24f2063f0938f42b3437"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setCurrentOutputFormatDisplay</b> (OutputFormatDisplay newFormat)</td></tr>
<tr class="separator:a6297a55650fe24f2063f0938f42b3437"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb21322a9ebd4e44158f28212abb0bc3"><td class="memItemLeft" align="right" valign="top"><a id="abb21322a9ebd4e44158f28212abb0bc3"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setCLI</b> (bool bCLI)</td></tr>
<tr class="separator:abb21322a9ebd4e44158f28212abb0bc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a332874e97a19f50677728826ed8b2b85"><td class="memItemLeft" align="right" valign="top"><a id="a332874e97a19f50677728826ed8b2b85"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>getCLI</b> ()</td></tr>
<tr class="separator:a332874e97a19f50677728826ed8b2b85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac55433038ba2a22de88b95b86b419de8"><td class="memItemLeft" align="right" valign="top"><a id="ac55433038ba2a22de88b95b86b419de8"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>dbstep</b> (int linecount)</td></tr>
<tr class="separator:ac55433038ba2a22de88b95b86b419de8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4733b38be7ba1ab58ed966ac0a9e753b"><td class="memItemLeft" align="right" valign="top"><a id="a4733b38be7ba1ab58ed966ac0a9e753b"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>handleDebug</b> (int fullcontext)</td></tr>
<tr class="separator:a4733b38be7ba1ab58ed966ac0a9e753b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d94d66cc366eb3f15bd0fe5918d66c5"><td class="memItemLeft" align="right" valign="top"><a id="a5d94d66cc366eb3f15bd0fe5918d66c5"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>debugCLI</b> ()</td></tr>
<tr class="separator:a5d94d66cc366eb3f15bd0fe5918d66c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3859058d8702d1dc3b64ba73a75d26cf"><td class="memItemLeft" align="right" valign="top"><a id="a3859058d8702d1dc3b64ba73a75d26cf"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>pushDebug</b> (std::string fname, std::string detail)</td></tr>
<tr class="separator:a3859058d8702d1dc3b64ba73a75d26cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25845c17e8534d8fb5430287bf75d259"><td class="memItemLeft" align="right" valign="top"><a id="a25845c17e8534d8fb5430287bf75d259"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>popDebug</b> ()</td></tr>
<tr class="separator:a25845c17e8534d8fb5430287bf75d259"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f1f6c41b3f7fc09b7243971a5018c3e"><td class="memItemLeft" align="right" valign="top"><a id="a7f1f6c41b3f7fc09b7243971a5018c3e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>addBreakpoint</b> (<a class="el" href="../../db/d54/class_nelson_1_1_stack_entry.html">StackEntry</a> bp)</td></tr>
<tr class="separator:a7f1f6c41b3f7fc09b7243971a5018c3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ddf1fff952dcb658c5c2ac101d12ff2"><td class="memItemLeft" align="right" valign="top"><a id="a9ddf1fff952dcb658c5c2ac101d12ff2"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>adjustBreakpoint</b> (<a class="el" href="../../db/d54/class_nelson_1_1_stack_entry.html">StackEntry</a> &amp;bp, bool dbstep)</td></tr>
<tr class="separator:a9ddf1fff952dcb658c5c2ac101d12ff2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12ecea29baadc20463abbe66940278c7"><td class="memItemLeft" align="right" valign="top"><a id="a12ecea29baadc20463abbe66940278c7"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>adjustBreakpoints</b> ()</td></tr>
<tr class="separator:a12ecea29baadc20463abbe66940278c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca78543831efad194ece0b2e588e4caa"><td class="memItemLeft" align="right" valign="top"><a id="aca78543831efad194ece0b2e588e4caa"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>listBreakpoints</b> ()</td></tr>
<tr class="separator:aca78543831efad194ece0b2e588e4caa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f6ad00ee2c65997e17ac5b1f088be21"><td class="memItemLeft" align="right" valign="top"><a id="a5f6ad00ee2c65997e17ac5b1f088be21"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>deleteBreakpoint</b> (int number)</td></tr>
<tr class="separator:a5f6ad00ee2c65997e17ac5b1f088be21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9285337a5c8bf242b9e5c43033aa724"><td class="memItemLeft" align="right" valign="top"><a id="ac9285337a5c8bf242b9e5c43033aa724"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>stackTrace</b> (bool includeCurrent)</td></tr>
<tr class="separator:ac9285337a5c8bf242b9e5c43033aa724"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38e825739658d3abe70bfc49a6ca38f5"><td class="memItemLeft" align="right" valign="top"><a id="a38e825739658d3abe70bfc49a6ca38f5"></a>
stringVector&#160;</td><td class="memItemRight" valign="bottom"><b>getCallers</b> (bool includeCurrent)</td></tr>
<tr class="separator:a38e825739658d3abe70bfc49a6ca38f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83c5fc226a53dd6c36691885497be196"><td class="memItemLeft" align="right" valign="top"><a id="a83c5fc226a53dd6c36691885497be196"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>GetInterruptPending</b> ()</td></tr>
<tr class="separator:a83c5fc226a53dd6c36691885497be196"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e532bac57398ce3325976aa1528f641"><td class="memItemLeft" align="right" valign="top"><a id="a9e532bac57398ce3325976aa1528f641"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>SetInterruptPending</b> (bool bInterruptPending)</td></tr>
<tr class="separator:a9e532bac57398ce3325976aa1528f641"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac558ce4562894ccad43798c97b3684a2"><td class="memItemLeft" align="right" valign="top"><a id="ac558ce4562894ccad43798c97b3684a2"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>SetInterrupCallback</b> (bool bInterruptCallback)</td></tr>
<tr class="separator:ac558ce4562894ccad43798c97b3684a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fd5ef84a10123d0f586d805187ae562"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/de2/class_nelson_1_1_evaluator.html#a0fd5ef84a10123d0f586d805187ae562">Evaluator</a> (<a class="el" href="../../db/d1f/class_nelson_1_1_context.html">Context</a> *aContext, <a class="el" href="../../da/d11/class_nelson_1_1_interface.html">Interface</a> *aInterface, int engineMode)</td></tr>
<tr class="separator:a0fd5ef84a10123d0f586d805187ae562"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e511edb0ea263314c32087c9b472f9d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/de2/class_nelson_1_1_evaluator.html#a0e511edb0ea263314c32087c9b472f9d">~Evaluator</a> ()</td></tr>
<tr class="separator:a0e511edb0ea263314c32087c9b472f9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee2051332070cc09eff626ef99c498bf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/de2/class_nelson_1_1_evaluator.html#aee2051332070cc09eff626ef99c498bf">pushID</a> (int)</td></tr>
<tr class="separator:aee2051332070cc09eff626ef99c498bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2b3dd35cd205fa6f4b80882fd937481"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/de2/class_nelson_1_1_evaluator.html#ab2b3dd35cd205fa6f4b80882fd937481">popID</a> ()</td></tr>
<tr class="separator:ab2b3dd35cd205fa6f4b80882fd937481"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad62679dd100002bb22adfa8198fd52a2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/de2/class_nelson_1_1_evaluator.html#ad62679dd100002bb22adfa8198fd52a2">AutoStop</a> ()</td></tr>
<tr class="separator:ad62679dd100002bb22adfa8198fd52a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab4488b01d3cbf6d43eac132a63b5a5a"><td class="memItemLeft" align="right" valign="top"><a id="aab4488b01d3cbf6d43eac132a63b5a5a"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>AutoStop</b> (bool a)</td></tr>
<tr class="separator:aab4488b01d3cbf6d43eac132a63b5a5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8faba7ce318cb5d7c3c1aa696555b931"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/de2/class_nelson_1_1_evaluator.html#a8faba7ce318cb5d7c3c1aa696555b931">setPrintLimit</a> (int)</td></tr>
<tr class="separator:a8faba7ce318cb5d7c3c1aa696555b931"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef7082affe999808a9d89fff926e8670"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/de2/class_nelson_1_1_evaluator.html#aef7082affe999808a9d89fff926e8670">getPrintLimit</a> ()</td></tr>
<tr class="separator:aef7082affe999808a9d89fff926e8670"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb82e69754f05995310a069c250bc21b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/de2/class_nelson_1_1_evaluator.html#afb82e69754f05995310a069c250bc21b">clearStacks</a> ()</td></tr>
<tr class="separator:afb82e69754f05995310a069c250bc21b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdb69079dab69283f5009a1974137846"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/de2/class_nelson_1_1_evaluator.html#abdb69079dab69283f5009a1974137846">resetState</a> ()</td></tr>
<tr class="separator:abdb69079dab69283f5009a1974137846"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3fd0fa5603d666ea58b78b7d3904f79"><td class="memItemLeft" align="right" valign="top">State&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/de2/class_nelson_1_1_evaluator.html#ae3fd0fa5603d666ea58b78b7d3904f79">setState</a> (State newState)</td></tr>
<tr class="separator:ae3fd0fa5603d666ea58b78b7d3904f79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d7cd4e6fb82eaa6675e2a152def2c4c"><td class="memItemLeft" align="right" valign="top">State&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/de2/class_nelson_1_1_evaluator.html#a0d7cd4e6fb82eaa6675e2a152def2c4c">getState</a> ()</td></tr>
<tr class="separator:a0d7cd4e6fb82eaa6675e2a152def2c4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade801112564a0ffc6053631c5bf84b63"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/de2/class_nelson_1_1_evaluator.html#ade801112564a0ffc6053631c5bf84b63">getOverloadState</a> ()</td></tr>
<tr class="separator:ade801112564a0ffc6053631c5bf84b63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2aad12426134bea3d1a49eac0bcf97e6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/de2/class_nelson_1_1_evaluator.html#a2aad12426134bea3d1a49eac0bcf97e6">disableOverload</a> ()</td></tr>
<tr class="separator:a2aad12426134bea3d1a49eac0bcf97e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f4a239d037644fe2d800a473ebce337"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/de2/class_nelson_1_1_evaluator.html#a2f4a239d037644fe2d800a473ebce337">enableOverload</a> ()</td></tr>
<tr class="separator:a2f4a239d037644fe2d800a473ebce337"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fa6f88a81005ff2329c54f38656a061"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/de2/class_nelson_1_1_evaluator.html#a6fa6f88a81005ff2329c54f38656a061">getExitCode</a> ()</td></tr>
<tr class="separator:a6fa6f88a81005ff2329c54f38656a061"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a829b217d54b82a3ccda7c6e9c5b15484"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/de2/class_nelson_1_1_evaluator.html#a829b217d54b82a3ccda7c6e9c5b15484">setExitCode</a> (int _exitCode)</td></tr>
<tr class="separator:a829b217d54b82a3ccda7c6e9c5b15484"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a819e13bde9b0cfd872bdf93a4834f88c"><td class="memItemLeft" align="right" valign="top">ArrayOfVector&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/de2/class_nelson_1_1_evaluator.html#a819e13bde9b0cfd872bdf93a4834f88c">rowDefinition</a> (<a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">ASTPtr</a> t)</td></tr>
<tr class="separator:a819e13bde9b0cfd872bdf93a4834f88c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47754c1a02877f50d6d8465a1c4f95f0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d46/class_nelson_1_1_array_of.html">ArrayOf</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/de2/class_nelson_1_1_evaluator.html#a47754c1a02877f50d6d8465a1c4f95f0">matrixDefinition</a> (<a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">ASTPtr</a> t)</td></tr>
<tr class="separator:a47754c1a02877f50d6d8465a1c4f95f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af89c4fe15d979653dc22d122e04df808"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d46/class_nelson_1_1_array_of.html">ArrayOf</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/de2/class_nelson_1_1_evaluator.html#af89c4fe15d979653dc22d122e04df808">cellDefinition</a> (<a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">ASTPtr</a> t)</td></tr>
<tr class="separator:af89c4fe15d979653dc22d122e04df808"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85a1b68ec34f3e8a7c855e4bb860cbf1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d46/class_nelson_1_1_array_of.html">ArrayOf</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">expression</a> (<a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">ASTPtr</a> t)</td></tr>
<tr class="separator:a85a1b68ec34f3e8a7c855e4bb860cbf1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c34660f5bcad3052804bb02ea654616"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d46/class_nelson_1_1_array_of.html">ArrayOf</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/de2/class_nelson_1_1_evaluator.html#a1c34660f5bcad3052804bb02ea654616">unitColon</a> (<a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">ASTPtr</a> t)</td></tr>
<tr class="separator:a1c34660f5bcad3052804bb02ea654616"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5278eb907d7f759cbe37951f82401200"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d46/class_nelson_1_1_array_of.html">ArrayOf</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/de2/class_nelson_1_1_evaluator.html#a5278eb907d7f759cbe37951f82401200">doubleColon</a> (<a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">ASTPtr</a> t)</td></tr>
<tr class="separator:a5278eb907d7f759cbe37951f82401200"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0099c901e72d85b3528ba8f1649e906"><td class="memItemLeft" align="right" valign="top">ArrayOfVector&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/de2/class_nelson_1_1_evaluator.html#ab0099c901e72d85b3528ba8f1649e906">expressionList</a> (<a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">ASTPtr</a> t, <a class="el" href="../../d7/d09/class_nelson_1_1_dimensions.html">Dimensions</a> *dim)</td></tr>
<tr class="separator:ab0099c901e72d85b3528ba8f1649e906"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13c22c4af6b6932f7bd885995392f43e"><td class="memItemLeft" align="right" valign="top">ArrayOfVector&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/de2/class_nelson_1_1_evaluator.html#a13c22c4af6b6932f7bd885995392f43e">rhsExpression</a> (<a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">ASTPtr</a> t)</td></tr>
<tr class="separator:a13c22c4af6b6932f7bd885995392f43e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa169442da120d4445972f7bcf1fe4fcc"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/de2/class_nelson_1_1_evaluator.html#aa169442da120d4445972f7bcf1fe4fcc">lookupFunction</a> (std::string funcName, <a class="el" href="../../d1/d20/class_nelson_1_1_function_def.html">FuncPtr</a> &amp;val)</td></tr>
<tr class="separator:aa169442da120d4445972f7bcf1fe4fcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84d213e8a40f4f0aa77e68088d6910a6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d46/class_nelson_1_1_array_of.html">ArrayOf</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/de2/class_nelson_1_1_evaluator.html#a84d213e8a40f4f0aa77e68088d6910a6">rhsExpressionSimple</a> (<a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">ASTPtr</a> t)</td></tr>
<tr class="separator:a84d213e8a40f4f0aa77e68088d6910a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b78369c4486274859b053444e7f4ade"><td class="memItemLeft" align="right" valign="top"><a id="a5b78369c4486274859b053444e7f4ade"></a>
<a class="el" href="../../da/d11/class_nelson_1_1_interface.html">Interface</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>getInterface</b> ()</td></tr>
<tr class="separator:a5b78369c4486274859b053444e7f4ade"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49c4082818b4f432841ab8abdb92f55b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d46/class_nelson_1_1_array_of.html">ArrayOf</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/de2/class_nelson_1_1_evaluator.html#a49c4082818b4f432841ab8abdb92f55b">simpleSubindexExpression</a> (<a class="el" href="../../d2/d46/class_nelson_1_1_array_of.html">ArrayOf</a> &amp;r, <a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">ASTPtr</a> t)</td></tr>
<tr class="separator:a49c4082818b4f432841ab8abdb92f55b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af04e37328eeaf984720502343ec8b852"><td class="memItemLeft" align="right" valign="top"><a id="af04e37328eeaf984720502343ec8b852"></a>
ArrayOfVector&#160;</td><td class="memItemRight" valign="bottom"><b>subsindex</b> (ArrayOfVector m)</td></tr>
<tr class="separator:af04e37328eeaf984720502343ec8b852"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24c889edd479ca9208d25f7719ddbdae"><td class="memItemLeft" align="right" valign="top"><a id="a24c889edd479ca9208d25f7719ddbdae"></a>
indexType&#160;</td><td class="memItemRight" valign="bottom"><b>countLeftHandSides</b> (<a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">ASTPtr</a> t)</td></tr>
<tr class="separator:a24c889edd479ca9208d25f7719ddbdae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27df223cf5bfe45a14ec8180087c07d7"><td class="memItemLeft" align="right" valign="top"><a id="a27df223cf5bfe45a14ec8180087c07d7"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>simpleAssign</b> (<a class="el" href="../../d2/d46/class_nelson_1_1_array_of.html">ArrayOf</a> &amp;r, <a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">ASTPtr</a> t, <a class="el" href="../../d2/d46/class_nelson_1_1_array_of.html">ArrayOf</a> &amp;value)</td></tr>
<tr class="separator:a27df223cf5bfe45a14ec8180087c07d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8601f017c713492a9843abe10d69079"><td class="memItemLeft" align="right" valign="top"><a id="aa8601f017c713492a9843abe10d69079"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>simpleAssign</b> (<a class="el" href="../../d2/d46/class_nelson_1_1_array_of.html">ArrayOf</a> &amp;r, <a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">ASTPtr</a> t, ArrayOfVector &amp;value)</td></tr>
<tr class="separator:aa8601f017c713492a9843abe10d69079"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a427090471f1cfd71a03e4a3a117d5247"><td class="memItemLeft" align="right" valign="top"><a id="a427090471f1cfd71a03e4a3a117d5247"></a>
<a class="el" href="../../d2/d46/class_nelson_1_1_array_of.html">ArrayOf</a>&#160;</td><td class="memItemRight" valign="bottom"><b>assignExpression</b> (<a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">ASTPtr</a> t, <a class="el" href="../../d2/d46/class_nelson_1_1_array_of.html">ArrayOf</a> &amp;value)</td></tr>
<tr class="separator:a427090471f1cfd71a03e4a3a117d5247"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a897a42146008d230e0c9b85cdeb9755a"><td class="memItemLeft" align="right" valign="top"><a id="a897a42146008d230e0c9b85cdeb9755a"></a>
<a class="el" href="../../d2/d46/class_nelson_1_1_array_of.html">ArrayOf</a>&#160;</td><td class="memItemRight" valign="bottom"><b>assignExpression</b> (<a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">ASTPtr</a> t, ArrayOfVector &amp;value)</td></tr>
<tr class="separator:a897a42146008d230e0c9b85cdeb9755a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87271a334465cbb93a99436d1674dd81"><td class="memItemLeft" align="right" valign="top">ArrayOfVector&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/de2/class_nelson_1_1_evaluator.html#a87271a334465cbb93a99436d1674dd81">functionExpression</a> (<a class="el" href="../../d1/d20/class_nelson_1_1_function_def.html">FunctionDef</a> *funcDef, <a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">ASTPtr</a> t, int narg_out, bool outputOptional)</td></tr>
<tr class="separator:a87271a334465cbb93a99436d1674dd81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90d227c0237c6872fcc1aa3e0842a9b4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/de2/class_nelson_1_1_evaluator.html#a90d227c0237c6872fcc1aa3e0842a9b4">multiFunctionCall</a> (<a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">ASTPtr</a> t, bool printIt)</td></tr>
<tr class="separator:a90d227c0237c6872fcc1aa3e0842a9b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac45116fb4af2afab291c46521b0d132a"><td class="memItemLeft" align="right" valign="top">ArrayOfVector&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/de2/class_nelson_1_1_evaluator.html#ac45116fb4af2afab291c46521b0d132a">specialFunctionCall</a> (<a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">ASTPtr</a> t, bool printIt)</td></tr>
<tr class="separator:ac45116fb4af2afab291c46521b0d132a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25f34dd0529f4d21c7e758ae81093084"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/de2/class_nelson_1_1_evaluator.html#a25f34dd0529f4d21c7e758ae81093084">conditionedStatement</a> (<a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">ASTPtr</a> t)</td></tr>
<tr class="separator:a25f34dd0529f4d21c7e758ae81093084"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59a2f25bdefa2ea31ead1bed591beb59"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/de2/class_nelson_1_1_evaluator.html#a59a2f25bdefa2ea31ead1bed591beb59">ifStatement</a> (<a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">ASTPtr</a> t)</td></tr>
<tr class="separator:a59a2f25bdefa2ea31ead1bed591beb59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad12d52389627584f78263869ec76205e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/de2/class_nelson_1_1_evaluator.html#ad12d52389627584f78263869ec76205e">switchStatement</a> (<a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">ASTPtr</a> t)</td></tr>
<tr class="separator:ad12d52389627584f78263869ec76205e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b080954d76eb36eb1c0e9423dbf983b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/de2/class_nelson_1_1_evaluator.html#a2b080954d76eb36eb1c0e9423dbf983b">forStatement</a> (<a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">ASTPtr</a> t)</td></tr>
<tr class="separator:a2b080954d76eb36eb1c0e9423dbf983b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fdc2b5c973549b28743dca6f88cf0a8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/de2/class_nelson_1_1_evaluator.html#a5fdc2b5c973549b28743dca6f88cf0a8">whileStatement</a> (<a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">ASTPtr</a> t)</td></tr>
<tr class="separator:a5fdc2b5c973549b28743dca6f88cf0a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1209f29d82064b665969dc2daea4e56"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/de2/class_nelson_1_1_evaluator.html#ae1209f29d82064b665969dc2daea4e56">tryStatement</a> (<a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">ASTPtr</a> t)</td></tr>
<tr class="separator:ae1209f29d82064b665969dc2daea4e56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a909e182739c104a5cd5cd7594286ce79"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/de2/class_nelson_1_1_evaluator.html#a909e182739c104a5cd5cd7594286ce79">testCaseStatement</a> (<a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">ASTPtr</a> t, <a class="el" href="../../d2/d46/class_nelson_1_1_array_of.html">ArrayOf</a> x)</td></tr>
<tr class="separator:a909e182739c104a5cd5cd7594286ce79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a2d94cebdd73fbd95b67701efa49281"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/de2/class_nelson_1_1_evaluator.html#a2a2d94cebdd73fbd95b67701efa49281">statementType</a> (<a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">ASTPtr</a> t, bool printIt)</td></tr>
<tr class="separator:a2a2d94cebdd73fbd95b67701efa49281"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a905ee3f7d9ea351e4b99a99237ec28bb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/de2/class_nelson_1_1_evaluator.html#a905ee3f7d9ea351e4b99a99237ec28bb">statement</a> (<a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">ASTPtr</a> t)</td></tr>
<tr class="separator:a905ee3f7d9ea351e4b99a99237ec28bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a548de9d4130e1c6c8c1298c68a2ebbd8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/de2/class_nelson_1_1_evaluator.html#a548de9d4130e1c6c8c1298c68a2ebbd8">block</a> (<a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">ASTPtr</a> t)</td></tr>
<tr class="separator:a548de9d4130e1c6c8c1298c68a2ebbd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d55731dc47cd7b4a5b08a747d34832d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/de2/class_nelson_1_1_evaluator.html#a1d55731dc47cd7b4a5b08a747d34832d">evalCLI</a> ()</td></tr>
<tr class="separator:a1d55731dc47cd7b4a5b08a747d34832d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d15f4958b5634ea39d01cd6796eb0d4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d1f/class_nelson_1_1_context.html">Context</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/de2/class_nelson_1_1_evaluator.html#a1d15f4958b5634ea39d01cd6796eb0d4">getContext</a> ()</td></tr>
<tr class="separator:a1d15f4958b5634ea39d01cd6796eb0d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09ffa7b341e66c0c2a61f3cc13679b6a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/de2/class_nelson_1_1_evaluator.html#a09ffa7b341e66c0c2a61f3cc13679b6a">evaluateString</a> (std::string cmdToEvaluate, bool propogateException=true)</td></tr>
<tr class="separator:a09ffa7b341e66c0c2a61f3cc13679b6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa06fd3b8e9191fbdd85bd36977e91757"><td class="memItemLeft" align="right" valign="top"><a id="aa06fd3b8e9191fbdd85bd36977e91757"></a>
std::wstring&#160;</td><td class="memItemRight" valign="bottom"><b>getCurrentEvaluateFilename</b> ()</td></tr>
<tr class="separator:aa06fd3b8e9191fbdd85bd36977e91757"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40cd07d0ac68c6572bec2c6ceeb1c001"><td class="memItemLeft" align="right" valign="top"><a id="a40cd07d0ac68c6572bec2c6ceeb1c001"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>pushEvaluateFilenameList</b> (const std::wstring filename)</td></tr>
<tr class="separator:a40cd07d0ac68c6572bec2c6ceeb1c001"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10d1d7adfad65b101f640377bf451f2b"><td class="memItemLeft" align="right" valign="top"><a id="a10d1d7adfad65b101f640377bf451f2b"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>popEvaluateFilenameList</b> ()</td></tr>
<tr class="separator:a10d1d7adfad65b101f640377bf451f2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d09aaff14ad486aecd996b3da9501ee"><td class="memItemLeft" align="right" valign="top">std::wstring&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/de2/class_nelson_1_1_evaluator.html#a2d09aaff14ad486aecd996b3da9501ee">getLastErrorString</a> ()</td></tr>
<tr class="separator:a2d09aaff14ad486aecd996b3da9501ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a730b94480788f989617c8fb3d52bb5d8"><td class="memItemLeft" align="right" valign="top"><a id="a730b94480788f989617c8fb3d52bb5d8"></a>
<a class="el" href="../../db/db9/class_nelson_1_1_exception.html">Exception</a>&#160;</td><td class="memItemRight" valign="bottom"><b>getLastException</b> ()</td></tr>
<tr class="separator:a730b94480788f989617c8fb3d52bb5d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3765e5c58c902464a9d8b98d71fe242"><td class="memItemLeft" align="right" valign="top"><a id="ac3765e5c58c902464a9d8b98d71fe242"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>setLastException</b> (<a class="el" href="../../db/db9/class_nelson_1_1_exception.html">Exception</a> e)</td></tr>
<tr class="separator:ac3765e5c58c902464a9d8b98d71fe242"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5e041e12ca7015bbdd69e4e6fb16383"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/de2/class_nelson_1_1_evaluator.html#af5e041e12ca7015bbdd69e4e6fb16383">setLastErrorString</a> (std::wstring txt)</td></tr>
<tr class="separator:af5e041e12ca7015bbdd69e4e6fb16383"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfb62d75cb12102a0fd96fae2775ff14"><td class="memItemLeft" align="right" valign="top"><a id="abfb62d75cb12102a0fd96fae2775ff14"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setLastErrorString</b> (std::string txt)</td></tr>
<tr class="separator:abfb62d75cb12102a0fd96fae2775ff14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab83fbfedcf2de3edb6e1bf7eb56f0b7d"><td class="memItemLeft" align="right" valign="top">std::wstring&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/de2/class_nelson_1_1_evaluator.html#ab83fbfedcf2de3edb6e1bf7eb56f0b7d">getLastWarningString</a> ()</td></tr>
<tr class="separator:ab83fbfedcf2de3edb6e1bf7eb56f0b7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab905cb1b961d991ce6e71ba7584046b8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/de2/class_nelson_1_1_evaluator.html#ab905cb1b961d991ce6e71ba7584046b8">setLastWarningString</a> (std::string msg)</td></tr>
<tr class="separator:ab905cb1b961d991ce6e71ba7584046b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9dfa3a23c54059cb2e75e32129723f71"><td class="memItemLeft" align="right" valign="top"><a id="a9dfa3a23c54059cb2e75e32129723f71"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setLastWarningString</b> (std::wstring msg)</td></tr>
<tr class="separator:a9dfa3a23c54059cb2e75e32129723f71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a650c501bcf3ce9da1e93b8b3d2759ac9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d46/class_nelson_1_1_array_of.html">ArrayOf</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/de2/class_nelson_1_1_evaluator.html#a650c501bcf3ce9da1e93b8b3d2759ac9">ShortCutOr</a> (<a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">ASTPtr</a> t)</td></tr>
<tr class="separator:a650c501bcf3ce9da1e93b8b3d2759ac9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a966af3b8af696b00c498b98222e4caca"><td class="memItemLeft" align="right" valign="top"><a id="a966af3b8af696b00c498b98222e4caca"></a>
<a class="el" href="../../d2/d46/class_nelson_1_1_array_of.html">ArrayOf</a>&#160;</td><td class="memItemRight" valign="bottom"><b>ShortCutAnd</b> (<a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">ASTPtr</a> t)</td></tr>
<tr class="separator:a966af3b8af696b00c498b98222e4caca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad48f7be440294b6d3194f483fbacbc45"><td class="memItemLeft" align="right" valign="top"><a id="ad48f7be440294b6d3194f483fbacbc45"></a>
<a class="el" href="../../d2/d46/class_nelson_1_1_array_of.html">ArrayOf</a>&#160;</td><td class="memItemRight" valign="bottom"><b>Or</b> (<a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">ASTPtr</a> t)</td></tr>
<tr class="separator:ad48f7be440294b6d3194f483fbacbc45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b07b3024806a11ac87eb8e5d422fc91"><td class="memItemLeft" align="right" valign="top"><a id="a8b07b3024806a11ac87eb8e5d422fc91"></a>
<a class="el" href="../../d2/d46/class_nelson_1_1_array_of.html">ArrayOf</a>&#160;</td><td class="memItemRight" valign="bottom"><b>And</b> (<a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">ASTPtr</a> t)</td></tr>
<tr class="separator:a8b07b3024806a11ac87eb8e5d422fc91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cf66b63090f264f8c71a654c0ee0a5e"><td class="memItemLeft" align="right" valign="top"><a id="a3cf66b63090f264f8c71a654c0ee0a5e"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>getCallerFunctionName</b> ()</td></tr>
<tr class="separator:a3cf66b63090f264f8c71a654c0ee0a5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1acf2deb1fa868f94a3469c726ea1fa9"><td class="memItemLeft" align="right" valign="top"><a id="a1acf2deb1fa868f94a3469c726ea1fa9"></a>
std::wstring&#160;</td><td class="memItemRight" valign="bottom"><b>getCallerFunctionNameW</b> ()</td></tr>
<tr class="separator:a1acf2deb1fa868f94a3469c726ea1fa9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c252293ace3a153735f9bab4448160b"><td class="memItemLeft" align="right" valign="top"><a id="a9c252293ace3a153735f9bab4448160b"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>getCurrentFunctionName</b> ()</td></tr>
<tr class="separator:a9c252293ace3a153735f9bab4448160b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55d3c40ca23e2cf48a10d5050e1d2fc8"><td class="memItemLeft" align="right" valign="top"><a id="a55d3c40ca23e2cf48a10d5050e1d2fc8"></a>
std::wstring&#160;</td><td class="memItemRight" valign="bottom"><b>getCurrentFunctionNameW</b> ()</td></tr>
<tr class="separator:a55d3c40ca23e2cf48a10d5050e1d2fc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbd164c55029ca8e182bd3cf405cc2d3"><td class="memItemLeft" align="right" valign="top"><a id="acbd164c55029ca8e182bd3cf405cc2d3"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>getDebugDepth</b> ()</td></tr>
<tr class="separator:acbd164c55029ca8e182bd3cf405cc2d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f0f2ab03a18f87f8ed00786c8ce71ba"><td class="memItemLeft" align="right" valign="top"><a id="a5f0f2ab03a18f87f8ed00786c8ce71ba"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>increaseDebugDepth</b> ()</td></tr>
<tr class="separator:a5f0f2ab03a18f87f8ed00786c8ce71ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adebd28f60fb0e3e1e7adad02de73118b"><td class="memItemLeft" align="right" valign="top"><a id="adebd28f60fb0e3e1e7adad02de73118b"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>decreaseDebugDepth</b> ()</td></tr>
<tr class="separator:adebd28f60fb0e3e1e7adad02de73118b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23baa11fd9899731937cfd5adbf8c9e9"><td class="memItemLeft" align="right" valign="top"><a id="a23baa11fd9899731937cfd5adbf8c9e9"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>getNelsonEngineMode</b> ()</td></tr>
<tr class="separator:a23baa11fd9899731937cfd5adbf8c9e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65b680e3d26222d85841a38e6f160881"><td class="memItemLeft" align="right" valign="top"><a id="a65b680e3d26222d85841a38e6f160881"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>haveEventsLoop</b> ()</td></tr>
<tr class="separator:a65b680e3d26222d85841a38e6f160881"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afda74d408abebbc6a457ffc4de66b838"><td class="memItemLeft" align="right" valign="top"><a id="afda74d408abebbc6a457ffc4de66b838"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setCommandLineArguments</b> (wstringVector args)</td></tr>
<tr class="separator:afda74d408abebbc6a457ffc4de66b838"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a246094d250b6547fdfeee244b3ebe8d3"><td class="memItemLeft" align="right" valign="top"><a id="a246094d250b6547fdfeee244b3ebe8d3"></a>
wstringVector&#160;</td><td class="memItemRight" valign="bottom"><b>getCommandLineArguments</b> ()</td></tr>
<tr class="separator:a246094d250b6547fdfeee244b3ebe8d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c5ed8106c00b77d5cfa34b5f0c0219a"><td class="memItemLeft" align="right" valign="top"><a id="a7c5ed8106c00b77d5cfa34b5f0c0219a"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>getEchoMode</b> ()</td></tr>
<tr class="separator:a7c5ed8106c00b77d5cfa34b5f0c0219a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d52b5c5e10a818d9464c641e71b9ce4"><td class="memItemLeft" align="right" valign="top"><a id="a8d52b5c5e10a818d9464c641e71b9ce4"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setEchoMode</b> (bool _mode)</td></tr>
<tr class="separator:a8d52b5c5e10a818d9464c641e71b9ce4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0129ce7136213625cadef4b1e43c0684"><td class="memItemLeft" align="right" valign="top"><a id="a0129ce7136213625cadef4b1e43c0684"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>isQuietMode</b> ()</td></tr>
<tr class="separator:a0129ce7136213625cadef4b1e43c0684"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab75ee756e3b2e4c96c945c79afec145a"><td class="memItemLeft" align="right" valign="top"><a id="ab75ee756e3b2e4c96c945c79afec145a"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setQuietMode</b> (bool _quiet)</td></tr>
<tr class="separator:ab75ee756e3b2e4c96c945c79afec145a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ae482fb935ea6a38231879fb6fa82bb89"><td class="memItemLeft" align="right" valign="top"><a id="ae482fb935ea6a38231879fb6fa82bb89"></a>
boost::container::vector&lt; std::wstring &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>evaluatedFilenames</b></td></tr>
<tr class="separator:ae482fb935ea6a38231879fb6fa82bb89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79619fd87966be69bb9d80aed72d5ea2"><td class="memItemLeft" align="right" valign="top"><a id="a79619fd87966be69bb9d80aed72d5ea2"></a>
void *&#160;</td><td class="memItemRight" valign="bottom"><b>mainGuiObject</b> = nullptr</td></tr>
<tr class="separator:a79619fd87966be69bb9d80aed72d5ea2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e9092b89ae24b3f3d874428cf3682bf"><td class="memItemLeft" align="right" valign="top"><a id="a5e9092b89ae24b3f3d874428cf3682bf"></a>
void *&#160;</td><td class="memItemRight" valign="bottom"><b>FileManager</b> = nullptr</td></tr>
<tr class="separator:a5e9092b89ae24b3f3d874428cf3682bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef48f685108d1f71031f55924ba186f9"><td class="memItemLeft" align="right" valign="top"><a id="aef48f685108d1f71031f55924ba186f9"></a>
void *&#160;</td><td class="memItemRight" valign="bottom"><b>RandomEngine</b> = nullptr</td></tr>
<tr class="separator:aef48f685108d1f71031f55924ba186f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f8460281117fccfbbf72f72621fc538"><td class="memItemLeft" align="right" valign="top"><a id="a8f8460281117fccfbbf72f72621fc538"></a>
void *&#160;</td><td class="memItemRight" valign="bottom"><b>HistoryManager</b> = nullptr</td></tr>
<tr class="separator:a8f8460281117fccfbbf72f72621fc538"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3be0f90318f1f19d6da723d55644d5f2"><td class="memItemLeft" align="right" valign="top"><a id="a3be0f90318f1f19d6da723d55644d5f2"></a>
boost::container::vector&lt; <a class="el" href="../../db/d54/class_nelson_1_1_stack_entry.html">StackEntry</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>cstack</b></td></tr>
<tr class="separator:a3be0f90318f1f19d6da723d55644d5f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf20c666f5626bddccde400e67a31aed"><td class="memItemLeft" align="right" valign="top"><a id="adf20c666f5626bddccde400e67a31aed"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>debugActive</b></td></tr>
<tr class="separator:adf20c666f5626bddccde400e67a31aed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf967e11994671abd555d98af81ed415"><td class="memItemLeft" align="right" valign="top"><a id="acf967e11994671abd555d98af81ed415"></a>
<a class="el" href="../../d0/d75/class_nelson_1_1_command_queue.html">CommandQueue</a>&#160;</td><td class="memItemRight" valign="bottom"><b>commandQueue</b></td></tr>
<tr class="separator:acf967e11994671abd555d98af81ed415"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2701795830162cb7386a66f14a086563"><td class="memItemLeft" align="right" valign="top"><a id="a2701795830162cb7386a66f14a086563"></a>
uint64&#160;</td><td class="memItemRight" valign="bottom"><b>TimerValue</b> = 0</td></tr>
<tr class="separator:a2701795830162cb7386a66f14a086563"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This is the class that implements the interpreter - it generally operates on abstract syntax trees (ASTs). </p>

<p class="definition">Definition at line <a class="el" href="../../d5/d33/_evaluator_8hpp_source.html#l00078">78</a> of file <a class="el" href="../../d5/d33/_evaluator_8hpp_source.html">Evaluator.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a0fd5ef84a10123d0f586d805187ae562"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0fd5ef84a10123d0f586d805187ae562">&#9670;&nbsp;</a></span>Evaluator()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Nelson::Evaluator::Evaluator </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d1f/class_nelson_1_1_context.html">Context</a> *&#160;</td>
          <td class="paramname"><em>aContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d11/class_nelson_1_1_interface.html">Interface</a> *&#160;</td>
          <td class="paramname"><em>aInterface</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>engineMode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Construct a <a class="el" href="../../d6/de2/class_nelson_1_1_evaluator.html">Evaluator</a> object with the given context to operate in. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l04111">4111</a> of file <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html">Evaluator.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l04112"></a><span class="lineno"> 4112</span>&#160;    {</div><div class="line"><a name="l04113"></a><span class="lineno"> 4113</span>&#160;        engineMode = _engineMode;</div><div class="line"><a name="l04114"></a><span class="lineno"> 4114</span>&#160;        bAllowOverload = <span class="keyword">true</span>;</div><div class="line"><a name="l04115"></a><span class="lineno"> 4115</span>&#160;        lastException = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l04116"></a><span class="lineno"> 4116</span>&#160;        context = aContext;</div><div class="line"><a name="l04117"></a><span class="lineno"> 4117</span>&#160;        currentOutputFormatDisplay = NLS_FORMAT_SHORT;</div><div class="line"><a name="l04118"></a><span class="lineno"> 4118</span>&#160;        <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#abdb69079dab69283f5009a1974137846">resetState</a>();</div><div class="line"><a name="l04119"></a><span class="lineno"> 4119</span>&#160;        endValStackLength = 0;</div><div class="line"><a name="l04120"></a><span class="lineno"> 4120</span>&#160;        endValStack[endValStackLength] = 0;</div><div class="line"><a name="l04121"></a><span class="lineno"> 4121</span>&#160;        depth = 0;</div><div class="line"><a name="l04122"></a><span class="lineno"> 4122</span>&#160;        io = aInterface;</div><div class="line"><a name="l04123"></a><span class="lineno"> 4123</span>&#160;        <a class="code" href="../../d2/d46/class_nelson_1_1_array_of.html#a8a04a24d76151fdb9b41c9b3f9d918d2">ArrayOf::setArrayOfIOInterface</a>(io);</div><div class="line"><a name="l04124"></a><span class="lineno"> 4124</span>&#160;        <a class="code" href="../../d5/d55/namespace_nelson.html#a9135b3b04744c8daff789e01b8e5e0f0">InterruptPending</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l04125"></a><span class="lineno"> 4125</span>&#160;        printLimit = 1000;</div><div class="line"><a name="l04126"></a><span class="lineno"> 4126</span>&#160;        autostop = <span class="keyword">true</span>;</div><div class="line"><a name="l04127"></a><span class="lineno"> 4127</span>&#160;        InCLI = <span class="keyword">false</span>;</div><div class="line"><a name="l04128"></a><span class="lineno"> 4128</span>&#160;        debugActive = <span class="keyword">false</span>;</div><div class="line"><a name="l04129"></a><span class="lineno"> 4129</span>&#160;        inStepMode = <span class="keyword">false</span>;</div><div class="line"><a name="l04130"></a><span class="lineno"> 4130</span>&#160;        bpActive = <span class="keyword">false</span>;</div><div class="line"><a name="l04131"></a><span class="lineno"> 4131</span>&#160;        <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#afb82e69754f05995310a069c250bc21b">clearStacks</a>();</div><div class="line"><a name="l04132"></a><span class="lineno"> 4132</span>&#160;        commandLineArguments.clear();</div><div class="line"><a name="l04133"></a><span class="lineno"> 4133</span>&#160;    }</div><div class="ttc" id="class_nelson_1_1_array_of_html_a8a04a24d76151fdb9b41c9b3f9d918d2"><div class="ttname"><a href="../../d2/d46/class_nelson_1_1_array_of.html#a8a04a24d76151fdb9b41c9b3f9d918d2">Nelson::ArrayOf::setArrayOfIOInterface</a></div><div class="ttdeci">static void setArrayOfIOInterface(Interface *io)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d59/_array_of_8cpp_source.html#l00081">ArrayOf.cpp:81</a></div></div>
<div class="ttc" id="namespace_nelson_html_a9135b3b04744c8daff789e01b8e5e0f0"><div class="ttname"><a href="../../d5/d55/namespace_nelson.html#a9135b3b04744c8daff789e01b8e5e0f0">Nelson::InterruptPending</a></div><div class="ttdeci">bool InterruptPending</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00097">Evaluator.cpp:97</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_abdb69079dab69283f5009a1974137846"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#abdb69079dab69283f5009a1974137846">Nelson::Evaluator::resetState</a></div><div class="ttdeci">void resetState()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00171">Evaluator.cpp:171</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_afb82e69754f05995310a069c250bc21b"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#afb82e69754f05995310a069c250bc21b">Nelson::Evaluator::clearStacks</a></div><div class="ttdeci">void clearStacks()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00176">Evaluator.cpp:176</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0e511edb0ea263314c32087c9b472f9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e511edb0ea263314c32087c9b472f9d">&#9670;&nbsp;</a></span>~Evaluator()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Nelson::Evaluator::~Evaluator </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Destruct the <a class="el" href="../../d6/de2/class_nelson_1_1_evaluator.html">Evaluator</a> object. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l04135">4135</a> of file <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html">Evaluator.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l04136"></a><span class="lineno"> 4136</span>&#160;    {</div><div class="line"><a name="l04137"></a><span class="lineno"> 4137</span>&#160;        <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#afb82e69754f05995310a069c250bc21b">clearStacks</a>();</div><div class="line"><a name="l04138"></a><span class="lineno"> 4138</span>&#160;        commandLineArguments.clear();</div><div class="line"><a name="l04139"></a><span class="lineno"> 4139</span>&#160;        <span class="keywordflow">if</span> (lastException)</div><div class="line"><a name="l04140"></a><span class="lineno"> 4140</span>&#160;        {</div><div class="line"><a name="l04141"></a><span class="lineno"> 4141</span>&#160;            <span class="keyword">delete</span> lastException;</div><div class="line"><a name="l04142"></a><span class="lineno"> 4142</span>&#160;        }</div><div class="line"><a name="l04143"></a><span class="lineno"> 4143</span>&#160;    }</div><div class="ttc" id="class_nelson_1_1_evaluator_html_afb82e69754f05995310a069c250bc21b"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#afb82e69754f05995310a069c250bc21b">Nelson::Evaluator::clearStacks</a></div><div class="ttdeci">void clearStacks()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00176">Evaluator.cpp:176</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ad62679dd100002bb22adfa8198fd52a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad62679dd100002bb22adfa8198fd52a2">&#9670;&nbsp;</a></span>AutoStop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Nelson::Evaluator::AutoStop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the autostop flag - this flag determines what happens when an exception occurs </p>

<p class="definition">Definition at line <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l01028">1028</a> of file <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html">Evaluator.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    {</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;        <span class="keywordflow">return</span> autostop;</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a id="a548de9d4130e1c6c8c1298c68a2ebbd8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a548de9d4130e1c6c8c1298c68a2ebbd8">&#9670;&nbsp;</a></span>block()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Nelson::Evaluator::block </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">ASTPtr</a>&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Executes a sequence of statements, trapping exceptions as necessary. The <a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">AST</a> looks like &lt;ignored&gt; | statement-&gt;statement-&gt;statement If an exception occurs, it is caught and rethrown. The lasterr string is also set to the contents of the exception. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l02004">2004</a> of file <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html">Evaluator.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l00905">conditionedStatement()</a>, <a class="el" href="../../df/df8/_macro_function_def_8cpp_source.html#l00155">Nelson::MacroFunctionDef::evaluateFunction()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l04156">evaluateString()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l01316">forStatement()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l01170">ifStatement()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l01087">switchStatement()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l00935">testCaseStatement()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l00997">tryStatement()</a>, and <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l01226">whileStatement()</a>.</p>
<div class="fragment"><div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;    {</div><div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;        <span class="keywordflow">try</span></div><div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;        {</div><div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;            ASTPtr s = t-&gt;down;</div><div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;            <span class="keywordflow">if</span> (state &lt; NLS_STATE_QUIT)</div><div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;            {</div><div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;                <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#abdb69079dab69283f5009a1974137846">resetState</a>();</div><div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;            }</div><div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;            <span class="keywordflow">while</span> ((state &lt; NLS_STATE_QUIT) &amp;&amp; s != <span class="keyword">nullptr</span>)</div><div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;            {</div><div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;                <span class="keywordflow">if</span> (InterruptCallback)</div><div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;                {</div><div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;                    InterruptCallback = <span class="keyword">false</span>;</div><div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;                    <span class="keywordflow">return</span>;</div><div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;                }</div><div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;                <span class="keywordflow">else</span>  <span class="keywordflow">if</span> (<a class="code" href="../../d5/d55/namespace_nelson.html#a9135b3b04744c8daff789e01b8e5e0f0">InterruptPending</a>)</div><div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;                {</div><div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;                    io-&gt;<a class="code" href="../../da/d11/class_nelson_1_1_interface.html#af9306e16136e800f11c7d2cc8c5ea652">outputMessage</a>(L<span class="stringliteral">&quot;\n&quot;</span> + MSG_CTRL_C_DETECTED);</div><div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;                    state = NLS_STATE_ABORT;</div><div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;                    <a class="code" href="../../d5/d55/namespace_nelson.html#a9135b3b04744c8daff789e01b8e5e0f0">InterruptPending</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;                    <span class="keywordflow">return</span>;</div><div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;                }</div><div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;                <span class="keywordflow">else</span></div><div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;                {</div><div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;                    <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a905ee3f7d9ea351e4b99a99237ec28bb">statement</a>(s);</div><div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;                    <span class="keywordflow">if</span> (state == NLS_STATE_BREAK ||</div><div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;                            state == NLS_STATE_CONTINUE ||</div><div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;                            state == NLS_STATE_RETURN ||</div><div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;                            state == NLS_STATE_ABORT ||</div><div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;                            state == NLS_STATE_QUIT)</div><div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;                    {</div><div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;                    }</div><div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;                    s = s-&gt;right;</div><div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;                }</div><div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;            }</div><div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;        }</div><div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;        <span class="keywordflow">catch</span> (Exception &amp;e)</div><div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;        {</div><div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;            <span class="keywordflow">if</span> (!e.isEmpty())</div><div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;            {</div><div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;                <span class="keywordflow">if</span> (lastException)</div><div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;                {</div><div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;                    <span class="keyword">delete</span> lastException;</div><div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;                }</div><div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;                updateError(<span class="keyword">this</span>, e);</div><div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;                lastException = <span class="keyword">new</span> Exception(e);</div><div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;                throw ;</div><div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;            }</div><div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;        }</div><div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;    }</div><div class="ttc" id="class_nelson_1_1_interface_html_af9306e16136e800f11c7d2cc8c5ea652"><div class="ttname"><a href="../../da/d11/class_nelson_1_1_interface.html#af9306e16136e800f11c7d2cc8c5ea652">Nelson::Interface::outputMessage</a></div><div class="ttdeci">virtual void outputMessage(std::string msg)=0</div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_a905ee3f7d9ea351e4b99a99237ec28bb"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#a905ee3f7d9ea351e4b99a99237ec28bb">Nelson::Evaluator::statement</a></div><div class="ttdeci">void statement(ASTPtr t)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l01959">Evaluator.cpp:1959</a></div></div>
<div class="ttc" id="namespace_nelson_html_a9135b3b04744c8daff789e01b8e5e0f0"><div class="ttname"><a href="../../d5/d55/namespace_nelson.html#a9135b3b04744c8daff789e01b8e5e0f0">Nelson::InterruptPending</a></div><div class="ttdeci">bool InterruptPending</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00097">Evaluator.cpp:97</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_abdb69079dab69283f5009a1974137846"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#abdb69079dab69283f5009a1974137846">Nelson::Evaluator::resetState</a></div><div class="ttdeci">void resetState()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00171">Evaluator.cpp:171</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af89c4fe15d979653dc22d122e04df808"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af89c4fe15d979653dc22d122e04df808">&#9670;&nbsp;</a></span>cellDefinition()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d46/class_nelson_1_1_array_of.html">ArrayOf</a> Nelson::Evaluator::cellDefinition </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">ASTPtr</a>&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Convert a cell defintion of the form: {expr1,expr2;expr3;expr4} into a vector of row definitions. The first row is the vector {expr1,expr2}, and the second is the vector {expr3,expr4}. The <a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">AST</a> input should look like: {} | ;-&gt; ; -&gt; ... -&gt; NULL | | | rowDef rowDef </p>

<p class="definition">Definition at line <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l00349">349</a> of file <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html">Evaluator.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l00448">expression()</a>.</p>
<div class="fragment"><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    {</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        ArrayOfMatrix m;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        <span class="keywordflow">if</span> (t-&gt;opNum != OP_BRACES)</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        {</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;            Error(<span class="keyword">this</span>, ERROR_AST_SYNTAX_ERROR);</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        }</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        ASTPtr s = t-&gt;down;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#aee2051332070cc09eff626ef99c498bf">pushID</a>(s-&gt;context());</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        <span class="keywordflow">while</span> (s != <span class="keyword">nullptr</span>)</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        {</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;            m.push_back(<a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a819e13bde9b0cfd872bdf93a4834f88c">rowDefinition</a>(s));</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;            s = s-&gt;right;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        }</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        ArrayOf retval(<a class="code" href="../../d2/d46/class_nelson_1_1_array_of.html#aa1be6f2ac7b731937fa318a741445160">ArrayOf::cellConstructor</a>(m));</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#ab2b3dd35cd205fa6f4b80882fd937481">popID</a>();</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        <span class="keywordflow">return</span> retval;</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    }</div><div class="ttc" id="class_nelson_1_1_evaluator_html_aee2051332070cc09eff626ef99c498bf"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#aee2051332070cc09eff626ef99c498bf">Nelson::Evaluator::pushID</a></div><div class="ttdeci">void pushID(int)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00133">Evaluator.cpp:133</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_a819e13bde9b0cfd872bdf93a4834f88c"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#a819e13bde9b0cfd872bdf93a4834f88c">Nelson::Evaluator::rowDefinition</a></div><div class="ttdeci">ArrayOfVector rowDefinition(ASTPtr t)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00206">Evaluator.cpp:206</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_ab2b3dd35cd205fa6f4b80882fd937481"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#ab2b3dd35cd205fa6f4b80882fd937481">Nelson::Evaluator::popID</a></div><div class="ttdeci">void popID()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00149">Evaluator.cpp:149</a></div></div>
<div class="ttc" id="class_nelson_1_1_array_of_html_aa1be6f2ac7b731937fa318a741445160"><div class="ttname"><a href="../../d2/d46/class_nelson_1_1_array_of.html#aa1be6f2ac7b731937fa318a741445160">Nelson::ArrayOf::cellConstructor</a></div><div class="ttdeci">static ArrayOf cellConstructor(ArrayOfMatrix &amp;m)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d41/_array_of___cell_type_8cpp_source.html#l00029">ArrayOf_CellType.cpp:29</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="afb82e69754f05995310a069c250bc21b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb82e69754f05995310a069c250bc21b">&#9670;&nbsp;</a></span>clearStacks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Nelson::Evaluator::clearStacks </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Clear the context stacks. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l00176">176</a> of file <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html">Evaluator.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l04111">Evaluator()</a>, and <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l04135">~Evaluator()</a>.</p>
<div class="fragment"><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    {</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        <span class="comment">//    cname = &quot;base&quot;;</span></div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        cstack.clear();</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        <span class="comment">//        cstack.reserve(4096 * 2);</span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        <span class="comment">//    gstack.push_back(cname);</span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a id="a25f34dd0529f4d21c7e758ae81093084"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25f34dd0529f4d21c7e758ae81093084">&#9670;&nbsp;</a></span>conditionedStatement()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Nelson::Evaluator::conditionedStatement </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">ASTPtr</a>&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Test a conditional expression, and if its true, evaluate the associated block of code. Used by a number of control constructs. The <a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">AST</a> looks like: cstat | expr-&gt;codeBlock The expression output is treated as false if the real part is all zeros. Throws an <a class="el" href="../../db/db9/class_nelson_1_1_exception.html">Exception</a> if the head of the <a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">AST</a> is not a cstat. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l00905">905</a> of file <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html">Evaluator.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l01170">ifStatement()</a>.</p>
<div class="fragment"><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    {</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;        <span class="keywordtype">bool</span> conditionState;</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;        <span class="keywordflow">if</span> (t-&gt;opNum != OP_CSTAT)</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;        {</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;            Error(<span class="keyword">this</span>, ERROR_AST_SYNTAX_ERROR);</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;        }</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;        ASTPtr s = t-&gt;down;</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;        <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#aee2051332070cc09eff626ef99c498bf">pushID</a>(s-&gt;context());</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;        ArrayOf condVar;</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;        condVar = <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">expression</a>(s);</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;        conditionState = !condVar.isRealAllZeros();</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;        ASTPtr codeBlock = s-&gt;right;</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;        <span class="keywordflow">if</span> (conditionState)</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;        {</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;            <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a548de9d4130e1c6c8c1298c68a2ebbd8">block</a>(codeBlock);</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;        }</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;        <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#ab2b3dd35cd205fa6f4b80882fd937481">popID</a>();</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;        <span class="keywordflow">return</span> conditionState;</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    }</div><div class="ttc" id="class_nelson_1_1_evaluator_html_aee2051332070cc09eff626ef99c498bf"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#aee2051332070cc09eff626ef99c498bf">Nelson::Evaluator::pushID</a></div><div class="ttdeci">void pushID(int)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00133">Evaluator.cpp:133</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_a85a1b68ec34f3e8a7c855e4bb860cbf1"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">Nelson::Evaluator::expression</a></div><div class="ttdeci">ArrayOf expression(ASTPtr t)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00448">Evaluator.cpp:448</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_ab2b3dd35cd205fa6f4b80882fd937481"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#ab2b3dd35cd205fa6f4b80882fd937481">Nelson::Evaluator::popID</a></div><div class="ttdeci">void popID()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00149">Evaluator.cpp:149</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_a548de9d4130e1c6c8c1298c68a2ebbd8"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#a548de9d4130e1c6c8c1298c68a2ebbd8">Nelson::Evaluator::block</a></div><div class="ttdeci">void block(ASTPtr t)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l02004">Evaluator.cpp:2004</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2aad12426134bea3d1a49eac0bcf97e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2aad12426134bea3d1a49eac0bcf97e6">&#9670;&nbsp;</a></span>disableOverload()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Nelson::Evaluator::disableOverload </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>disable overload </p>

<p class="definition">Definition at line <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l04415">4415</a> of file <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html">Evaluator.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l04416"></a><span class="lineno"> 4416</span>&#160;    {</div><div class="line"><a name="l04417"></a><span class="lineno"> 4417</span>&#160;        bAllowOverload = <span class="keyword">false</span>;</div><div class="line"><a name="l04418"></a><span class="lineno"> 4418</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a id="a5278eb907d7f759cbe37951f82401200"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5278eb907d7f759cbe37951f82401200">&#9670;&nbsp;</a></span>doubleColon()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d46/class_nelson_1_1_array_of.html">ArrayOf</a> Nelson::Evaluator::doubleColon </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">ASTPtr</a>&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Evaluate a double colon expression. The <a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">AST</a> input should look like: : | :-&gt;expr3 | expr1-&gt;expr2 The output is the expression expr1:expr2:expr3, which is the vector [expr1,expr1+expr2,expr1+2*expr2,...,expr1+n*expr2], where n is the largest integer such that expr1+n*expr2 &lt;= expr3. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l00769">769</a> of file <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html">Evaluator.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l00448">expression()</a>.</p>
<div class="fragment"><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    {</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;        ArrayOf a, b, c;</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;        <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#aee2051332070cc09eff626ef99c498bf">pushID</a>(t-&gt;context());</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;        a = <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">expression</a>(t-&gt;down-&gt;down);</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;        b = <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">expression</a>(t-&gt;down-&gt;down-&gt;right);</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;        c = <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">expression</a>(t-&gt;down-&gt;right);</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;        ArrayOfVector argsOut = CallOperatorFunction(<span class="keyword">this</span>, <span class="stringliteral">&quot;colon&quot;</span>, a, b, c, 1);</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;        ArrayOf retval = argsOut[0];</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;        <span class="comment">/*</span></div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;<span class="comment">        ArrayOf retval(DoubleColon(a, b, c));</span></div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;<span class="comment">        */</span></div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;        <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#ab2b3dd35cd205fa6f4b80882fd937481">popID</a>();</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;        <span class="keywordflow">return</span> retval;</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    }</div><div class="ttc" id="class_nelson_1_1_evaluator_html_aee2051332070cc09eff626ef99c498bf"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#aee2051332070cc09eff626ef99c498bf">Nelson::Evaluator::pushID</a></div><div class="ttdeci">void pushID(int)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00133">Evaluator.cpp:133</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_a85a1b68ec34f3e8a7c855e4bb860cbf1"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">Nelson::Evaluator::expression</a></div><div class="ttdeci">ArrayOf expression(ASTPtr t)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00448">Evaluator.cpp:448</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_ab2b3dd35cd205fa6f4b80882fd937481"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#ab2b3dd35cd205fa6f4b80882fd937481">Nelson::Evaluator::popID</a></div><div class="ttdeci">void popID()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00149">Evaluator.cpp:149</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2f4a239d037644fe2d800a473ebce337"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f4a239d037644fe2d800a473ebce337">&#9670;&nbsp;</a></span>enableOverload()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Nelson::Evaluator::enableOverload </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>enable overload </p>

<p class="definition">Definition at line <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l04420">4420</a> of file <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html">Evaluator.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l04421"></a><span class="lineno"> 4421</span>&#160;    {</div><div class="line"><a name="l04422"></a><span class="lineno"> 4422</span>&#160;        bAllowOverload = <span class="keyword">true</span>;</div><div class="line"><a name="l04423"></a><span class="lineno"> 4423</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a id="a1d55731dc47cd7b4a5b08a747d34832d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d55731dc47cd7b4a5b08a747d34832d">&#9670;&nbsp;</a></span>evalCLI()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Nelson::Evaluator::evalCLI </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Start a command line interface. Statements are retrieved from the console, and executed sequentially until a "return" statement is executed or the user presses 'CTRL-D'. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l04453">4453</a> of file <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html">Evaluator.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l01316">forStatement()</a>, and <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l01712">statementType()</a>.</p>
<div class="fragment"><div class="line"><a name="l04454"></a><span class="lineno"> 4454</span>&#160;    {</div><div class="line"><a name="l04455"></a><span class="lineno"> 4455</span>&#160;        std::string cmdline = <span class="stringliteral">&quot;\0&quot;</span>;</div><div class="line"><a name="l04456"></a><span class="lineno"> 4456</span>&#160;        std::string dataline = <span class="stringliteral">&quot;\0&quot;</span>;</div><div class="line"><a name="l04457"></a><span class="lineno"> 4457</span>&#160;        std::string prompt = <span class="stringliteral">&quot;\0&quot;</span>;</div><div class="line"><a name="l04458"></a><span class="lineno"> 4458</span>&#160;        <span class="keywordflow">while</span> (1)</div><div class="line"><a name="l04459"></a><span class="lineno"> 4459</span>&#160;        {</div><div class="line"><a name="l04460"></a><span class="lineno"> 4460</span>&#160;            <span class="keywordflow">if</span> (!bpActive)</div><div class="line"><a name="l04461"></a><span class="lineno"> 4461</span>&#160;            {</div><div class="line"><a name="l04462"></a><span class="lineno"> 4462</span>&#160;                <span class="comment">// clear macros cache at the prompt</span></div><div class="line"><a name="l04463"></a><span class="lineno"> 4463</span>&#160;                stringVector exceptedFunctionsName = this-&gt;getCallers(<span class="keyword">true</span>);</div><div class="line"><a name="l04464"></a><span class="lineno"> 4464</span>&#160;                PathFuncManager::getInstance()-&gt;clearCache(exceptedFunctionsName);</div><div class="line"><a name="l04465"></a><span class="lineno"> 4465</span>&#160;                FileWatcherManager::getInstance()-&gt;update();</div><div class="line"><a name="l04466"></a><span class="lineno"> 4466</span>&#160;            }</div><div class="line"><a name="l04467"></a><span class="lineno"> 4467</span>&#160;            prompt = buildPrompt();</div><div class="line"><a name="l04468"></a><span class="lineno"> 4468</span>&#160;            <span class="keywordflow">if</span> (commandQueue.isEmpty())</div><div class="line"><a name="l04469"></a><span class="lineno"> 4469</span>&#160;            {</div><div class="line"><a name="l04470"></a><span class="lineno"> 4470</span>&#160;                cmdline = io-&gt;<a class="code" href="../../da/d11/class_nelson_1_1_interface.html#ae892114537927b9f5969951a9b6b5a52">getLine</a>(prompt);</div><div class="line"><a name="l04471"></a><span class="lineno"> 4471</span>&#160;                <span class="keywordflow">if</span> (cmdline.empty())</div><div class="line"><a name="l04472"></a><span class="lineno"> 4472</span>&#160;                {</div><div class="line"><a name="l04473"></a><span class="lineno"> 4473</span>&#160;                    InCLI = <span class="keyword">false</span>;</div><div class="line"><a name="l04474"></a><span class="lineno"> 4474</span>&#160;                    this-&gt;<a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#ae3fd0fa5603d666ea58b78b7d3904f79">setState</a>(NLS_STATE_QUIT);</div><div class="line"><a name="l04475"></a><span class="lineno"> 4475</span>&#160;                    <span class="keywordflow">return</span>;</div><div class="line"><a name="l04476"></a><span class="lineno"> 4476</span>&#160;                }</div><div class="line"><a name="l04477"></a><span class="lineno"> 4477</span>&#160;                <span class="keywordflow">else</span></div><div class="line"><a name="l04478"></a><span class="lineno"> 4478</span>&#160;                {</div><div class="line"><a name="l04479"></a><span class="lineno"> 4479</span>&#160;                    <span class="keywordtype">char</span> ch = *cmdline.rbegin();</div><div class="line"><a name="l04480"></a><span class="lineno"> 4480</span>&#160;                    <span class="keywordflow">if</span> (ch != <span class="charliteral">&#39;\n&#39;</span>)</div><div class="line"><a name="l04481"></a><span class="lineno"> 4481</span>&#160;                    {</div><div class="line"><a name="l04482"></a><span class="lineno"> 4482</span>&#160;                        cmdline.push_back(<span class="charliteral">&#39;\n&#39;</span>);</div><div class="line"><a name="l04483"></a><span class="lineno"> 4483</span>&#160;                    }</div><div class="line"><a name="l04484"></a><span class="lineno"> 4484</span>&#160;                }</div><div class="line"><a name="l04485"></a><span class="lineno"> 4485</span>&#160;            }</div><div class="line"><a name="l04486"></a><span class="lineno"> 4486</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l04487"></a><span class="lineno"> 4487</span>&#160;            {</div><div class="line"><a name="l04488"></a><span class="lineno"> 4488</span>&#160;                commandQueue.get(cmdline);</div><div class="line"><a name="l04489"></a><span class="lineno"> 4489</span>&#160;            }</div><div class="line"><a name="l04490"></a><span class="lineno"> 4490</span>&#160;            <span class="comment">// scan the line and tokenize it</span></div><div class="line"><a name="l04491"></a><span class="lineno"> 4491</span>&#160;            resetAstBackupPosition();</div><div class="line"><a name="l04492"></a><span class="lineno"> 4492</span>&#160;            <a class="code" href="../../d5/d55/namespace_nelson.html#aecda56dd00d9a9bed1f22a7584ca8898">setLexBuffer</a>(cmdline.c_str());</div><div class="line"><a name="l04493"></a><span class="lineno"> 4493</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l04494"></a><span class="lineno"> 4494</span>&#160;            {</div><div class="line"><a name="l04495"></a><span class="lineno"> 4495</span>&#160;                <span class="keywordtype">int</span> lastCount = <a class="code" href="../../d5/d55/namespace_nelson.html#af554cc0f0207c516f30636b5d954f4e2">getContinuationCount</a>();</div><div class="line"><a name="l04496"></a><span class="lineno"> 4496</span>&#160;                <span class="keywordtype">bool</span> bContinueLine = <a class="code" href="../../d5/d55/namespace_nelson.html#aebf0826309a13c7aa2ca7e33c13ab7fe">lexCheckForMoreInput</a>(0);</div><div class="line"><a name="l04497"></a><span class="lineno"> 4497</span>&#160;                deleteAstVector(getAstUsed());</div><div class="line"><a name="l04498"></a><span class="lineno"> 4498</span>&#160;                resetAstBackupPosition();</div><div class="line"><a name="l04499"></a><span class="lineno"> 4499</span>&#160;                <span class="keywordflow">if</span> (bContinueLine)</div><div class="line"><a name="l04500"></a><span class="lineno"> 4500</span>&#160;                {</div><div class="line"><a name="l04501"></a><span class="lineno"> 4501</span>&#160;                    dataline = cmdline;</div><div class="line"><a name="l04502"></a><span class="lineno"> 4502</span>&#160;                    <span class="keywordtype">bool</span> enoughInput = <span class="keyword">false</span>;</div><div class="line"><a name="l04503"></a><span class="lineno"> 4503</span>&#160;                    <span class="comment">// Loop until we have enough input</span></div><div class="line"><a name="l04504"></a><span class="lineno"> 4504</span>&#160;                    <span class="keywordflow">while</span> (!enoughInput)</div><div class="line"><a name="l04505"></a><span class="lineno"> 4505</span>&#160;                    {</div><div class="line"><a name="l04506"></a><span class="lineno"> 4506</span>&#160;                        cmdline = io-&gt;<a class="code" href="../../da/d11/class_nelson_1_1_interface.html#ae892114537927b9f5969951a9b6b5a52">getLine</a>(<span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l04507"></a><span class="lineno"> 4507</span>&#160;                        <span class="comment">// User pressed ctrl-D (or equivalent) - stop looking for</span></div><div class="line"><a name="l04508"></a><span class="lineno"> 4508</span>&#160;                        <span class="keywordflow">if</span> (cmdline.size() == 0)</div><div class="line"><a name="l04509"></a><span class="lineno"> 4509</span>&#160;                        {</div><div class="line"><a name="l04510"></a><span class="lineno"> 4510</span>&#160;                            <span class="keywordflow">if</span> (<a class="code" href="../../d5/d55/namespace_nelson.html#a9135b3b04744c8daff789e01b8e5e0f0">InterruptPending</a>)</div><div class="line"><a name="l04511"></a><span class="lineno"> 4511</span>&#160;                            {</div><div class="line"><a name="l04512"></a><span class="lineno"> 4512</span>&#160;                                cmdline = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l04513"></a><span class="lineno"> 4513</span>&#160;                                <span class="keywordflow">return</span>;</div><div class="line"><a name="l04514"></a><span class="lineno"> 4514</span>&#160;                            }</div><div class="line"><a name="l04515"></a><span class="lineno"> 4515</span>&#160;                            enoughInput = <span class="keyword">false</span>;</div><div class="line"><a name="l04516"></a><span class="lineno"> 4516</span>&#160;                        }</div><div class="line"><a name="l04517"></a><span class="lineno"> 4517</span>&#160;                        <span class="keywordflow">else</span></div><div class="line"><a name="l04518"></a><span class="lineno"> 4518</span>&#160;                        {</div><div class="line"><a name="l04519"></a><span class="lineno"> 4519</span>&#160;                            <span class="keywordtype">char</span> ch = *cmdline.rbegin();</div><div class="line"><a name="l04520"></a><span class="lineno"> 4520</span>&#160;                            <span class="keywordflow">if</span> (ch != <span class="charliteral">&#39;\n&#39;</span>)</div><div class="line"><a name="l04521"></a><span class="lineno"> 4521</span>&#160;                            {</div><div class="line"><a name="l04522"></a><span class="lineno"> 4522</span>&#160;                                cmdline.push_back(<span class="charliteral">&#39;\n&#39;</span>);</div><div class="line"><a name="l04523"></a><span class="lineno"> 4523</span>&#160;                            }</div><div class="line"><a name="l04524"></a><span class="lineno"> 4524</span>&#160;                            <span class="comment">// User didn&#39;t press ctrl-D -</span></div><div class="line"><a name="l04525"></a><span class="lineno"> 4525</span>&#160;                            <span class="comment">// tack the new text onto the dataline</span></div><div class="line"><a name="l04526"></a><span class="lineno"> 4526</span>&#160;                            dataline.append(cmdline);</div><div class="line"><a name="l04527"></a><span class="lineno"> 4527</span>&#160;                            resetAstBackupPosition();</div><div class="line"><a name="l04528"></a><span class="lineno"> 4528</span>&#160;                            <a class="code" href="../../d5/d55/namespace_nelson.html#aecda56dd00d9a9bed1f22a7584ca8898">setLexBuffer</a>(dataline.c_str());</div><div class="line"><a name="l04529"></a><span class="lineno"> 4529</span>&#160;                            <span class="comment">// Update the check</span></div><div class="line"><a name="l04530"></a><span class="lineno"> 4530</span>&#160;                            enoughInput = !<a class="code" href="../../d5/d55/namespace_nelson.html#aebf0826309a13c7aa2ca7e33c13ab7fe">lexCheckForMoreInput</a>(lastCount);</div><div class="line"><a name="l04531"></a><span class="lineno"> 4531</span>&#160;                            deleteAstVector(getAstUsed());</div><div class="line"><a name="l04532"></a><span class="lineno"> 4532</span>&#160;                            resetAstBackupPosition();</div><div class="line"><a name="l04533"></a><span class="lineno"> 4533</span>&#160;                            lastCount = <a class="code" href="../../d5/d55/namespace_nelson.html#af554cc0f0207c516f30636b5d954f4e2">getContinuationCount</a>();</div><div class="line"><a name="l04534"></a><span class="lineno"> 4534</span>&#160;                            <span class="keywordflow">if</span> (enoughInput)</div><div class="line"><a name="l04535"></a><span class="lineno"> 4535</span>&#160;                            {</div><div class="line"><a name="l04536"></a><span class="lineno"> 4536</span>&#160;                                <span class="keywordflow">if</span> (dataline[dataline.size() - 1] != <span class="charliteral">&#39;\n&#39;</span>)</div><div class="line"><a name="l04537"></a><span class="lineno"> 4537</span>&#160;                                {</div><div class="line"><a name="l04538"></a><span class="lineno"> 4538</span>&#160;                                    dataline.push_back(<span class="charliteral">&#39;\n&#39;</span>);</div><div class="line"><a name="l04539"></a><span class="lineno"> 4539</span>&#160;                                }</div><div class="line"><a name="l04540"></a><span class="lineno"> 4540</span>&#160;                            }</div><div class="line"><a name="l04541"></a><span class="lineno"> 4541</span>&#160;                            <span class="keywordflow">else</span></div><div class="line"><a name="l04542"></a><span class="lineno"> 4542</span>&#160;                            {</div><div class="line"><a name="l04543"></a><span class="lineno"> 4543</span>&#160;                            }</div><div class="line"><a name="l04544"></a><span class="lineno"> 4544</span>&#160;                            cmdline = dataline;</div><div class="line"><a name="l04545"></a><span class="lineno"> 4545</span>&#160;                        }</div><div class="line"><a name="l04546"></a><span class="lineno"> 4546</span>&#160;                    }</div><div class="line"><a name="l04547"></a><span class="lineno"> 4547</span>&#160;                }</div><div class="line"><a name="l04548"></a><span class="lineno"> 4548</span>&#160;            }</div><div class="line"><a name="l04549"></a><span class="lineno"> 4549</span>&#160;            <span class="keywordflow">catch</span> (Exception &amp;e)</div><div class="line"><a name="l04550"></a><span class="lineno"> 4550</span>&#160;            {</div><div class="line"><a name="l04551"></a><span class="lineno"> 4551</span>&#160;                e.printMe(io);</div><div class="line"><a name="l04552"></a><span class="lineno"> 4552</span>&#160;            }</div><div class="line"><a name="l04553"></a><span class="lineno"> 4553</span>&#160;            InCLI = <span class="keyword">true</span>;</div><div class="line"><a name="l04554"></a><span class="lineno"> 4554</span>&#160;            <span class="keywordflow">if</span> (cmdline.size() &gt; 0 &amp;&amp; cmdline != <span class="stringliteral">&quot;\n&quot;</span>)</div><div class="line"><a name="l04555"></a><span class="lineno"> 4555</span>&#160;            {</div><div class="line"><a name="l04556"></a><span class="lineno"> 4556</span>&#160;                <span class="keywordtype">size_t</span> stackdepth;</div><div class="line"><a name="l04557"></a><span class="lineno"> 4557</span>&#160;                stackdepth = cstack.size();</div><div class="line"><a name="l04558"></a><span class="lineno"> 4558</span>&#160;                <span class="keywordtype">bool</span> tresult = <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a09ffa7b341e66c0c2a61f3cc13679b6a">evaluateString</a>(cmdline, <span class="keyword">false</span>);</div><div class="line"><a name="l04559"></a><span class="lineno"> 4559</span>&#160;                <span class="keywordflow">while</span> (cstack.size() &gt; stackdepth)</div><div class="line"><a name="l04560"></a><span class="lineno"> 4560</span>&#160;                {</div><div class="line"><a name="l04561"></a><span class="lineno"> 4561</span>&#160;                    cstack.pop_back();</div><div class="line"><a name="l04562"></a><span class="lineno"> 4562</span>&#160;                }</div><div class="line"><a name="l04563"></a><span class="lineno"> 4563</span>&#160;                <span class="keywordflow">if</span> (!tresult || this-&gt;<a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a0d7cd4e6fb82eaa6675e2a152def2c4c">getState</a>() == NLS_STATE_QUIT || this-&gt;<a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a0d7cd4e6fb82eaa6675e2a152def2c4c">getState</a>() == NLS_STATE_ABORT)</div><div class="line"><a name="l04564"></a><span class="lineno"> 4564</span>&#160;                {</div><div class="line"><a name="l04565"></a><span class="lineno"> 4565</span>&#160;                    InCLI = <span class="keyword">false</span>;</div><div class="line"><a name="l04566"></a><span class="lineno"> 4566</span>&#160;                    <span class="keywordflow">return</span>;</div><div class="line"><a name="l04567"></a><span class="lineno"> 4567</span>&#160;                }</div><div class="line"><a name="l04568"></a><span class="lineno"> 4568</span>&#160;            }</div><div class="line"><a name="l04569"></a><span class="lineno"> 4569</span>&#160;        }</div><div class="line"><a name="l04570"></a><span class="lineno"> 4570</span>&#160;    }</div><div class="ttc" id="class_nelson_1_1_evaluator_html_a0d7cd4e6fb82eaa6675e2a152def2c4c"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#a0d7cd4e6fb82eaa6675e2a152def2c4c">Nelson::Evaluator::getState</a></div><div class="ttdeci">State getState()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00191">Evaluator.cpp:191</a></div></div>
<div class="ttc" id="namespace_nelson_html_af554cc0f0207c516f30636b5d954f4e2"><div class="ttname"><a href="../../d5/d55/namespace_nelson.html#af554cc0f0207c516f30636b5d954f4e2">Nelson::getContinuationCount</a></div><div class="ttdeci">int getContinuationCount()</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d2b/_nelson_lexer_8cpp_source.html#l01057">NelsonLexer.cpp:1057</a></div></div>
<div class="ttc" id="class_nelson_1_1_interface_html_ae892114537927b9f5969951a9b6b5a52"><div class="ttname"><a href="../../da/d11/class_nelson_1_1_interface.html#ae892114537927b9f5969951a9b6b5a52">Nelson::Interface::getLine</a></div><div class="ttdeci">virtual std::string getLine(std::string prompt)=0</div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_a09ffa7b341e66c0c2a61f3cc13679b6a"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#a09ffa7b341e66c0c2a61f3cc13679b6a">Nelson::Evaluator::evaluateString</a></div><div class="ttdeci">bool evaluateString(std::string cmdToEvaluate, bool propogateException=true)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l04156">Evaluator.cpp:4156</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_ae3fd0fa5603d666ea58b78b7d3904f79"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#ae3fd0fa5603d666ea58b78b7d3904f79">Nelson::Evaluator::setState</a></div><div class="ttdeci">State setState(State newState)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00184">Evaluator.cpp:184</a></div></div>
<div class="ttc" id="namespace_nelson_html_aecda56dd00d9a9bed1f22a7584ca8898"><div class="ttname"><a href="../../d5/d55/namespace_nelson.html#aecda56dd00d9a9bed1f22a7584ca8898">Nelson::setLexBuffer</a></div><div class="ttdeci">void setLexBuffer(const char *buf)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d2b/_nelson_lexer_8cpp_source.html#l00997">NelsonLexer.cpp:997</a></div></div>
<div class="ttc" id="namespace_nelson_html_a9135b3b04744c8daff789e01b8e5e0f0"><div class="ttname"><a href="../../d5/d55/namespace_nelson.html#a9135b3b04744c8daff789e01b8e5e0f0">Nelson::InterruptPending</a></div><div class="ttdeci">bool InterruptPending</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00097">Evaluator.cpp:97</a></div></div>
<div class="ttc" id="namespace_nelson_html_aebf0826309a13c7aa2ca7e33c13ab7fe"><div class="ttname"><a href="../../d5/d55/namespace_nelson.html#aebf0826309a13c7aa2ca7e33c13ab7fe">Nelson::lexCheckForMoreInput</a></div><div class="ttdeci">bool lexCheckForMoreInput(int ccount)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d2b/_nelson_lexer_8cpp_source.html#l01040">NelsonLexer.cpp:1040</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a09ffa7b341e66c0c2a61f3cc13679b6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09ffa7b341e66c0c2a61f3cc13679b6a">&#9670;&nbsp;</a></span>evaluateString()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Nelson::Evaluator::evaluateString </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>cmdToEvaluate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>propogateException</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The workhorse routine - "evaluate" the contents of a string and execute it. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l04156">4156</a> of file <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html">Evaluator.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l04453">evalCLI()</a>.</p>
<div class="fragment"><div class="line"><a name="l04157"></a><span class="lineno"> 4157</span>&#160;    {</div><div class="line"><a name="l04158"></a><span class="lineno"> 4158</span>&#160;        ASTPtr tree = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l04159"></a><span class="lineno"> 4159</span>&#160;        <a class="code" href="../../d5/d55/namespace_nelson.html#a51b7455ca98cb4e4c58d3d17e9dde18b">ParserState</a> parserState = ParseError;</div><div class="line"><a name="l04160"></a><span class="lineno"> 4160</span>&#160;        <a class="code" href="../../d5/d55/namespace_nelson.html#a9135b3b04744c8daff789e01b8e5e0f0">InterruptPending</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l04161"></a><span class="lineno"> 4161</span>&#160;        <span class="keywordflow">if</span> (line.size() == 0)</div><div class="line"><a name="l04162"></a><span class="lineno"> 4162</span>&#160;        {</div><div class="line"><a name="l04163"></a><span class="lineno"> 4163</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l04164"></a><span class="lineno"> 4164</span>&#160;        }</div><div class="line"><a name="l04165"></a><span class="lineno"> 4165</span>&#160;        <span class="keywordtype">char</span> ch = *line.rbegin();</div><div class="line"><a name="l04166"></a><span class="lineno"> 4166</span>&#160;        std::string command;</div><div class="line"><a name="l04167"></a><span class="lineno"> 4167</span>&#160;        <span class="comment">// we add &lt;RETURN&gt; at the end</span></div><div class="line"><a name="l04168"></a><span class="lineno"> 4168</span>&#160;        <span class="comment">// the command need a &lt;RETURN&gt; to be correctly parser</span></div><div class="line"><a name="l04169"></a><span class="lineno"> 4169</span>&#160;        <span class="keywordflow">if</span> (ch != <span class="charliteral">&#39;\n&#39;</span>)</div><div class="line"><a name="l04170"></a><span class="lineno"> 4170</span>&#160;        {</div><div class="line"><a name="l04171"></a><span class="lineno"> 4171</span>&#160;            command = line + <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l04172"></a><span class="lineno"> 4172</span>&#160;        }</div><div class="line"><a name="l04173"></a><span class="lineno"> 4173</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l04174"></a><span class="lineno"> 4174</span>&#160;        {</div><div class="line"><a name="l04175"></a><span class="lineno"> 4175</span>&#160;            command = line;</div><div class="line"><a name="l04176"></a><span class="lineno"> 4176</span>&#160;        }</div><div class="line"><a name="l04177"></a><span class="lineno"> 4177</span>&#160;        resetAstBackupPosition();</div><div class="line"><a name="l04178"></a><span class="lineno"> 4178</span>&#160;        boost::container::vector&lt;ASTPtr&gt; pt;</div><div class="line"><a name="l04179"></a><span class="lineno"> 4179</span>&#160;        <span class="keywordflow">try</span></div><div class="line"><a name="l04180"></a><span class="lineno"> 4180</span>&#160;        {</div><div class="line"><a name="l04181"></a><span class="lineno"> 4181</span>&#160;            parserState = <a class="code" href="../../d5/d55/namespace_nelson.html#ad95982a32de00fd6e3d706110ea74ec5">parseString</a>(command);</div><div class="line"><a name="l04182"></a><span class="lineno"> 4182</span>&#160;            pt = getAstUsed();</div><div class="line"><a name="l04183"></a><span class="lineno"> 4183</span>&#160;        }</div><div class="line"><a name="l04184"></a><span class="lineno"> 4184</span>&#160;        <span class="keywordflow">catch</span> (Exception &amp;e)</div><div class="line"><a name="l04185"></a><span class="lineno"> 4185</span>&#160;        {</div><div class="line"><a name="l04186"></a><span class="lineno"> 4186</span>&#160;            deleteAstVector(getAstUsed());</div><div class="line"><a name="l04187"></a><span class="lineno"> 4187</span>&#160;            resetAstBackupPosition();</div><div class="line"><a name="l04188"></a><span class="lineno"> 4188</span>&#160;            <a class="code" href="../../d5/d55/namespace_nelson.html#aaf7c52b6072e31b594ce86fe7cb1a637">resetParser</a>();</div><div class="line"><a name="l04189"></a><span class="lineno"> 4189</span>&#160;            <span class="keywordflow">if</span> (lastException)</div><div class="line"><a name="l04190"></a><span class="lineno"> 4190</span>&#160;            {</div><div class="line"><a name="l04191"></a><span class="lineno"> 4191</span>&#160;                <span class="keyword">delete</span> lastException;</div><div class="line"><a name="l04192"></a><span class="lineno"> 4192</span>&#160;            }</div><div class="line"><a name="l04193"></a><span class="lineno"> 4193</span>&#160;            lastException = <span class="keyword">new</span> Exception(e);</div><div class="line"><a name="l04194"></a><span class="lineno"> 4194</span>&#160;            <span class="keywordflow">if</span> (propogateException)</div><div class="line"><a name="l04195"></a><span class="lineno"> 4195</span>&#160;            {</div><div class="line"><a name="l04196"></a><span class="lineno"> 4196</span>&#160;                <span class="keywordflow">throw</span>;</div><div class="line"><a name="l04197"></a><span class="lineno"> 4197</span>&#160;            }</div><div class="line"><a name="l04198"></a><span class="lineno"> 4198</span>&#160;            e.printMe(io);</div><div class="line"><a name="l04199"></a><span class="lineno"> 4199</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l04200"></a><span class="lineno"> 4200</span>&#160;        }</div><div class="line"><a name="l04201"></a><span class="lineno"> 4201</span>&#160;        <span class="keywordflow">if</span> (parserState != ScriptBlock)</div><div class="line"><a name="l04202"></a><span class="lineno"> 4202</span>&#160;        {</div><div class="line"><a name="l04203"></a><span class="lineno"> 4203</span>&#160;            deleteAstVector(pt);</div><div class="line"><a name="l04204"></a><span class="lineno"> 4204</span>&#160;            resetAstBackupPosition();</div><div class="line"><a name="l04205"></a><span class="lineno"> 4205</span>&#160;            <a class="code" href="../../d5/d55/namespace_nelson.html#aaf7c52b6072e31b594ce86fe7cb1a637">resetParser</a>();</div><div class="line"><a name="l04206"></a><span class="lineno"> 4206</span>&#160;            <span class="keywordflow">if</span> (lastException)</div><div class="line"><a name="l04207"></a><span class="lineno"> 4207</span>&#160;            {</div><div class="line"><a name="l04208"></a><span class="lineno"> 4208</span>&#160;                <span class="keyword">delete</span> lastException;</div><div class="line"><a name="l04209"></a><span class="lineno"> 4209</span>&#160;            }</div><div class="line"><a name="l04210"></a><span class="lineno"> 4210</span>&#160;            Exception e(_W(<span class="stringliteral">&quot;a valid script expected.&quot;</span>));</div><div class="line"><a name="l04211"></a><span class="lineno"> 4211</span>&#160;            lastException = <span class="keyword">new</span> Exception(e);</div><div class="line"><a name="l04212"></a><span class="lineno"> 4212</span>&#160;            <span class="keywordflow">if</span> (propogateException)</div><div class="line"><a name="l04213"></a><span class="lineno"> 4213</span>&#160;            {</div><div class="line"><a name="l04214"></a><span class="lineno"> 4214</span>&#160;                <span class="keywordflow">throw</span>;</div><div class="line"><a name="l04215"></a><span class="lineno"> 4215</span>&#160;            }</div><div class="line"><a name="l04216"></a><span class="lineno"> 4216</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l04217"></a><span class="lineno"> 4217</span>&#160;        }</div><div class="line"><a name="l04218"></a><span class="lineno"> 4218</span>&#160;        tree = <a class="code" href="../../d5/d55/namespace_nelson.html#a8826b7c7fa44ded01279981cb588138e">getParsedScriptBlock</a>();</div><div class="line"><a name="l04219"></a><span class="lineno"> 4219</span>&#160;        pushDebug(<span class="stringliteral">&quot;EvaluateString&quot;</span>, command);</div><div class="line"><a name="l04220"></a><span class="lineno"> 4220</span>&#160;        <span class="keywordflow">if</span> (tree == <span class="keyword">nullptr</span>)</div><div class="line"><a name="l04221"></a><span class="lineno"> 4221</span>&#160;        {</div><div class="line"><a name="l04222"></a><span class="lineno"> 4222</span>&#160;            deleteAstVector(pt);</div><div class="line"><a name="l04223"></a><span class="lineno"> 4223</span>&#160;            resetAstBackupPosition();</div><div class="line"><a name="l04224"></a><span class="lineno"> 4224</span>&#160;            popDebug();</div><div class="line"><a name="l04225"></a><span class="lineno"> 4225</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l04226"></a><span class="lineno"> 4226</span>&#160;        }</div><div class="line"><a name="l04227"></a><span class="lineno"> 4227</span>&#160;        <span class="keywordflow">try</span></div><div class="line"><a name="l04228"></a><span class="lineno"> 4228</span>&#160;        {</div><div class="line"><a name="l04229"></a><span class="lineno"> 4229</span>&#160;            <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a548de9d4130e1c6c8c1298c68a2ebbd8">block</a>(tree);</div><div class="line"><a name="l04230"></a><span class="lineno"> 4230</span>&#160;            deleteAstVector(pt);</div><div class="line"><a name="l04231"></a><span class="lineno"> 4231</span>&#160;            resetAstBackupPosition();</div><div class="line"><a name="l04232"></a><span class="lineno"> 4232</span>&#160;            tree = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l04233"></a><span class="lineno"> 4233</span>&#160;            <span class="keywordflow">if</span> (state == NLS_STATE_RETURN)</div><div class="line"><a name="l04234"></a><span class="lineno"> 4234</span>&#160;            {</div><div class="line"><a name="l04235"></a><span class="lineno"> 4235</span>&#160;                <span class="keywordflow">if</span> (depth &gt; 0)</div><div class="line"><a name="l04236"></a><span class="lineno"> 4236</span>&#160;                {</div><div class="line"><a name="l04237"></a><span class="lineno"> 4237</span>&#160;                    popDebug();</div><div class="line"><a name="l04238"></a><span class="lineno"> 4238</span>&#160;                    depth--;</div><div class="line"><a name="l04239"></a><span class="lineno"> 4239</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l04240"></a><span class="lineno"> 4240</span>&#160;                }</div><div class="line"><a name="l04241"></a><span class="lineno"> 4241</span>&#160;            }</div><div class="line"><a name="l04242"></a><span class="lineno"> 4242</span>&#160;            <span class="keywordflow">if</span> (state == NLS_STATE_QUIT || state == NLS_STATE_ABORT)</div><div class="line"><a name="l04243"></a><span class="lineno"> 4243</span>&#160;            {</div><div class="line"><a name="l04244"></a><span class="lineno"> 4244</span>&#160;                popDebug();</div><div class="line"><a name="l04245"></a><span class="lineno"> 4245</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l04246"></a><span class="lineno"> 4246</span>&#160;            }</div><div class="line"><a name="l04247"></a><span class="lineno"> 4247</span>&#160;        }</div><div class="line"><a name="l04248"></a><span class="lineno"> 4248</span>&#160;        <span class="keywordflow">catch</span> (Exception &amp;e)</div><div class="line"><a name="l04249"></a><span class="lineno"> 4249</span>&#160;        {</div><div class="line"><a name="l04250"></a><span class="lineno"> 4250</span>&#160;            deleteAstVector(pt);</div><div class="line"><a name="l04251"></a><span class="lineno"> 4251</span>&#160;            resetAstBackupPosition();</div><div class="line"><a name="l04252"></a><span class="lineno"> 4252</span>&#160;            tree = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l04253"></a><span class="lineno"> 4253</span>&#160;            <span class="keywordflow">if</span> (lastException)</div><div class="line"><a name="l04254"></a><span class="lineno"> 4254</span>&#160;            {</div><div class="line"><a name="l04255"></a><span class="lineno"> 4255</span>&#160;                <span class="keyword">delete</span> lastException;</div><div class="line"><a name="l04256"></a><span class="lineno"> 4256</span>&#160;            }</div><div class="line"><a name="l04257"></a><span class="lineno"> 4257</span>&#160;            lastException = <span class="keyword">new</span> Exception(e);</div><div class="line"><a name="l04258"></a><span class="lineno"> 4258</span>&#160;            <span class="keywordflow">if</span> (propogateException)</div><div class="line"><a name="l04259"></a><span class="lineno"> 4259</span>&#160;            {</div><div class="line"><a name="l04260"></a><span class="lineno"> 4260</span>&#160;                <span class="keywordflow">throw</span>;</div><div class="line"><a name="l04261"></a><span class="lineno"> 4261</span>&#160;            }</div><div class="line"><a name="l04262"></a><span class="lineno"> 4262</span>&#160;            e.printMe(io);</div><div class="line"><a name="l04263"></a><span class="lineno"> 4263</span>&#160;            popDebug();</div><div class="line"><a name="l04264"></a><span class="lineno"> 4264</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l04265"></a><span class="lineno"> 4265</span>&#160;        }</div><div class="line"><a name="l04266"></a><span class="lineno"> 4266</span>&#160;        popDebug();</div><div class="line"><a name="l04267"></a><span class="lineno"> 4267</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l04268"></a><span class="lineno"> 4268</span>&#160;    }</div><div class="ttc" id="namespace_nelson_html_a8826b7c7fa44ded01279981cb588138e"><div class="ttname"><a href="../../d5/d55/namespace_nelson.html#a8826b7c7fa44ded01279981cb588138e">Nelson::getParsedScriptBlock</a></div><div class="ttdeci">ASTPtr getParsedScriptBlock()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de6/_nel_son_parser_8cpp_source.html#l03618">NelSonParser.cpp:3618</a></div></div>
<div class="ttc" id="namespace_nelson_html_ad95982a32de00fd6e3d706110ea74ec5"><div class="ttname"><a href="../../d5/d55/namespace_nelson.html#ad95982a32de00fd6e3d706110ea74ec5">Nelson::parseString</a></div><div class="ttdeci">ParserState parseString(std::string txt)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de6/_nel_son_parser_8cpp_source.html#l03640">NelSonParser.cpp:3640</a></div></div>
<div class="ttc" id="namespace_nelson_html_a9135b3b04744c8daff789e01b8e5e0f0"><div class="ttname"><a href="../../d5/d55/namespace_nelson.html#a9135b3b04744c8daff789e01b8e5e0f0">Nelson::InterruptPending</a></div><div class="ttdeci">bool InterruptPending</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00097">Evaluator.cpp:97</a></div></div>
<div class="ttc" id="namespace_nelson_html_aaf7c52b6072e31b594ce86fe7cb1a637"><div class="ttname"><a href="../../d5/d55/namespace_nelson.html#aaf7c52b6072e31b594ce86fe7cb1a637">Nelson::resetParser</a></div><div class="ttdeci">void resetParser()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de6/_nel_son_parser_8cpp_source.html#l03606">NelSonParser.cpp:3606</a></div></div>
<div class="ttc" id="namespace_nelson_html_a51b7455ca98cb4e4c58d3d17e9dde18b"><div class="ttname"><a href="../../d5/d55/namespace_nelson.html#a51b7455ca98cb4e4c58d3d17e9dde18b">Nelson::ParserState</a></div><div class="ttdeci">ParserState</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dcc/_parser_state_8hpp_source.html#l00031">ParserState.hpp:31</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_a548de9d4130e1c6c8c1298c68a2ebbd8"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#a548de9d4130e1c6c8c1298c68a2ebbd8">Nelson::Evaluator::block</a></div><div class="ttdeci">void block(ASTPtr t)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l02004">Evaluator.cpp:2004</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a85a1b68ec34f3e8a7c855e4bb860cbf1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85a1b68ec34f3e8a7c855e4bb860cbf1">&#9670;&nbsp;</a></span>expression()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d46/class_nelson_1_1_array_of.html">ArrayOf</a> Nelson::Evaluator::expression </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">ASTPtr</a>&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Evaluate the expression pointed to by the <a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">AST</a> t into a variable. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l00448">448</a> of file <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html">Evaluator.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l00349">cellDefinition()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l00905">conditionedStatement()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l00769">doubleColon()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l00791">expressionList()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l01316">forStatement()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l03096">functionExpression()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l03880">rhsExpression()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l00386">ShortCutOr()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l02062">simpleSubindexExpression()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l01712">statementType()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l01087">switchStatement()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l00935">testCaseStatement()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l00754">unitColon()</a>, and <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l01226">whileStatement()</a>.</p>
<div class="fragment"><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    {</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;        <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#aee2051332070cc09eff626ef99c498bf">pushID</a>(t-&gt;context());</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        ArrayOf retval;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;        <span class="comment">// by default as the target we create double</span></div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        <span class="keywordflow">if</span> (t-&gt;type == const_int_node)</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;        {</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;            retval = <a class="code" href="../../d2/d46/class_nelson_1_1_array_of.html#aedd1405b98c989e7f724693826998154">ArrayOf::doubleConstructor</a>(atof(t-&gt;text.c_str()));</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;        }</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (t-&gt;type == const_uint64_node)</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;        {</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;            <span class="keywordtype">char</span> *endptr = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;            <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> v = strtoull(t-&gt;text.c_str(), &amp;endptr, 10);</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;            uint64 r = (uint64)v;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;            retval = <a class="code" href="../../d2/d46/class_nelson_1_1_array_of.html#a1b522c22a2b049ad21f700732e41ddfb">ArrayOf::uint64Constructor</a>(r);</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        }</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (t-&gt;type == const_float_node)</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;        {</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;            retval = <a class="code" href="../../d2/d46/class_nelson_1_1_array_of.html#af739af3e2f0acce90a27ed421727e0bd">ArrayOf::singleConstructor</a>(((<span class="keywordtype">float</span>)atof(t-&gt;text.c_str())));</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        }</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (t-&gt;type == const_double_node)</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        {</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;            retval = <a class="code" href="../../d2/d46/class_nelson_1_1_array_of.html#aedd1405b98c989e7f724693826998154">ArrayOf::doubleConstructor</a>(atof(t-&gt;text.c_str()));</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        }</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (t-&gt;type == string_const_node)</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        {</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;            retval = <a class="code" href="../../d2/d46/class_nelson_1_1_array_of.html#a2ecb17d6702c4f4ea1204f57ada32dd1">ArrayOf::stringConstructor</a>(std::string(t-&gt;text.c_str()));</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        }</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (t-&gt;type == const_complex_node || t-&gt;type == const_dcomplex_node)</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;        {</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;            <span class="keywordtype">double</span> val = atof(t-&gt;text.c_str());</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;            <span class="keywordflow">if</span> (val == 0.)</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;            {</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;                retval = <a class="code" href="../../d2/d46/class_nelson_1_1_array_of.html#aedd1405b98c989e7f724693826998154">ArrayOf::doubleConstructor</a>(0.);</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;            }</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;            {</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;                retval = <a class="code" href="../../d2/d46/class_nelson_1_1_array_of.html#a410b980a458c67f56f096c59c44abf0f">ArrayOf::dcomplexConstructor</a>(0, val);</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;            }</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        }</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (t-&gt;type == reserved_node)</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;        {</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;            <span class="keywordflow">if</span> (t-&gt;tokenNumber == NLS_KEYWORD_END)</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;            {</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;                <span class="keywordflow">if</span> (endValStackLength == 0)</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                {</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;                    Error(<span class="keyword">this</span>, ERROR_END_ILLEGAL);</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;                }</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;                retval = <a class="code" href="../../d2/d46/class_nelson_1_1_array_of.html#aedd1405b98c989e7f724693826998154">ArrayOf::doubleConstructor</a>((<span class="keywordtype">double</span>)endValStack[endValStackLength - 1]);</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;            }</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;            {</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;                Error(<span class="keyword">this</span>, ERROR_UNRECOGNIZED_NODE);</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;            }</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;        }</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        {</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;            <span class="keywordflow">switch</span> (t-&gt;opNum)</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;            {</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;                <span class="keywordflow">case</span> OP_COLON:</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;                    <span class="keywordflow">if</span> ((t-&gt;down != <span class="keyword">nullptr</span>) &amp;&amp; (t-&gt;down-&gt;opNum == (OP_COLON)))</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;                    {</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;                        retval = <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a5278eb907d7f759cbe37951f82401200">doubleColon</a>(t);</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;                    }</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;                    <span class="keywordflow">else</span></div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;                    {</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;                        retval = <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a1c34660f5bcad3052804bb02ea654616">unitColon</a>(t);</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;                    }</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;                <span class="keywordflow">case</span> OP_EMPTY:</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;                {</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;                    retval = <a class="code" href="../../d2/d46/class_nelson_1_1_array_of.html#a9a613eca0888bdf0f07f112b6add495f">ArrayOf::emptyConstructor</a>();</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;                }</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;                <span class="keywordflow">case</span> OP_EMPTY_CELL:</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;                {</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;                    ArrayOf a(<a class="code" href="../../d2/d46/class_nelson_1_1_array_of.html#a9a613eca0888bdf0f07f112b6add495f">ArrayOf::emptyConstructor</a>());</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;                    a.promoteType(NLS_CELL_ARRAY);</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;                    retval = a;</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;                }</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;                <span class="keywordflow">case</span> OP_BRACKETS:</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;                {</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;                    retval = <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a47754c1a02877f50d6d8465a1c4f95f0">matrixDefinition</a>(t);</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;                }</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;                <span class="keywordflow">case</span> OP_BRACES:</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;                {</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;                    retval = <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#af89c4fe15d979653dc22d122e04df808">cellDefinition</a>(t);</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;                }</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;                <span class="keywordflow">case</span> OP_PLUS:</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;                {</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;                    ArrayOfVector argsOut = CallOperatorFunction(<span class="keyword">this</span>, <span class="stringliteral">&quot;plus&quot;</span>, <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">expression</a>(t-&gt;down), <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">expression</a>(t-&gt;down-&gt;right), 1);</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;                    retval = argsOut[0];</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;                }</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;                <span class="keywordflow">case</span> OP_SUBTRACT:</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;                {</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;                    ArrayOfVector argsOut = CallOperatorFunction(<span class="keyword">this</span>, <span class="stringliteral">&quot;minus&quot;</span>, <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">expression</a>(t-&gt;down), <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">expression</a>(t-&gt;down-&gt;right), 1);</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;                    retval = argsOut[0];</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;                }</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;                <span class="keywordflow">case</span> OP_TIMES:</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;                {</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;                    ArrayOfVector argsOut = CallOperatorFunction(<span class="keyword">this</span>, <span class="stringliteral">&quot;mtimes&quot;</span>, <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">expression</a>(t-&gt;down), <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">expression</a>(t-&gt;down-&gt;right), 1);</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;                    retval = argsOut[0];</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;                }</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;                <span class="keywordflow">case</span> OP_RDIV:</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;                {</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;                    ArrayOfVector argsOut = CallOperatorFunction(<span class="keyword">this</span>, <span class="stringliteral">&quot;mrdivide&quot;</span>, <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">expression</a>(t-&gt;down), <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">expression</a>(t-&gt;down-&gt;right), 1);</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;                    retval = argsOut[0];</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;                }</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;                <span class="keywordflow">case</span> OP_LDIV:</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;                {</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;                    ArrayOfVector argsOut = CallOperatorFunction(<span class="keyword">this</span>, <span class="stringliteral">&quot;mldivide&quot;</span>, <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">expression</a>(t-&gt;down), <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">expression</a>(t-&gt;down-&gt;right), 1);</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;                    retval = argsOut[0];</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;                }</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;                <span class="keywordflow">case</span> OP_SOR:</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;                {</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;                    retval = <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a650c501bcf3ce9da1e93b8b3d2759ac9">ShortCutOr</a>(t);</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;                }</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;                <span class="keywordflow">case</span> OP_OR:</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;                {</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;                    retval = Or(t);</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;                }</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;                <span class="keywordflow">case</span> OP_SAND:</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;                {</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;                    retval = ShortCutAnd(t);</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;                }</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;                <span class="keywordflow">case</span> OP_AND:</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;                {</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;                    retval = And(t);</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;                }</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;                <span class="keywordflow">case</span> OP_LT:</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;                {</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;                    ArrayOfVector argsOut = CallOperatorFunction(<span class="keyword">this</span>, <span class="stringliteral">&quot;lt&quot;</span>, <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">expression</a>(t-&gt;down), <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">expression</a>(t-&gt;down-&gt;right), 1);</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;                    retval = argsOut[0];</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;                }</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;                <span class="keywordflow">case</span> OP_LEQ:</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;                {</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;                    ArrayOfVector argsOut = CallOperatorFunction(<span class="keyword">this</span>, <span class="stringliteral">&quot;le&quot;</span>, <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">expression</a>(t-&gt;down), <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">expression</a>(t-&gt;down-&gt;right), 1);</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;                    retval = argsOut[0];</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;                }</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;                <span class="keywordflow">case</span> OP_GT:</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;                {</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;                    ArrayOfVector argsOut = CallOperatorFunction(<span class="keyword">this</span>, <span class="stringliteral">&quot;gt&quot;</span>, <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">expression</a>(t-&gt;down), <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">expression</a>(t-&gt;down-&gt;right), 1);</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;                    retval = argsOut[0];</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;                }</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;                <span class="keywordflow">case</span> OP_GEQ:</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;                {</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;                    ArrayOfVector argsOut = CallOperatorFunction(<span class="keyword">this</span>, <span class="stringliteral">&quot;ge&quot;</span>, <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">expression</a>(t-&gt;down), <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">expression</a>(t-&gt;down-&gt;right), 1);</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;                    retval = argsOut[0];</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;                }</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;                <span class="keywordflow">case</span> OP_EQ:</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;                {</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;                    ArrayOfVector argsOut = CallOperatorFunction(<span class="keyword">this</span>, <span class="stringliteral">&quot;eq&quot;</span>, <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">expression</a>(t-&gt;down), <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">expression</a>(t-&gt;down-&gt;right), 1);</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;                    retval = argsOut[0];</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;                }</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;                <span class="keywordflow">case</span> OP_NEQ:</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;                {</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;                    ArrayOfVector argsOut = CallOperatorFunction(<span class="keyword">this</span>, <span class="stringliteral">&quot;ne&quot;</span>, <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">expression</a>(t-&gt;down), <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">expression</a>(t-&gt;down-&gt;right), 1);</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;                    retval = argsOut[0];</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;                }</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;                <span class="keywordflow">case</span> OP_DOT_TIMES:</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;                {</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;                    ArrayOfVector argsOut = CallOperatorFunction(<span class="keyword">this</span>, <span class="stringliteral">&quot;times&quot;</span>, <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">expression</a>(t-&gt;down), <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">expression</a>(t-&gt;down-&gt;right), 1);</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;                    retval = argsOut[0];</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;                }</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;                <span class="keywordflow">case</span> OP_DOT_RDIV:</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;                {</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;                    ArrayOfVector argsOut = CallOperatorFunction(<span class="keyword">this</span>, <span class="stringliteral">&quot;rdivide&quot;</span>, <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">expression</a>(t-&gt;down), <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">expression</a>(t-&gt;down-&gt;right), 1);</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;                    retval = argsOut[0];</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;                }</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;                <span class="keywordflow">case</span> OP_DOT_LDIV:</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;                {</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;                    ArrayOfVector argsOut = CallOperatorFunction(<span class="keyword">this</span>, <span class="stringliteral">&quot;ldivide&quot;</span>, <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">expression</a>(t-&gt;down), <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">expression</a>(t-&gt;down-&gt;right), 1);</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;                    retval = argsOut[0];</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;                }</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;                <span class="keywordflow">case</span> OP_POS:</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;                {</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;                    ArrayOfVector argsOut = CallOperatorFunction(<span class="keyword">this</span>, <span class="stringliteral">&quot;uplus&quot;</span>, <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">expression</a>(t-&gt;down), 1);</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;                    retval = argsOut[0];</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;                }</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;                <span class="keywordflow">case</span> OP_NEG:</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;                {</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;                    ArrayOfVector argsOut = CallOperatorFunction(<span class="keyword">this</span>, <span class="stringliteral">&quot;uminus&quot;</span>, <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">expression</a>(t-&gt;down), 1);</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;                    retval = argsOut[0];</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;                }</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;                <span class="keywordflow">case</span> OP_NOT:</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;                {</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;                    ArrayOfVector argsOut = CallOperatorFunction(<span class="keyword">this</span>, <span class="stringliteral">&quot;not&quot;</span>, <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">expression</a>(t-&gt;down), 1);</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;                    retval = argsOut[0];</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;                }</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;                <span class="keywordflow">case</span> OP_POWER:</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;                {</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;                    ArrayOfVector argsOut = CallOperatorFunction(<span class="keyword">this</span>, <span class="stringliteral">&quot;mpower&quot;</span>, <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">expression</a>(t-&gt;down), <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">expression</a>(t-&gt;down-&gt;right), 1);</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;                    retval = argsOut[0];</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;                }</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;                <span class="keywordflow">case</span> OP_DOT_POWER:</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;                {</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;                    ArrayOfVector argsOut = CallOperatorFunction(<span class="keyword">this</span>, <span class="stringliteral">&quot;power&quot;</span>, <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">expression</a>(t-&gt;down), <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">expression</a>(t-&gt;down-&gt;right), 1);</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;                    retval = argsOut[0];</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;                }</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;                <span class="keywordflow">case</span> OP_TRANSPOSE:</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;                {</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;                    ArrayOfVector argsOut = CallOperatorFunction(<span class="keyword">this</span>, <span class="stringliteral">&quot;ctranspose&quot;</span>, <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">expression</a>(t-&gt;down), 1);</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;                    retval = argsOut[0];</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;                }</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;                <span class="keywordflow">case</span> OP_DOT_TRANSPOSE:</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;                {</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;                    ArrayOfVector argsOut = CallOperatorFunction(<span class="keyword">this</span>, <span class="stringliteral">&quot;transpose&quot;</span>, <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">expression</a>(t-&gt;down), 1);</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;                    retval = argsOut[0];</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;                }</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;                <span class="keywordflow">case</span> OP_RHS:</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;                {</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;                    <span class="comment">// Test for simple variable lookup</span></div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;                    <span class="keywordflow">if</span> (t-&gt;down-&gt;down == <span class="keyword">nullptr</span>)</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;                    {</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;                        retval = <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a84d213e8a40f4f0aa77e68088d6910a6">rhsExpressionSimple</a>(t-&gt;down);</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;                    }</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;                    <span class="keywordflow">else</span></div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;                    {</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;                        ArrayOfVector m(<a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a13c22c4af6b6932f7bd885995392f43e">rhsExpression</a>(t-&gt;down));</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;                        <span class="keywordflow">if</span> (m.empty())</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;                        {</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;                            retval = <a class="code" href="../../d2/d46/class_nelson_1_1_array_of.html#a9a613eca0888bdf0f07f112b6add495f">ArrayOf::emptyConstructor</a>();</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;                        }</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;                        <span class="keywordflow">else</span></div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;                        {</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;                            retval = m[0];</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;                        }</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;                    }</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;                }</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;                <span class="keywordflow">default</span>:</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;                    Error(<span class="keyword">this</span>, ERROR_UNRECOGNIZED_EXPRESSION);</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;            }</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;        }</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;        <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#ab2b3dd35cd205fa6f4b80882fd937481">popID</a>();</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;        <span class="keywordflow">return</span> retval;</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    }</div><div class="ttc" id="class_nelson_1_1_evaluator_html_aee2051332070cc09eff626ef99c498bf"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#aee2051332070cc09eff626ef99c498bf">Nelson::Evaluator::pushID</a></div><div class="ttdeci">void pushID(int)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00133">Evaluator.cpp:133</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_a85a1b68ec34f3e8a7c855e4bb860cbf1"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">Nelson::Evaluator::expression</a></div><div class="ttdeci">ArrayOf expression(ASTPtr t)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00448">Evaluator.cpp:448</a></div></div>
<div class="ttc" id="class_nelson_1_1_array_of_html_a9a613eca0888bdf0f07f112b6add495f"><div class="ttname"><a href="../../d2/d46/class_nelson_1_1_array_of.html#a9a613eca0888bdf0f07f112b6add495f">Nelson::ArrayOf::emptyConstructor</a></div><div class="ttdeci">static ArrayOf emptyConstructor(Dimensions dim, bool bIsSparse=false)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d59/_array_of_8cpp_source.html#l02376">ArrayOf.cpp:2376</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_a5278eb907d7f759cbe37951f82401200"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#a5278eb907d7f759cbe37951f82401200">Nelson::Evaluator::doubleColon</a></div><div class="ttdeci">ArrayOf doubleColon(ASTPtr t)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00769">Evaluator.cpp:769</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_a1c34660f5bcad3052804bb02ea654616"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#a1c34660f5bcad3052804bb02ea654616">Nelson::Evaluator::unitColon</a></div><div class="ttdeci">ArrayOf unitColon(ASTPtr t)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00754">Evaluator.cpp:754</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_a650c501bcf3ce9da1e93b8b3d2759ac9"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#a650c501bcf3ce9da1e93b8b3d2759ac9">Nelson::Evaluator::ShortCutOr</a></div><div class="ttdeci">ArrayOf ShortCutOr(ASTPtr t)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00386">Evaluator.cpp:386</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_ab2b3dd35cd205fa6f4b80882fd937481"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#ab2b3dd35cd205fa6f4b80882fd937481">Nelson::Evaluator::popID</a></div><div class="ttdeci">void popID()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00149">Evaluator.cpp:149</a></div></div>
<div class="ttc" id="class_nelson_1_1_array_of_html_af739af3e2f0acce90a27ed421727e0bd"><div class="ttname"><a href="../../d2/d46/class_nelson_1_1_array_of.html#af739af3e2f0acce90a27ed421727e0bd">Nelson::ArrayOf::singleConstructor</a></div><div class="ttdeci">static ArrayOf singleConstructor(float aval)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3f/_array_of___single_type_8cpp_source.html#l00037">ArrayOf_SingleType.cpp:37</a></div></div>
<div class="ttc" id="class_nelson_1_1_array_of_html_a1b522c22a2b049ad21f700732e41ddfb"><div class="ttname"><a href="../../d2/d46/class_nelson_1_1_array_of.html#a1b522c22a2b049ad21f700732e41ddfb">Nelson::ArrayOf::uint64Constructor</a></div><div class="ttdeci">static ArrayOf uint64Constructor(uint64 aval)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/daa/_array_of___integers_type_8cpp_source.html#l00079">ArrayOf_IntegersType.cpp:79</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_a84d213e8a40f4f0aa77e68088d6910a6"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#a84d213e8a40f4f0aa77e68088d6910a6">Nelson::Evaluator::rhsExpressionSimple</a></div><div class="ttdeci">ArrayOf rhsExpressionSimple(ASTPtr t)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l03654">Evaluator.cpp:3654</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_a13c22c4af6b6932f7bd885995392f43e"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#a13c22c4af6b6932f7bd885995392f43e">Nelson::Evaluator::rhsExpression</a></div><div class="ttdeci">ArrayOfVector rhsExpression(ASTPtr t)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l03880">Evaluator.cpp:3880</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_a47754c1a02877f50d6d8465a1c4f95f0"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#a47754c1a02877f50d6d8465a1c4f95f0">Nelson::Evaluator::matrixDefinition</a></div><div class="ttdeci">ArrayOf matrixDefinition(ASTPtr t)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00280">Evaluator.cpp:280</a></div></div>
<div class="ttc" id="class_nelson_1_1_array_of_html_a2ecb17d6702c4f4ea1204f57ada32dd1"><div class="ttname"><a href="../../d2/d46/class_nelson_1_1_array_of.html#a2ecb17d6702c4f4ea1204f57ada32dd1">Nelson::ArrayOf::stringConstructor</a></div><div class="ttdeci">static ArrayOf stringConstructor(std::string aval)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dae/_array_of___string_type_8cpp_source.html#l00061">ArrayOf_StringType.cpp:61</a></div></div>
<div class="ttc" id="class_nelson_1_1_array_of_html_aedd1405b98c989e7f724693826998154"><div class="ttname"><a href="../../d2/d46/class_nelson_1_1_array_of.html#aedd1405b98c989e7f724693826998154">Nelson::ArrayOf::doubleConstructor</a></div><div class="ttdeci">static ArrayOf doubleConstructor(double aval)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d13/_array_of___double_type_8cpp_source.html#l00043">ArrayOf_DoubleType.cpp:43</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_af89c4fe15d979653dc22d122e04df808"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#af89c4fe15d979653dc22d122e04df808">Nelson::Evaluator::cellDefinition</a></div><div class="ttdeci">ArrayOf cellDefinition(ASTPtr t)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00349">Evaluator.cpp:349</a></div></div>
<div class="ttc" id="class_nelson_1_1_array_of_html_a410b980a458c67f56f096c59c44abf0f"><div class="ttname"><a href="../../d2/d46/class_nelson_1_1_array_of.html#a410b980a458c67f56f096c59c44abf0f">Nelson::ArrayOf::dcomplexConstructor</a></div><div class="ttdeci">static ArrayOf dcomplexConstructor(double aval, double bval)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d13/_array_of___double_type_8cpp_source.html#l00061">ArrayOf_DoubleType.cpp:61</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab0099c901e72d85b3528ba8f1649e906"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0099c901e72d85b3528ba8f1649e906">&#9670;&nbsp;</a></span>expressionList()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ArrayOfVector Nelson::Evaluator::expressionList </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">ASTPtr</a>&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d09/class_nelson_1_1_dimensions.html">Dimensions</a> *&#160;</td>
          <td class="paramname"><em>dim</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Process a sequence of expressions into a vector of ArrayOfs. The input <a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">AST</a> must be: expr1-&gt;expr2-&gt;expr3...-&gt;NULL If the dim argument is non-NULL, then before the nth expression is evaluated, the end value is set to the nth dimension length. Also, if one of the expressions is a multi-valued RHS expression, then it is expanded into the result. Also, if one of the expressions is the ':' token, then the corresponding expression is replaced with either 1:length (if the ':' is a singleton) or 1:dim-&gt;getDimensionLength(k). This is only valid if we are a subindexing expression list (i.e., VAR(exprssionlist)), in which case dim != nullptr.</p>
<p>An expressionList allows for expansion of cell-arrays and structure arrays. Works by first screening rhs-expressions through rhsExpression, which can return a vector of variables. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l00791">791</a> of file <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html">Evaluator.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l03096">functionExpression()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l02509">multiFunctionCall()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l03880">rhsExpression()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l00206">rowDefinition()</a>, and <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l02062">simpleSubindexExpression()</a>.</p>
<div class="fragment"><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    {</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;        ArrayOfVector m;</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;        ArrayOfVector n;</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;        ASTPtr root;</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;        indexType index = 0, tmp = 0;</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;        indexType endVal = 0;</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;        <span class="keywordflow">if</span> (t == <span class="keyword">nullptr</span>)</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;        {</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;            <span class="keywordflow">return</span> m;</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;        }</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;        <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#aee2051332070cc09eff626ef99c498bf">pushID</a>(t-&gt;context());</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;        root = t;</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;        index = 0;</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;        <span class="keywordflow">while</span> (t != <span class="keyword">nullptr</span>)</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;        {</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;            <span class="keywordflow">if</span> (t-&gt;opNum == OP_KEYWORD)</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;            {</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;                t = t-&gt;right;</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;                <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;            }</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;            <span class="keywordflow">if</span> (t-&gt;type == non_terminal &amp;&amp; t-&gt;opNum == (OP_RHS))</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;            {</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;                <span class="keywordflow">try</span></div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;                {</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;                    n = <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a13c22c4af6b6932f7bd885995392f43e">rhsExpression</a>(t-&gt;down);</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;                }</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;                <span class="keywordflow">catch</span> (Exception&amp; e)</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;                {</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;                    <span class="keywordflow">if</span> (!e.matches(ERROR_EMPTY_EXPRESSION))</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;                    {</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;                        <span class="keywordflow">throw</span>;</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;                    }</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;                    <span class="keywordflow">else</span></div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;                    {</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;                        n = ArrayOfVector();</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;                    }</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;                }</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; n.size(); i++)</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;                {</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;                    m.push_back(n[i]);</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;                }</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;            }</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (t-&gt;type == non_terminal &amp;&amp; t-&gt;opNum == (OP_ALL))</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;            {</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;                <span class="keywordflow">if</span> (dim == <span class="keyword">nullptr</span>)</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;                {</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;                    Error(<span class="keyword">this</span>, ERROR_ILLEGAL_USE_COLON);</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;                }</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;                <span class="keywordflow">if</span> (root-&gt;right == <span class="keyword">nullptr</span>)</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;                {</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;                    <span class="comment">// Singleton reference, with &#39;:&#39; - return 1:length as column vector...</span></div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;                    tmp = dim-&gt;getElementCount();</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;                    m.push_back(<a class="code" href="../../d2/d46/class_nelson_1_1_array_of.html#a8baf4749c57e1198cad3fc76a71c34e0">ArrayOf::integerRangeConstructor</a>(1, 1, tmp, <span class="keyword">true</span>));</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;                }</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;                <span class="keywordflow">else</span></div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;                {</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;                    tmp = dim-&gt;getDimensionLength(index);</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;                    m.push_back(<a class="code" href="../../d2/d46/class_nelson_1_1_array_of.html#a8baf4749c57e1198cad3fc76a71c34e0">ArrayOf::integerRangeConstructor</a>(1, 1, tmp, <span class="keyword">false</span>));</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;                }</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;            }</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;            {</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;                <span class="comment">// Set up the value of the &quot;end&quot; token</span></div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;                <span class="keywordflow">if</span> (dim != <span class="keyword">nullptr</span>)</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;                {</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;                    <span class="keywordflow">if</span> (root-&gt;right == <span class="keyword">nullptr</span>)</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;                    {</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;                        endVal = dim-&gt;getElementCount();</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;                    }</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;                    <span class="keywordflow">else</span></div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;                    {</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;                        endVal = dim-&gt;getDimensionLength(index);</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;                    }</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;                    <span class="comment">// Push it onto the stack</span></div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;                    endValStack[endValStackLength] = endVal;</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;                    endValStackLength++;</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;                }</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;                <span class="comment">// Call the expression</span></div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;                m.push_back(<a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">expression</a>(t));</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;                <span class="keywordflow">if</span> (dim != <span class="keyword">nullptr</span>)</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;                    <span class="comment">// Pop the endVal stack</span></div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;                {</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;                    endValStackLength--;</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;                }</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;            }</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;            index++;</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;            t = t-&gt;right;</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;        }</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;        <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#ab2b3dd35cd205fa6f4b80882fd937481">popID</a>();</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;        <span class="comment">//m =subsindex(m);</span></div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;        <span class="keywordflow">return</span> m;</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    }</div><div class="ttc" id="class_nelson_1_1_evaluator_html_aee2051332070cc09eff626ef99c498bf"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#aee2051332070cc09eff626ef99c498bf">Nelson::Evaluator::pushID</a></div><div class="ttdeci">void pushID(int)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00133">Evaluator.cpp:133</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_a85a1b68ec34f3e8a7c855e4bb860cbf1"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">Nelson::Evaluator::expression</a></div><div class="ttdeci">ArrayOf expression(ASTPtr t)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00448">Evaluator.cpp:448</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_ab2b3dd35cd205fa6f4b80882fd937481"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#ab2b3dd35cd205fa6f4b80882fd937481">Nelson::Evaluator::popID</a></div><div class="ttdeci">void popID()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00149">Evaluator.cpp:149</a></div></div>
<div class="ttc" id="class_nelson_1_1_array_of_html_a8baf4749c57e1198cad3fc76a71c34e0"><div class="ttname"><a href="../../d2/d46/class_nelson_1_1_array_of.html#a8baf4749c57e1198cad3fc76a71c34e0">Nelson::ArrayOf::integerRangeConstructor</a></div><div class="ttdeci">static ArrayOf integerRangeConstructor(indexType minval, indexType stepsize, indexType maxval, bool vertical)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/daa/_array_of___integers_type_8cpp_source.html#l00115">ArrayOf_IntegersType.cpp:115</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_a13c22c4af6b6932f7bd885995392f43e"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#a13c22c4af6b6932f7bd885995392f43e">Nelson::Evaluator::rhsExpression</a></div><div class="ttdeci">ArrayOfVector rhsExpression(ASTPtr t)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l03880">Evaluator.cpp:3880</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2b080954d76eb36eb1c0e9423dbf983b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b080954d76eb36eb1c0e9423dbf983b">&#9670;&nbsp;</a></span>forStatement()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Nelson::Evaluator::forStatement </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">ASTPtr</a>&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Implements the for control statement. The <a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">AST</a> looks like ident-&gt;codeBlock | expr The identifier used as the control variable in the for statement. The variable defined by the identifier takes on each of the values in the expression. For each such assignment, the code in the codeBlock is executed. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l01316">1316</a> of file <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html">Evaluator.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l01712">statementType()</a>.</p>
<div class="fragment"><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;    {</div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;        ASTPtr  codeBlock;</div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;        ArrayOf indexSet;</div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;        ArrayOf indexNum;</div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;        std::string indexVarName;</div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;        ArrayOf indexVar;</div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;        indexType elementCount = 0;</div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;        <span class="keywordflow">if</span> (t == <span class="keyword">nullptr</span>)</div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;        {</div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;            <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#abdb69079dab69283f5009a1974137846">resetState</a>();</div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;            context-&gt;<a class="code" href="../../db/d1f/class_nelson_1_1_context.html#ad81317d1c949a72c33efe73b66b972a7">exitLoop</a>();</div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;        }</div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;        {</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;            <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#aee2051332070cc09eff626ef99c498bf">pushID</a>(t-&gt;context());</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;        }</div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;        <span class="comment">/* Get the name of the indexing variable */</span></div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;        indexVarName = t-&gt;text;</div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;        <span class="comment">/* Evaluate the index set */</span></div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;        indexSet = <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">expression</a>(t-&gt;down);</div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;        <span class="comment">/* Get the code block */</span></div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;        codeBlock = t-&gt;right;</div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;        elementCount = indexSet.getLength();</div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;        context-&gt;<a class="code" href="../../db/d1f/class_nelson_1_1_context.html#ae4e21048f1686a393abb4f436e57a1b0">enterLoop</a>();</div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;        <span class="keywordflow">for</span> (indexType elementNumber = 0; elementNumber &lt; elementCount; elementNumber++)</div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;        {</div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;            <span class="comment">//indexNum = ArrayOf::doubleConstructor(elementNumber + 1);</span></div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;            <span class="comment">//indexVar = indexSet.getVectorSubset(indexNum);</span></div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;            <span class="comment">//context-&gt;insertVariable(indexVarName, indexVar);</span></div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;            indexVar = indexSet.getValueAtIndex(elementNumber);</div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;            <span class="keywordtype">bool</span> bInserted = context-&gt;<a class="code" href="../../db/d1f/class_nelson_1_1_context.html#affcf1c0f68f6b99452dfeb9a24f5cd83">insertVariable</a>(indexVarName, indexVar);</div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;            <span class="keywordflow">if</span> (!bInserted)</div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;            {</div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;                Error(<span class="keyword">this</span>, _W(<span class="stringliteral">&quot;Redefining permanent variable.&quot;</span>));</div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;            }</div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;            <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a548de9d4130e1c6c8c1298c68a2ebbd8">block</a>(codeBlock);</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;            <span class="keywordflow">if</span> (state == NLS_STATE_RETURN ||</div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;                    state == NLS_STATE_ABORT ||</div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;                    state == NLS_STATE_QUIT)</div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;            {</div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;            }</div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;            <span class="keywordflow">if</span> (state == NLS_STATE_CONTINUE)</div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;            {</div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;                <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#abdb69079dab69283f5009a1974137846">resetState</a>();</div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;            }</div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;            <span class="keywordflow">if</span> (state == NLS_STATE_BREAK)</div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;            {</div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;                <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#abdb69079dab69283f5009a1974137846">resetState</a>();</div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;            }</div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;        }</div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;        context-&gt;<a class="code" href="../../db/d1f/class_nelson_1_1_context.html#ad81317d1c949a72c33efe73b66b972a7">exitLoop</a>();</div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;        <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#ab2b3dd35cd205fa6f4b80882fd937481">popID</a>();</div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;    }</div><div class="ttc" id="class_nelson_1_1_evaluator_html_aee2051332070cc09eff626ef99c498bf"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#aee2051332070cc09eff626ef99c498bf">Nelson::Evaluator::pushID</a></div><div class="ttdeci">void pushID(int)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00133">Evaluator.cpp:133</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_a85a1b68ec34f3e8a7c855e4bb860cbf1"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">Nelson::Evaluator::expression</a></div><div class="ttdeci">ArrayOf expression(ASTPtr t)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00448">Evaluator.cpp:448</a></div></div>
<div class="ttc" id="class_nelson_1_1_context_html_ad81317d1c949a72c33efe73b66b972a7"><div class="ttname"><a href="../../db/d1f/class_nelson_1_1_context.html#ad81317d1c949a72c33efe73b66b972a7">Nelson::Context::exitLoop</a></div><div class="ttdeci">void exitLoop()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/df6/_context_8cpp_source.html#l00230">Context.cpp:230</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_ab2b3dd35cd205fa6f4b80882fd937481"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#ab2b3dd35cd205fa6f4b80882fd937481">Nelson::Evaluator::popID</a></div><div class="ttdeci">void popID()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00149">Evaluator.cpp:149</a></div></div>
<div class="ttc" id="class_nelson_1_1_context_html_ae4e21048f1686a393abb4f436e57a1b0"><div class="ttname"><a href="../../db/d1f/class_nelson_1_1_context.html#ae4e21048f1686a393abb4f436e57a1b0">Nelson::Context::enterLoop</a></div><div class="ttdeci">void enterLoop()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/df6/_context_8cpp_source.html#l00225">Context.cpp:225</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_abdb69079dab69283f5009a1974137846"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#abdb69079dab69283f5009a1974137846">Nelson::Evaluator::resetState</a></div><div class="ttdeci">void resetState()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00171">Evaluator.cpp:171</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_a548de9d4130e1c6c8c1298c68a2ebbd8"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#a548de9d4130e1c6c8c1298c68a2ebbd8">Nelson::Evaluator::block</a></div><div class="ttdeci">void block(ASTPtr t)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l02004">Evaluator.cpp:2004</a></div></div>
<div class="ttc" id="class_nelson_1_1_context_html_affcf1c0f68f6b99452dfeb9a24f5cd83"><div class="ttname"><a href="../../db/d1f/class_nelson_1_1_context.html#affcf1c0f68f6b99452dfeb9a24f5cd83">Nelson::Context::insertVariable</a></div><div class="ttdeci">bool insertVariable(const std::string &amp;varName, const ArrayOf &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/df6/_context_8cpp_source.html#l00115">Context.cpp:115</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a87271a334465cbb93a99436d1674dd81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87271a334465cbb93a99436d1674dd81">&#9670;&nbsp;</a></span>functionExpression()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ArrayOfVector Nelson::Evaluator::functionExpression </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/d20/class_nelson_1_1_function_def.html">FunctionDef</a> *&#160;</td>
          <td class="paramname"><em>funcDef</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">ASTPtr</a>&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>narg_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>outputOptional</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Evaluate a function and return the results of the function as an ArrayOfVector. For scripts, the body of the function is evaluated directly. Otherwise, the function evaluates itself (using the <a class="el" href="../../d1/d20/class_nelson_1_1_function_def.html#a4beff7f28506a2dd7f60ec5593b44e09">FunctionDef::evaluateFunction</a> member function). The arguments to the function are unpacked from the <a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">AST</a> ast follows ident | () | expr1-&gt;expr2-&gt;... The outputOptional flag allows the function to not assign an output. Throws an exception if</p><ul>
<li>something other than a parenthesis pair "()" follows the identifier.</li>
<li>if too many arguments are passed to the function.</li>
<li>too many outputs are requested from the function. </li>
</ul>

<p class="definition">Definition at line <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l03096">3096</a> of file <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html">Evaluator.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l02509">multiFunctionCall()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l03880">rhsExpression()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l03654">rhsExpressionSimple()</a>, and <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l01712">statementType()</a>.</p>
<div class="fragment"><div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160;    {</div><div class="line"><a name="l03100"></a><span class="lineno"> 3100</span>&#160;        ArrayOfVector m, n;</div><div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;        ASTPtr s, q, p;</div><div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160;        stringVector keywords;</div><div class="line"><a name="l03103"></a><span class="lineno"> 3103</span>&#160;        ArrayOfVector keyvals;</div><div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160;        ASTPtrVector keyexpr;</div><div class="line"><a name="l03105"></a><span class="lineno"> 3105</span>&#160;        <span class="keywordtype">int</span> *keywordNdx = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;        <span class="keywordtype">int</span> *argTypeMap = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l03107"></a><span class="lineno"> 3107</span>&#160;        <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#aee2051332070cc09eff626ef99c498bf">pushID</a>(t-&gt;context());</div><div class="line"><a name="l03108"></a><span class="lineno"> 3108</span>&#160;        <span class="keywordtype">bool</span> CLIFlagsave = InCLI;</div><div class="line"><a name="l03109"></a><span class="lineno"> 3109</span>&#160;        <span class="keywordflow">try</span></div><div class="line"><a name="l03110"></a><span class="lineno"> 3110</span>&#160;        {</div><div class="line"><a name="l03111"></a><span class="lineno"> 3111</span>&#160;            {</div><div class="line"><a name="l03112"></a><span class="lineno"> 3112</span>&#160;                <span class="comment">// Look for arguments</span></div><div class="line"><a name="l03113"></a><span class="lineno"> 3113</span>&#160;                <span class="keywordflow">if</span> (t-&gt;down != <span class="keyword">nullptr</span>)</div><div class="line"><a name="l03114"></a><span class="lineno"> 3114</span>&#160;                {</div><div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160;                    s = t-&gt;down;</div><div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160;                    <span class="keywordflow">if</span> (s-&gt;opNum == (OP_PARENS))</div><div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160;                    {</div><div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160;                        s = s-&gt;down;</div><div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160;                        <span class="comment">// Search for the keyword uses -</span></div><div class="line"><a name="l03120"></a><span class="lineno"> 3120</span>&#160;                        <span class="comment">// To handle keywords, we make one pass through the arguments,</span></div><div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160;                        <span class="comment">// recording a list of keywords used and using ::expression to</span></div><div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160;                        <span class="comment">// evaluate their values.</span></div><div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160;                        q = s;</div><div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160;                        <span class="keywordflow">while</span> (q != <span class="keyword">nullptr</span>)</div><div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160;                        {</div><div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;                            <span class="keywordflow">if</span> (q-&gt;opNum == OP_KEYWORD)</div><div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;                            {</div><div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160;                                keywords.push_back(q-&gt;down-&gt;text);</div><div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160;                                <span class="keywordflow">if</span> (q-&gt;down-&gt;right != <span class="keyword">nullptr</span>)</div><div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;                                {</div><div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;                                    keyvals.push_back(<a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">expression</a>(q-&gt;down-&gt;right));</div><div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160;                                }</div><div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160;                                <span class="keywordflow">else</span></div><div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160;                                {</div><div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160;                                    keyvals.push_back(<a class="code" href="../../d2/d46/class_nelson_1_1_array_of.html#aa2134f26750762813ec1b0ee1a6c05b9">ArrayOf::logicalConstructor</a>(<span class="keyword">true</span>));</div><div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160;                                }</div><div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160;                                keyexpr.push_back(q-&gt;down-&gt;right);</div><div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;                            }</div><div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160;                            q = q-&gt;right;</div><div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160;                        }</div><div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160;                        <span class="comment">// If any keywords were found, make another pass through the</span></div><div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160;                        <span class="comment">// arguments and remove them.</span></div><div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;<span class="preprocessor">#if 0</span></div><div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160;                        <span class="keywordflow">if</span> (keywords.size() &gt; 0)</div><div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160;                        {</div><div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;                            <span class="comment">//      if (funcDef-&gt;type() != NLS_MACRO_FUNCTION)</span></div><div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160;                            <span class="comment">//        throw Exception(L&quot;out of order argument passing only supported for M files&quot;);</span></div><div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160;                            <span class="keywordflow">while</span> (s != <span class="keyword">nullptr</span> &amp;&amp; s-&gt;opNum == OP_KEYWORD)</div><div class="line"><a name="l03149"></a><span class="lineno"> 3149</span>&#160;                            {</div><div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160;                                s = s-&gt;right;</div><div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160;                            }</div><div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;                            <span class="keywordflow">if</span> (s != <span class="keyword">nullptr</span>)</div><div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;                            {</div><div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160;                                q = s;</div><div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;                                <span class="keywordflow">while</span> (q-&gt;right != <span class="keyword">nullptr</span>)</div><div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160;                                {</div><div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160;                                    <span class="keywordflow">if</span> (q-&gt;right-&gt;opNum == OP_KEYWORD)</div><div class="line"><a name="l03158"></a><span class="lineno"> 3158</span>&#160;                                    {</div><div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160;                                        q-&gt;right = q-&gt;right-&gt;right;</div><div class="line"><a name="l03160"></a><span class="lineno"> 3160</span>&#160;                                    }</div><div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160;                                    <span class="keywordflow">else</span></div><div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160;                                    {</div><div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160;                                        q = q-&gt;right;</div><div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160;                                    }</div><div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160;                                }</div><div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160;                            }</div><div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160;                        }</div><div class="line"><a name="l03168"></a><span class="lineno"> 3168</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160;                        m = <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#ab0099c901e72d85b3528ba8f1649e906">expressionList</a>(s, NULL);</div><div class="line"><a name="l03170"></a><span class="lineno"> 3170</span>&#160;                        <span class="comment">// Check for keywords</span></div><div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;                        <span class="keywordflow">if</span> (keywords.size() &gt; 0)</div><div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160;                        {</div><div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160;                            <span class="comment">// If keywords were used, we have to permute the</span></div><div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;                            <span class="comment">// entries of the arrayvector to the correct order.</span></div><div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160;                            stringVector arguments;</div><div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160;                            <span class="comment">// Get the arguments from the MacroFunction pointer.</span></div><div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160;                            arguments = funcDef-&gt;arguments;</div><div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;                            keywordNdx = <span class="keyword">new</span> <span class="keywordtype">int</span>[keywords.size()];</div><div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160;                            <span class="keywordtype">int</span> maxndx;</div><div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160;                            maxndx = 0;</div><div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160;                            <span class="comment">// Map each keyword to an argument number</span></div><div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;                            <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; (int)keywords.size(); ++i)</div><div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160;                            {</div><div class="line"><a name="l03184"></a><span class="lineno"> 3184</span>&#160;                                <span class="keywordtype">int</span> ndx;</div><div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160;                                ndx = getArgumentIndex(arguments, keywords[i]);</div><div class="line"><a name="l03186"></a><span class="lineno"> 3186</span>&#160;                                <span class="keywordflow">if</span> (ndx == -1)</div><div class="line"><a name="l03187"></a><span class="lineno"> 3187</span>&#160;                                {</div><div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160;                                    Error(<span class="keyword">this</span>, utf8_to_wstring(_(<span class="stringliteral">&quot;out-of-order argument /&quot;</span>) + keywords[i] + _(<span class="stringliteral">&quot; is not defined in the called function!&quot;</span>)));</div><div class="line"><a name="l03189"></a><span class="lineno"> 3189</span>&#160;                                }</div><div class="line"><a name="l03190"></a><span class="lineno"> 3190</span>&#160;                                keywordNdx[i] = ndx;</div><div class="line"><a name="l03191"></a><span class="lineno"> 3191</span>&#160;                                <span class="keywordflow">if</span> (ndx &gt; maxndx)</div><div class="line"><a name="l03192"></a><span class="lineno"> 3192</span>&#160;                                {</div><div class="line"><a name="l03193"></a><span class="lineno"> 3193</span>&#160;                                    maxndx = ndx;</div><div class="line"><a name="l03194"></a><span class="lineno"> 3194</span>&#160;                                }</div><div class="line"><a name="l03195"></a><span class="lineno"> 3195</span>&#160;                            }</div><div class="line"><a name="l03196"></a><span class="lineno"> 3196</span>&#160;                            <span class="comment">// Next, we have to determine how many &quot;holes&quot; there are</span></div><div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160;                            <span class="comment">// in the argument list - we get the maximum list</span></div><div class="line"><a name="l03198"></a><span class="lineno"> 3198</span>&#160;                            <span class="keywordtype">size_t</span> holes = maxndx + 1 - keywords.size();</div><div class="line"><a name="l03199"></a><span class="lineno"> 3199</span>&#160;                            <span class="comment">// At this point, holes is the number of missing arguments</span></div><div class="line"><a name="l03200"></a><span class="lineno"> 3200</span>&#160;                            <span class="comment">// If holes &gt; m.size(), then the total number of arguments</span></div><div class="line"><a name="l03201"></a><span class="lineno"> 3201</span>&#160;                            <span class="comment">// is just maxndx+1.  Otherwise, its</span></div><div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160;                            <span class="comment">// maxndx+1+(m.size() - holes)</span></div><div class="line"><a name="l03203"></a><span class="lineno"> 3203</span>&#160;                            <span class="keywordtype">size_t</span> totalCount;</div><div class="line"><a name="l03204"></a><span class="lineno"> 3204</span>&#160;                            <span class="keywordflow">if</span> (holes &gt; m.size())</div><div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160;                            {</div><div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160;                                totalCount = maxndx + 1;</div><div class="line"><a name="l03207"></a><span class="lineno"> 3207</span>&#160;                            }</div><div class="line"><a name="l03208"></a><span class="lineno"> 3208</span>&#160;                            <span class="keywordflow">else</span></div><div class="line"><a name="l03209"></a><span class="lineno"> 3209</span>&#160;                            {</div><div class="line"><a name="l03210"></a><span class="lineno"> 3210</span>&#160;                                totalCount = maxndx + 1 + (m.size() - holes);</div><div class="line"><a name="l03211"></a><span class="lineno"> 3211</span>&#160;                            }</div><div class="line"><a name="l03212"></a><span class="lineno"> 3212</span>&#160;                            <span class="comment">// Next, we allocate a vector to hold the values</span></div><div class="line"><a name="l03213"></a><span class="lineno"> 3213</span>&#160;                            ArrayOfVector toFill(totalCount);</div><div class="line"><a name="l03214"></a><span class="lineno"> 3214</span>&#160;                            <span class="keywordtype">bool</span> *filled = <span class="keyword">new</span> <span class="keywordtype">bool</span>[totalCount];</div><div class="line"><a name="l03215"></a><span class="lineno"> 3215</span>&#160;                            argTypeMap = <span class="keyword">new</span> <span class="keywordtype">int</span>[totalCount];</div><div class="line"><a name="l03216"></a><span class="lineno"> 3216</span>&#160;                            <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; totalCount; i++)</div><div class="line"><a name="l03217"></a><span class="lineno"> 3217</span>&#160;                            {</div><div class="line"><a name="l03218"></a><span class="lineno"> 3218</span>&#160;                                filled[i] = <span class="keyword">false</span>;</div><div class="line"><a name="l03219"></a><span class="lineno"> 3219</span>&#160;                                argTypeMap[i] = -1;</div><div class="line"><a name="l03220"></a><span class="lineno"> 3220</span>&#160;                            }</div><div class="line"><a name="l03221"></a><span class="lineno"> 3221</span>&#160;                            <span class="comment">// Finally...</span></div><div class="line"><a name="l03222"></a><span class="lineno"> 3222</span>&#160;                            <span class="comment">// Copy the keyword values in</span></div><div class="line"><a name="l03223"></a><span class="lineno"> 3223</span>&#160;                            <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; keywords.size(); i++)</div><div class="line"><a name="l03224"></a><span class="lineno"> 3224</span>&#160;                            {</div><div class="line"><a name="l03225"></a><span class="lineno"> 3225</span>&#160;                                toFill[keywordNdx[i]] = keyvals[i];</div><div class="line"><a name="l03226"></a><span class="lineno"> 3226</span>&#160;                                filled[keywordNdx[i]] = <span class="keyword">true</span>;</div><div class="line"><a name="l03227"></a><span class="lineno"> 3227</span>&#160;                                argTypeMap[keywordNdx[i]] = (int)i;</div><div class="line"><a name="l03228"></a><span class="lineno"> 3228</span>&#160;                            }</div><div class="line"><a name="l03229"></a><span class="lineno"> 3229</span>&#160;                            <span class="comment">// Fill out the rest of the values from m</span></div><div class="line"><a name="l03230"></a><span class="lineno"> 3230</span>&#160;                            <span class="keywordtype">size_t</span> n = 0;</div><div class="line"><a name="l03231"></a><span class="lineno"> 3231</span>&#160;                            <span class="keywordtype">int</span> p = 0;</div><div class="line"><a name="l03232"></a><span class="lineno"> 3232</span>&#160;                            <span class="keywordflow">while</span> (n &lt; m.size())</div><div class="line"><a name="l03233"></a><span class="lineno"> 3233</span>&#160;                            {</div><div class="line"><a name="l03234"></a><span class="lineno"> 3234</span>&#160;                                <span class="keywordflow">if</span> (!filled[p])</div><div class="line"><a name="l03235"></a><span class="lineno"> 3235</span>&#160;                                {</div><div class="line"><a name="l03236"></a><span class="lineno"> 3236</span>&#160;                                    toFill[p] = m[n];</div><div class="line"><a name="l03237"></a><span class="lineno"> 3237</span>&#160;                                    filled[p] = <span class="keyword">true</span>;</div><div class="line"><a name="l03238"></a><span class="lineno"> 3238</span>&#160;                                    argTypeMap[p] = -2;</div><div class="line"><a name="l03239"></a><span class="lineno"> 3239</span>&#160;                                    n++;</div><div class="line"><a name="l03240"></a><span class="lineno"> 3240</span>&#160;                                }</div><div class="line"><a name="l03241"></a><span class="lineno"> 3241</span>&#160;                                p++;</div><div class="line"><a name="l03242"></a><span class="lineno"> 3242</span>&#160;                            }</div><div class="line"><a name="l03243"></a><span class="lineno"> 3243</span>&#160;                            <span class="comment">// Finally, fill in empty matrices for the</span></div><div class="line"><a name="l03244"></a><span class="lineno"> 3244</span>&#160;                            <span class="comment">// remaining arguments</span></div><div class="line"><a name="l03245"></a><span class="lineno"> 3245</span>&#160;                            <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; totalCount; i++)</div><div class="line"><a name="l03246"></a><span class="lineno"> 3246</span>&#160;                                <span class="keywordflow">if</span> (!filled[i])</div><div class="line"><a name="l03247"></a><span class="lineno"> 3247</span>&#160;                                {</div><div class="line"><a name="l03248"></a><span class="lineno"> 3248</span>&#160;                                    toFill[i] = <a class="code" href="../../d2/d46/class_nelson_1_1_array_of.html#a9a613eca0888bdf0f07f112b6add495f">ArrayOf::emptyConstructor</a>();</div><div class="line"><a name="l03249"></a><span class="lineno"> 3249</span>&#160;                                }</div><div class="line"><a name="l03250"></a><span class="lineno"> 3250</span>&#160;                            <span class="comment">// Clean up</span></div><div class="line"><a name="l03251"></a><span class="lineno"> 3251</span>&#160;                            <span class="keyword">delete</span>[] filled;</div><div class="line"><a name="l03252"></a><span class="lineno"> 3252</span>&#160;                            <span class="comment">// delete[] keywordNdx;</span></div><div class="line"><a name="l03253"></a><span class="lineno"> 3253</span>&#160;                            <span class="comment">// Reassign</span></div><div class="line"><a name="l03254"></a><span class="lineno"> 3254</span>&#160;                            m = toFill;</div><div class="line"><a name="l03255"></a><span class="lineno"> 3255</span>&#160;                        }</div><div class="line"><a name="l03256"></a><span class="lineno"> 3256</span>&#160;                    }</div><div class="line"><a name="l03257"></a><span class="lineno"> 3257</span>&#160;                    <span class="keywordflow">else</span></div><div class="line"><a name="l03258"></a><span class="lineno"> 3258</span>&#160;                    {</div><div class="line"><a name="l03259"></a><span class="lineno"> 3259</span>&#160;                        ArrayOf r;</div><div class="line"><a name="l03260"></a><span class="lineno"> 3260</span>&#160;                        <span class="keywordtype">bool</span> isVar = context-&gt;<a class="code" href="../../db/d1f/class_nelson_1_1_context.html#a6d61ffdd05d5e85aa4a747f84b3551c1">lookupVariable</a>(t-&gt;text, r);</div><div class="line"><a name="l03261"></a><span class="lineno"> 3261</span>&#160;                        <span class="keywordflow">if</span> (isVar)</div><div class="line"><a name="l03262"></a><span class="lineno"> 3262</span>&#160;                        {</div><div class="line"><a name="l03263"></a><span class="lineno"> 3263</span>&#160;                            <span class="keywordflow">if</span> (r.isClassStruct())</div><div class="line"><a name="l03264"></a><span class="lineno"> 3264</span>&#160;                            {</div><div class="line"><a name="l03265"></a><span class="lineno"> 3265</span>&#160;                                s = t-&gt;down;</div><div class="line"><a name="l03266"></a><span class="lineno"> 3266</span>&#160;                                <span class="keywordflow">if</span> (s)</div><div class="line"><a name="l03267"></a><span class="lineno"> 3267</span>&#160;                                {</div><div class="line"><a name="l03268"></a><span class="lineno"> 3268</span>&#160;                                    <span class="keywordflow">if</span> (s-&gt;opNum == (OP_DOT))</div><div class="line"><a name="l03269"></a><span class="lineno"> 3269</span>&#160;                                    {</div><div class="line"><a name="l03270"></a><span class="lineno"> 3270</span>&#160;                                        s = s-&gt;down;</div><div class="line"><a name="l03271"></a><span class="lineno"> 3271</span>&#160;                                        <span class="keywordflow">return</span> scalarArrayOfToArrayOfVector(r.getField(s-&gt;text));</div><div class="line"><a name="l03272"></a><span class="lineno"> 3272</span>&#160;                                    }</div><div class="line"><a name="l03273"></a><span class="lineno"> 3273</span>&#160;                                }</div><div class="line"><a name="l03274"></a><span class="lineno"> 3274</span>&#160;                            }</div><div class="line"><a name="l03275"></a><span class="lineno"> 3275</span>&#160;                        }</div><div class="line"><a name="l03276"></a><span class="lineno"> 3276</span>&#160;                        Error(<span class="keyword">this</span>, ERROR_ILLEGAL_EXPRESSION_IN_FUNCTION);</div><div class="line"><a name="l03277"></a><span class="lineno"> 3277</span>&#160;                    }</div><div class="line"><a name="l03278"></a><span class="lineno"> 3278</span>&#160;                }</div><div class="line"><a name="l03279"></a><span class="lineno"> 3279</span>&#160;                <span class="keywordflow">else</span></div><div class="line"><a name="l03280"></a><span class="lineno"> 3280</span>&#160;                {</div><div class="line"><a name="l03281"></a><span class="lineno"> 3281</span>&#160;                    m = ArrayOfVector();</div><div class="line"><a name="l03282"></a><span class="lineno"> 3282</span>&#160;                }</div><div class="line"><a name="l03283"></a><span class="lineno"> 3283</span>&#160;                <span class="comment">//int nRhs = (int)m.size();</span></div><div class="line"><a name="l03284"></a><span class="lineno"> 3284</span>&#160;                <span class="comment">//int nLhs = funcDef-&gt;outputArgCount();</span></div><div class="line"><a name="l03285"></a><span class="lineno"> 3285</span>&#160;                <span class="comment">/*</span></div><div class="line"><a name="l03286"></a><span class="lineno"> 3286</span>&#160;<span class="comment">                if ((funcDef-&gt;inputArgCount() &gt;= 0) &amp;&amp;</span></div><div class="line"><a name="l03287"></a><span class="lineno"> 3287</span>&#160;<span class="comment">                ((int)(m.size()) &gt; funcDef-&gt;inputArgCount()))</span></div><div class="line"><a name="l03288"></a><span class="lineno"> 3288</span>&#160;<span class="comment">                Error(this, std::string(&quot;Too many inputs to function &quot;)+t-&gt;text);</span></div><div class="line"><a name="l03289"></a><span class="lineno"> 3289</span>&#160;<span class="comment">                if ((funcDef-&gt;outputArgCount() &gt;= 0) &amp;&amp;</span></div><div class="line"><a name="l03290"></a><span class="lineno"> 3290</span>&#160;<span class="comment">                (narg_out &gt; funcDef-&gt;outputArgCount() &amp;&amp; !outputOptional))</span></div><div class="line"><a name="l03291"></a><span class="lineno"> 3291</span>&#160;<span class="comment">                Error(this, std::string(&quot;Too many outputs to function &quot;)+t-&gt;text);</span></div><div class="line"><a name="l03292"></a><span class="lineno"> 3292</span>&#160;<span class="comment">                */</span></div><div class="line"><a name="l03293"></a><span class="lineno"> 3293</span>&#160;                CLIFlagsave = InCLI;</div><div class="line"><a name="l03294"></a><span class="lineno"> 3294</span>&#160;                InCLI = <span class="keyword">false</span>;</div><div class="line"><a name="l03295"></a><span class="lineno"> 3295</span>&#160;                ArrayOf r;</div><div class="line"><a name="l03296"></a><span class="lineno"> 3296</span>&#160;                <span class="keywordtype">bool</span> isVar = context-&gt;<a class="code" href="../../db/d1f/class_nelson_1_1_context.html#a6d61ffdd05d5e85aa4a747f84b3551c1">lookupVariable</a>(t-&gt;text, r);</div><div class="line"><a name="l03297"></a><span class="lineno"> 3297</span>&#160;                <span class="keywordtype">bool</span> haveDown = (t-&gt;down != <span class="keyword">nullptr</span>);</div><div class="line"><a name="l03298"></a><span class="lineno"> 3298</span>&#160;                <span class="keywordflow">if</span> (isVar)</div><div class="line"><a name="l03299"></a><span class="lineno"> 3299</span>&#160;                {</div><div class="line"><a name="l03300"></a><span class="lineno"> 3300</span>&#160;                    <span class="comment">// if it is a class C</span></div><div class="line"><a name="l03301"></a><span class="lineno"> 3301</span>&#160;                    <span class="keywordflow">if</span> (r.isClassStruct())</div><div class="line"><a name="l03302"></a><span class="lineno"> 3302</span>&#160;                    {</div><div class="line"><a name="l03303"></a><span class="lineno"> 3303</span>&#160;                        <span class="comment">// C(X1, ..., XN)</span></div><div class="line"><a name="l03304"></a><span class="lineno"> 3304</span>&#160;                        <span class="comment">// we call : C_extract(C, X1, ..., XN)</span></div><div class="line"><a name="l03305"></a><span class="lineno"> 3305</span>&#160;                        <span class="keywordflow">if</span> (m.size() &gt; 0)</div><div class="line"><a name="l03306"></a><span class="lineno"> 3306</span>&#160;                        {</div><div class="line"><a name="l03307"></a><span class="lineno"> 3307</span>&#160;                            m.insert(m.begin(), r);</div><div class="line"><a name="l03308"></a><span class="lineno"> 3308</span>&#160;                        }</div><div class="line"><a name="l03309"></a><span class="lineno"> 3309</span>&#160;                        <span class="keywordflow">else</span></div><div class="line"><a name="l03310"></a><span class="lineno"> 3310</span>&#160;                        {</div><div class="line"><a name="l03311"></a><span class="lineno"> 3311</span>&#160;                            <span class="comment">// C() or C</span></div><div class="line"><a name="l03312"></a><span class="lineno"> 3312</span>&#160;                            <span class="keywordflow">if</span> (t-&gt;down != <span class="keyword">nullptr</span>)</div><div class="line"><a name="l03313"></a><span class="lineno"> 3313</span>&#160;                            {</div><div class="line"><a name="l03314"></a><span class="lineno"> 3314</span>&#160;                                s = t-&gt;down;</div><div class="line"><a name="l03315"></a><span class="lineno"> 3315</span>&#160;                                <span class="comment">// C()</span></div><div class="line"><a name="l03316"></a><span class="lineno"> 3316</span>&#160;                                <span class="keywordflow">if</span> (s-&gt;opNum == (OP_PARENS))</div><div class="line"><a name="l03317"></a><span class="lineno"> 3317</span>&#160;                                {</div><div class="line"><a name="l03318"></a><span class="lineno"> 3318</span>&#160;                                    m.insert(m.begin(), r);</div><div class="line"><a name="l03319"></a><span class="lineno"> 3319</span>&#160;                                }</div><div class="line"><a name="l03320"></a><span class="lineno"> 3320</span>&#160;                                <span class="comment">// C others ? C{}, C. ?</span></div><div class="line"><a name="l03321"></a><span class="lineno"> 3321</span>&#160;                                <span class="comment">// we do currently nothing</span></div><div class="line"><a name="l03322"></a><span class="lineno"> 3322</span>&#160;                            }</div><div class="line"><a name="l03323"></a><span class="lineno"> 3323</span>&#160;                            <span class="keywordflow">else</span></div><div class="line"><a name="l03324"></a><span class="lineno"> 3324</span>&#160;                            {</div><div class="line"><a name="l03325"></a><span class="lineno"> 3325</span>&#160;                                <span class="comment">// C</span></div><div class="line"><a name="l03326"></a><span class="lineno"> 3326</span>&#160;                                <span class="keywordflow">return</span> scalarArrayOfToArrayOfVector(r);</div><div class="line"><a name="l03327"></a><span class="lineno"> 3327</span>&#160;                                <span class="comment">/*</span></div><div class="line"><a name="l03328"></a><span class="lineno"> 3328</span>&#160;<span class="comment">                                                                if (r.isFunctionHandle())</span></div><div class="line"><a name="l03329"></a><span class="lineno"> 3329</span>&#160;<span class="comment">                                                                {</span></div><div class="line"><a name="l03330"></a><span class="lineno"> 3330</span>&#160;<span class="comment">                                                                    return scalarArrayOfToArrayOfVector(r);</span></div><div class="line"><a name="l03331"></a><span class="lineno"> 3331</span>&#160;<span class="comment">                                                                }</span></div><div class="line"><a name="l03332"></a><span class="lineno"> 3332</span>&#160;<span class="comment">                                */</span></div><div class="line"><a name="l03333"></a><span class="lineno"> 3333</span>&#160;                            }</div><div class="line"><a name="l03334"></a><span class="lineno"> 3334</span>&#160;                        }</div><div class="line"><a name="l03335"></a><span class="lineno"> 3335</span>&#160;                    }</div><div class="line"><a name="l03336"></a><span class="lineno"> 3336</span>&#160;                    n = funcDef-&gt;evaluateFunction(<span class="keyword">this</span>, m, narg_out);</div><div class="line"><a name="l03337"></a><span class="lineno"> 3337</span>&#160;                }</div><div class="line"><a name="l03338"></a><span class="lineno"> 3338</span>&#160;                <span class="keywordflow">else</span></div><div class="line"><a name="l03339"></a><span class="lineno"> 3339</span>&#160;                {</div><div class="line"><a name="l03340"></a><span class="lineno"> 3340</span>&#160;                    n = funcDef-&gt;evaluateFunction(<span class="keyword">this</span>, m, narg_out);</div><div class="line"><a name="l03341"></a><span class="lineno"> 3341</span>&#160;                }</div><div class="line"><a name="l03342"></a><span class="lineno"> 3342</span>&#160;                InCLI = CLIFlagsave;</div><div class="line"><a name="l03343"></a><span class="lineno"> 3343</span>&#160;                <span class="keywordflow">if</span> (state == NLS_STATE_ABORT)</div><div class="line"><a name="l03344"></a><span class="lineno"> 3344</span>&#160;                {</div><div class="line"><a name="l03345"></a><span class="lineno"> 3345</span>&#160;                    <span class="keywordflow">return</span> n;</div><div class="line"><a name="l03346"></a><span class="lineno"> 3346</span>&#160;                }</div><div class="line"><a name="l03347"></a><span class="lineno"> 3347</span>&#160;                <span class="comment">// Check for any pass by reference</span></div><div class="line"><a name="l03348"></a><span class="lineno"> 3348</span>&#160;                <span class="keywordflow">if</span> (!haveDown &amp;&amp; (funcDef-&gt;arguments.size() &gt; 0))</div><div class="line"><a name="l03349"></a><span class="lineno"> 3349</span>&#160;                {</div><div class="line"><a name="l03350"></a><span class="lineno"> 3350</span>&#160;                    <span class="comment">// Get the argument list</span></div><div class="line"><a name="l03351"></a><span class="lineno"> 3351</span>&#160;                    stringVector arguments;</div><div class="line"><a name="l03352"></a><span class="lineno"> 3352</span>&#160;                    arguments = funcDef-&gt;arguments;</div><div class="line"><a name="l03353"></a><span class="lineno"> 3353</span>&#160;                    <span class="comment">// M functions can modify their arguments</span></div><div class="line"><a name="l03354"></a><span class="lineno"> 3354</span>&#160;                    <span class="keywordtype">size_t</span> maxsearch = m.size();</div><div class="line"><a name="l03355"></a><span class="lineno"> 3355</span>&#160;                    <span class="keywordflow">if</span> (maxsearch &gt; arguments.size())</div><div class="line"><a name="l03356"></a><span class="lineno"> 3356</span>&#160;                    {</div><div class="line"><a name="l03357"></a><span class="lineno"> 3357</span>&#160;                        maxsearch = arguments.size();</div><div class="line"><a name="l03358"></a><span class="lineno"> 3358</span>&#160;                    }</div><div class="line"><a name="l03359"></a><span class="lineno"> 3359</span>&#160;                    <span class="keywordflow">if</span> (maxsearch != 0)</div><div class="line"><a name="l03360"></a><span class="lineno"> 3360</span>&#160;                    {</div><div class="line"><a name="l03361"></a><span class="lineno"> 3361</span>&#160;                        q = s;</div><div class="line"><a name="l03362"></a><span class="lineno"> 3362</span>&#160;                    }</div><div class="line"><a name="l03363"></a><span class="lineno"> 3363</span>&#160;                    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; maxsearch; i++)</div><div class="line"><a name="l03364"></a><span class="lineno"> 3364</span>&#160;                    {</div><div class="line"><a name="l03365"></a><span class="lineno"> 3365</span>&#160;                        <span class="comment">// Was this argument passed out of order?</span></div><div class="line"><a name="l03366"></a><span class="lineno"> 3366</span>&#160;                        <span class="keywordflow">if</span> (argTypeMap)</div><div class="line"><a name="l03367"></a><span class="lineno"> 3367</span>&#160;                        {</div><div class="line"><a name="l03368"></a><span class="lineno"> 3368</span>&#160;                            <span class="keywordflow">if</span> ((keywords.size() &gt; 0) &amp;&amp; (argTypeMap[i] == -1))</div><div class="line"><a name="l03369"></a><span class="lineno"> 3369</span>&#160;                            {</div><div class="line"><a name="l03370"></a><span class="lineno"> 3370</span>&#160;                                <span class="keywordflow">continue</span>;</div><div class="line"><a name="l03371"></a><span class="lineno"> 3371</span>&#160;                            }</div><div class="line"><a name="l03372"></a><span class="lineno"> 3372</span>&#160;                            <span class="keywordflow">if</span> ((keywords.size() &gt; 0) &amp;&amp; (argTypeMap[i] &gt;= 0))</div><div class="line"><a name="l03373"></a><span class="lineno"> 3373</span>&#160;                            {</div><div class="line"><a name="l03374"></a><span class="lineno"> 3374</span>&#160;                                p = keyexpr[argTypeMap[i]];</div><div class="line"><a name="l03375"></a><span class="lineno"> 3375</span>&#160;                            }</div><div class="line"><a name="l03376"></a><span class="lineno"> 3376</span>&#160;                            <span class="keywordflow">else</span></div><div class="line"><a name="l03377"></a><span class="lineno"> 3377</span>&#160;                            {</div><div class="line"><a name="l03378"></a><span class="lineno"> 3378</span>&#160;                                p = q;</div><div class="line"><a name="l03379"></a><span class="lineno"> 3379</span>&#160;                                <span class="keywordflow">if</span> (q != <span class="keyword">nullptr</span>)</div><div class="line"><a name="l03380"></a><span class="lineno"> 3380</span>&#160;                                {</div><div class="line"><a name="l03381"></a><span class="lineno"> 3381</span>&#160;                                    q = q-&gt;right;</div><div class="line"><a name="l03382"></a><span class="lineno"> 3382</span>&#160;                                }</div><div class="line"><a name="l03383"></a><span class="lineno"> 3383</span>&#160;                            }</div><div class="line"><a name="l03384"></a><span class="lineno"> 3384</span>&#160;                        }</div><div class="line"><a name="l03385"></a><span class="lineno"> 3385</span>&#160;                        std::string args(arguments[i]);</div><div class="line"><a name="l03386"></a><span class="lineno"> 3386</span>&#160;                        <span class="keywordflow">if</span> (args[0] == <span class="charliteral">&#39;&amp;&#39;</span>)</div><div class="line"><a name="l03387"></a><span class="lineno"> 3387</span>&#160;                        {</div><div class="line"><a name="l03388"></a><span class="lineno"> 3388</span>&#160;                            args.erase(0, 1);</div><div class="line"><a name="l03389"></a><span class="lineno"> 3389</span>&#160;                            <span class="comment">// This argument was passed by reference</span></div><div class="line"><a name="l03390"></a><span class="lineno"> 3390</span>&#160;                            <span class="keywordflow">if</span> (p == <span class="keyword">nullptr</span> || !(p-&gt;type == non_terminal &amp;&amp; p-&gt;opNum == OP_RHS))</div><div class="line"><a name="l03391"></a><span class="lineno"> 3391</span>&#160;                            {</div><div class="line"><a name="l03392"></a><span class="lineno"> 3392</span>&#160;                                Error(<span class="keyword">this</span>, ERROR_MUST_HAVE_LVALUE);</div><div class="line"><a name="l03393"></a><span class="lineno"> 3393</span>&#160;                            }</div><div class="line"><a name="l03394"></a><span class="lineno"> 3394</span>&#160;                            <span class="keywordflow">if</span> (p-&gt;down-&gt;down == <span class="keyword">nullptr</span> &amp;&amp; p-&gt;down-&gt;type == id_node)</div><div class="line"><a name="l03395"></a><span class="lineno"> 3395</span>&#160;                            {</div><div class="line"><a name="l03396"></a><span class="lineno"> 3396</span>&#160;                                <span class="keywordtype">bool</span> bInserted = context-&gt;<a class="code" href="../../db/d1f/class_nelson_1_1_context.html#affcf1c0f68f6b99452dfeb9a24f5cd83">insertVariable</a>(p-&gt;down-&gt;text, m[i]);</div><div class="line"><a name="l03397"></a><span class="lineno"> 3397</span>&#160;                                <span class="keywordflow">if</span> (!bInserted)</div><div class="line"><a name="l03398"></a><span class="lineno"> 3398</span>&#160;                                {</div><div class="line"><a name="l03399"></a><span class="lineno"> 3399</span>&#160;                                    Error(<span class="keyword">this</span>, _W(<span class="stringliteral">&quot;Redefining permanent variable.&quot;</span>));</div><div class="line"><a name="l03400"></a><span class="lineno"> 3400</span>&#160;                                }</div><div class="line"><a name="l03401"></a><span class="lineno"> 3401</span>&#160;                            }</div><div class="line"><a name="l03402"></a><span class="lineno"> 3402</span>&#160;                            <span class="keywordflow">else</span></div><div class="line"><a name="l03403"></a><span class="lineno"> 3403</span>&#160;                            {</div><div class="line"><a name="l03404"></a><span class="lineno"> 3404</span>&#160;                                ArrayOf c(assignExpression(p-&gt;down, m[i]));</div><div class="line"><a name="l03405"></a><span class="lineno"> 3405</span>&#160;                                <span class="keywordtype">bool</span> bInserted = context-&gt;<a class="code" href="../../db/d1f/class_nelson_1_1_context.html#affcf1c0f68f6b99452dfeb9a24f5cd83">insertVariable</a>(p-&gt;down-&gt;text, c);</div><div class="line"><a name="l03406"></a><span class="lineno"> 3406</span>&#160;                                <span class="keywordflow">if</span> (!bInserted)</div><div class="line"><a name="l03407"></a><span class="lineno"> 3407</span>&#160;                                {</div><div class="line"><a name="l03408"></a><span class="lineno"> 3408</span>&#160;                                    Error(<span class="keyword">this</span>, _W(<span class="stringliteral">&quot;Redefining permanent variable.&quot;</span>));</div><div class="line"><a name="l03409"></a><span class="lineno"> 3409</span>&#160;                                }</div><div class="line"><a name="l03410"></a><span class="lineno"> 3410</span>&#160;                            }</div><div class="line"><a name="l03411"></a><span class="lineno"> 3411</span>&#160;                        }</div><div class="line"><a name="l03412"></a><span class="lineno"> 3412</span>&#160;                    }</div><div class="line"><a name="l03413"></a><span class="lineno"> 3413</span>&#160;                }</div><div class="line"><a name="l03414"></a><span class="lineno"> 3414</span>&#160;            }</div><div class="line"><a name="l03415"></a><span class="lineno"> 3415</span>&#160;            <span class="comment">// Some routines (e.g., min and max) will return more outputs</span></div><div class="line"><a name="l03416"></a><span class="lineno"> 3416</span>&#160;            <span class="comment">// than were actually requested... so here we have to trim</span></div><div class="line"><a name="l03417"></a><span class="lineno"> 3417</span>&#160;            <span class="comment">// any elements received that we didn&#39;t ask for.</span></div><div class="line"><a name="l03418"></a><span class="lineno"> 3418</span>&#160;            <span class="comment">//    narg_out = (int)n.size();</span></div><div class="line"><a name="l03419"></a><span class="lineno"> 3419</span>&#160;            <span class="comment">/*</span></div><div class="line"><a name="l03420"></a><span class="lineno"> 3420</span>&#160;<span class="comment">            while ((int)n.size() &gt; narg_out)    n.pop_back();</span></div><div class="line"><a name="l03421"></a><span class="lineno"> 3421</span>&#160;<span class="comment">            */</span></div><div class="line"><a name="l03422"></a><span class="lineno"> 3422</span>&#160;            <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#ab2b3dd35cd205fa6f4b80882fd937481">popID</a>();</div><div class="line"><a name="l03423"></a><span class="lineno"> 3423</span>&#160;            <span class="keywordflow">return</span> n;</div><div class="line"><a name="l03424"></a><span class="lineno"> 3424</span>&#160;        }</div><div class="line"><a name="l03425"></a><span class="lineno"> 3425</span>&#160;        <span class="keywordflow">catch</span> (Exception&amp; e)</div><div class="line"><a name="l03426"></a><span class="lineno"> 3426</span>&#160;        {</div><div class="line"><a name="l03427"></a><span class="lineno"> 3427</span>&#160;            e.what();</div><div class="line"><a name="l03428"></a><span class="lineno"> 3428</span>&#160;            InCLI = CLIFlagsave;</div><div class="line"><a name="l03429"></a><span class="lineno"> 3429</span>&#160;            throw ;</div><div class="line"><a name="l03430"></a><span class="lineno"> 3430</span>&#160;        }</div><div class="line"><a name="l03431"></a><span class="lineno"> 3431</span>&#160;        <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#ab2b3dd35cd205fa6f4b80882fd937481">popID</a>();</div><div class="line"><a name="l03432"></a><span class="lineno"> 3432</span>&#160;        <span class="keyword">delete</span>[] keywordNdx;</div><div class="line"><a name="l03433"></a><span class="lineno"> 3433</span>&#160;        <span class="keyword">delete</span>[] argTypeMap;</div><div class="line"><a name="l03434"></a><span class="lineno"> 3434</span>&#160;    }</div><div class="ttc" id="class_nelson_1_1_evaluator_html_aee2051332070cc09eff626ef99c498bf"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#aee2051332070cc09eff626ef99c498bf">Nelson::Evaluator::pushID</a></div><div class="ttdeci">void pushID(int)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00133">Evaluator.cpp:133</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_a85a1b68ec34f3e8a7c855e4bb860cbf1"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">Nelson::Evaluator::expression</a></div><div class="ttdeci">ArrayOf expression(ASTPtr t)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00448">Evaluator.cpp:448</a></div></div>
<div class="ttc" id="class_nelson_1_1_array_of_html_aa2134f26750762813ec1b0ee1a6c05b9"><div class="ttname"><a href="../../d2/d46/class_nelson_1_1_array_of.html#aa2134f26750762813ec1b0ee1a6c05b9">Nelson::ArrayOf::logicalConstructor</a></div><div class="ttdeci">static ArrayOf logicalConstructor(bool aval)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da2/_array_of___logical_type_8cpp_source.html#l00039">ArrayOf_LogicalType.cpp:39</a></div></div>
<div class="ttc" id="class_nelson_1_1_array_of_html_a9a613eca0888bdf0f07f112b6add495f"><div class="ttname"><a href="../../d2/d46/class_nelson_1_1_array_of.html#a9a613eca0888bdf0f07f112b6add495f">Nelson::ArrayOf::emptyConstructor</a></div><div class="ttdeci">static ArrayOf emptyConstructor(Dimensions dim, bool bIsSparse=false)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d59/_array_of_8cpp_source.html#l02376">ArrayOf.cpp:2376</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_ab2b3dd35cd205fa6f4b80882fd937481"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#ab2b3dd35cd205fa6f4b80882fd937481">Nelson::Evaluator::popID</a></div><div class="ttdeci">void popID()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00149">Evaluator.cpp:149</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_ab0099c901e72d85b3528ba8f1649e906"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#ab0099c901e72d85b3528ba8f1649e906">Nelson::Evaluator::expressionList</a></div><div class="ttdeci">ArrayOfVector expressionList(ASTPtr t, Dimensions *dim)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00791">Evaluator.cpp:791</a></div></div>
<div class="ttc" id="class_nelson_1_1_context_html_a6d61ffdd05d5e85aa4a747f84b3551c1"><div class="ttname"><a href="../../db/d1f/class_nelson_1_1_context.html#a6d61ffdd05d5e85aa4a747f84b3551c1">Nelson::Context::lookupVariable</a></div><div class="ttdeci">bool lookupVariable(const std::string &amp;varName, ArrayOf &amp;var)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/df6/_context_8cpp_source.html#l00136">Context.cpp:136</a></div></div>
<div class="ttc" id="class_nelson_1_1_context_html_affcf1c0f68f6b99452dfeb9a24f5cd83"><div class="ttname"><a href="../../db/d1f/class_nelson_1_1_context.html#affcf1c0f68f6b99452dfeb9a24f5cd83">Nelson::Context::insertVariable</a></div><div class="ttdeci">bool insertVariable(const std::string &amp;varName, const ArrayOf &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/df6/_context_8cpp_source.html#l00115">Context.cpp:115</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1d15f4958b5634ea39d01cd6796eb0d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d15f4958b5634ea39d01cd6796eb0d4">&#9670;&nbsp;</a></span>getContext()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d1f/class_nelson_1_1_context.html">Context</a> * Nelson::Evaluator::getContext </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the context we are running with. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l02057">2057</a> of file <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html">Evaluator.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/df8/_macro_function_def_8cpp_source.html#l00155">Nelson::MacroFunctionDef::evaluateFunction()</a>.</p>
<div class="fragment"><div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;    {</div><div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;        <span class="keywordflow">return</span> context;</div><div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a id="a6fa6f88a81005ff2329c54f38656a061"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6fa6f88a81005ff2329c54f38656a061">&#9670;&nbsp;</a></span>getExitCode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Nelson::Evaluator::getExitCode </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get exit code. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l00196">196</a> of file <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html">Evaluator.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    {</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        <span class="keywordflow">return</span> exitCode;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a id="a2d09aaff14ad486aecd996b3da9501ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d09aaff14ad486aecd996b3da9501ee">&#9670;&nbsp;</a></span>getLastErrorString()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::wstring Nelson::Evaluator::getLastErrorString </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the last error that occurred. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l04270">4270</a> of file <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html">Evaluator.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l04271"></a><span class="lineno"> 4271</span>&#160;    {</div><div class="line"><a name="l04272"></a><span class="lineno"> 4272</span>&#160;        <span class="keywordflow">return</span> lastException-&gt;<a class="code" href="../../db/db9/class_nelson_1_1_exception.html#a46ddaf311d776b8f10e290442843e59e">getMessage</a>();</div><div class="line"><a name="l04273"></a><span class="lineno"> 4273</span>&#160;    }</div><div class="ttc" id="class_nelson_1_1_exception_html_a46ddaf311d776b8f10e290442843e59e"><div class="ttname"><a href="../../db/db9/class_nelson_1_1_exception.html#a46ddaf311d776b8f10e290442843e59e">Nelson::Exception::getMessage</a></div><div class="ttdeci">std::wstring getMessage()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/de1/_exception_8cpp_source.html#l00110">Exception.cpp:110</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab83fbfedcf2de3edb6e1bf7eb56f0b7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab83fbfedcf2de3edb6e1bf7eb56f0b7d">&#9670;&nbsp;</a></span>getLastWarningString()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::wstring Nelson::Evaluator::getLastWarningString </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the last warning that occurred. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l04320">4320</a> of file <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html">Evaluator.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l04321"></a><span class="lineno"> 4321</span>&#160;    {</div><div class="line"><a name="l04322"></a><span class="lineno"> 4322</span>&#160;        <span class="keywordflow">return</span> lastwarn;</div><div class="line"><a name="l04323"></a><span class="lineno"> 4323</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a id="ade801112564a0ffc6053631c5bf84b63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade801112564a0ffc6053631c5bf84b63">&#9670;&nbsp;</a></span>getOverloadState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Nelson::Evaluator::getOverloadState </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get current overload state (enabled by default) </p>

<p class="definition">Definition at line <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l04410">4410</a> of file <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html">Evaluator.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l04411"></a><span class="lineno"> 4411</span>&#160;    {</div><div class="line"><a name="l04412"></a><span class="lineno"> 4412</span>&#160;        <span class="keywordflow">return</span> bAllowOverload;</div><div class="line"><a name="l04413"></a><span class="lineno"> 4413</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a id="aef7082affe999808a9d89fff926e8670"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef7082affe999808a9d89fff926e8670">&#9670;&nbsp;</a></span>getPrintLimit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Nelson::Evaluator::getPrintLimit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the print limit (number of element printed prior to truncation). </p>

<p class="definition">Definition at line <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l00166">166</a> of file <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html">Evaluator.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    {</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        <span class="keywordflow">return</span>(printLimit);</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a id="a0d7cd4e6fb82eaa6675e2a152def2c4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d7cd4e6fb82eaa6675e2a152def2c4c">&#9670;&nbsp;</a></span>getState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">State Nelson::Evaluator::getState </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the state of the tree walker. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l00191">191</a> of file <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html">Evaluator.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l04453">evalCLI()</a>, and <a class="el" href="../../df/df8/_macro_function_def_8cpp_source.html#l00155">Nelson::MacroFunctionDef::evaluateFunction()</a>.</p>
<div class="fragment"><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    {</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        <span class="keywordflow">return</span> state;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a id="a59a2f25bdefa2ea31ead1bed591beb59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59a2f25bdefa2ea31ead1bed591beb59">&#9670;&nbsp;</a></span>ifStatement()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Nelson::Evaluator::ifStatement </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">ASTPtr</a>&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Handles an if statement, corresponding to an if, a number of elseif blocks and an optional else statement. The <a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">AST</a> looks like cstat-&gt;elseIfBlock-&gt;elseCode | | | cstat-&gt;cstat-&gt;cstat expr-&gt;codeBlock where each of the elseIf blocks are tested sequentially until one of them succeeds. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l01170">1170</a> of file <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html">Evaluator.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l01712">statementType()</a>.</p>
<div class="fragment"><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;    {</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;        <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#aee2051332070cc09eff626ef99c498bf">pushID</a>(t-&gt;context());</div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;        <span class="keywordtype">bool</span> condStat = <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a25f34dd0529f4d21c7e758ae81093084">conditionedStatement</a>(t);</div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;        <span class="keywordflow">if</span> (!condStat)</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;        {</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;            t = t-&gt;right;</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;            <span class="comment">// Check for additional conditions</span></div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;            <span class="keywordflow">if</span> (t != <span class="keyword">nullptr</span>)</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;            {</div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;                <span class="keywordtype">bool</span> elseifMatched = <span class="keyword">false</span>;</div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;                <span class="keywordflow">if</span> (t-&gt;opNum == (OP_ELSEIFBLOCK))</div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;                {</div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;                    ASTPtr s = t-&gt;down;</div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;                    <span class="keywordflow">while</span> (!elseifMatched &amp;&amp; s != <span class="keyword">nullptr</span>)</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;                    {</div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;                        elseifMatched = <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a25f34dd0529f4d21c7e758ae81093084">conditionedStatement</a>(s);</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;                        s = s-&gt;right;</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;                    }</div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;                    t = t-&gt;right;</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;                }</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;                <span class="keywordflow">if</span> (!(elseifMatched || t == <span class="keyword">nullptr</span>))</div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;                {</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;                    <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a548de9d4130e1c6c8c1298c68a2ebbd8">block</a>(t);</div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;                }</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;            }</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;        }</div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;        <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#ab2b3dd35cd205fa6f4b80882fd937481">popID</a>();</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;    }</div><div class="ttc" id="class_nelson_1_1_evaluator_html_aee2051332070cc09eff626ef99c498bf"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#aee2051332070cc09eff626ef99c498bf">Nelson::Evaluator::pushID</a></div><div class="ttdeci">void pushID(int)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00133">Evaluator.cpp:133</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_a25f34dd0529f4d21c7e758ae81093084"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#a25f34dd0529f4d21c7e758ae81093084">Nelson::Evaluator::conditionedStatement</a></div><div class="ttdeci">bool conditionedStatement(ASTPtr t)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00905">Evaluator.cpp:905</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_ab2b3dd35cd205fa6f4b80882fd937481"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#ab2b3dd35cd205fa6f4b80882fd937481">Nelson::Evaluator::popID</a></div><div class="ttdeci">void popID()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00149">Evaluator.cpp:149</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_a548de9d4130e1c6c8c1298c68a2ebbd8"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#a548de9d4130e1c6c8c1298c68a2ebbd8">Nelson::Evaluator::block</a></div><div class="ttdeci">void block(ASTPtr t)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l02004">Evaluator.cpp:2004</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa169442da120d4445972f7bcf1fe4fcc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa169442da120d4445972f7bcf1fe4fcc">&#9670;&nbsp;</a></span>lookupFunction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Nelson::Evaluator::lookupFunction </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>funcName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d20/class_nelson_1_1_function_def.html">FuncPtr</a> &amp;&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Look up an identifier as a potential function name </p>

<p class="definition">Definition at line <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l03649">3649</a> of file <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html">Evaluator.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l02509">multiFunctionCall()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l03880">rhsExpression()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l03654">rhsExpressionSimple()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l02458">specialFunctionCall()</a>, and <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l01712">statementType()</a>.</p>
<div class="fragment"><div class="line"><a name="l03650"></a><span class="lineno"> 3650</span>&#160;    {</div><div class="line"><a name="l03651"></a><span class="lineno"> 3651</span>&#160;        <span class="keywordflow">return</span> context-&gt;<a class="code" href="../../db/d1f/class_nelson_1_1_context.html#a369ebdc9db35a27d3b53a86452cd3759">lookupFunction</a>(funcName, val);</div><div class="line"><a name="l03652"></a><span class="lineno"> 3652</span>&#160;    }</div><div class="ttc" id="class_nelson_1_1_context_html_a369ebdc9db35a27d3b53a86452cd3759"><div class="ttname"><a href="../../db/d1f/class_nelson_1_1_context.html#a369ebdc9db35a27d3b53a86452cd3759">Nelson::Context::lookupFunction</a></div><div class="ttdeci">bool lookupFunction(std::string funcName, FuncPtr &amp;val, bool builtinOnly=false)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/df6/_context_8cpp_source.html#l00202">Context.cpp:202</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a47754c1a02877f50d6d8465a1c4f95f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47754c1a02877f50d6d8465a1c4f95f0">&#9670;&nbsp;</a></span>matrixDefinition()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d46/class_nelson_1_1_array_of.html">ArrayOf</a> Nelson::Evaluator::matrixDefinition </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">ASTPtr</a>&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Convert a matrix definition of the form: [expr1,expr2;expr3;expr4] into a vector of row definitions. The first row is the vector [expr1,expr2], and the second is the vector [expr3,expr4]. The <a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">AST</a> input should look like: [] | ;-&gt; ; -&gt; ... -&gt; NULL | | | rowDef rowDef </p>

<p class="definition">Definition at line <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l00280">280</a> of file <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html">Evaluator.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l00448">expression()</a>.</p>
<div class="fragment"><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    {</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        ArrayOfMatrix m;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        <span class="comment">//m.reserve(4096);</span></div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        <span class="keywordflow">if</span> (t-&gt;opNum != OP_BRACKETS)</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        {</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;            Error(<span class="keyword">this</span>, ERROR_AST_SYNTAX_ERROR);</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        }</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        ASTPtr s = t-&gt;down;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#aee2051332070cc09eff626ef99c498bf">pushID</a>(s-&gt;context());</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        <span class="keywordflow">while</span> (s != <span class="keyword">nullptr</span>)</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        {</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;            m.push_back(<a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a819e13bde9b0cfd872bdf93a4834f88c">rowDefinition</a>(s));</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;            s = s-&gt;right;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        }</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        ArrayOfVector v;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        <span class="keywordflow">for</span> (indexType k = 0; k &lt; m.size(); k++)</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        {</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;            ArrayOf h = HorzCat(<span class="keyword">this</span>, m[k]);</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;            v.push_back(h);</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        }</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        ArrayOf res = VertCat(<span class="keyword">this</span>, v);</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        <span class="comment">//ArrayOf retval(ArrayOf::matrixConstructor(m));</span></div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#ab2b3dd35cd205fa6f4b80882fd937481">popID</a>();</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        <span class="comment">//return retval;</span></div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    }</div><div class="ttc" id="class_nelson_1_1_evaluator_html_aee2051332070cc09eff626ef99c498bf"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#aee2051332070cc09eff626ef99c498bf">Nelson::Evaluator::pushID</a></div><div class="ttdeci">void pushID(int)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00133">Evaluator.cpp:133</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_a819e13bde9b0cfd872bdf93a4834f88c"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#a819e13bde9b0cfd872bdf93a4834f88c">Nelson::Evaluator::rowDefinition</a></div><div class="ttdeci">ArrayOfVector rowDefinition(ASTPtr t)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00206">Evaluator.cpp:206</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_ab2b3dd35cd205fa6f4b80882fd937481"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#ab2b3dd35cd205fa6f4b80882fd937481">Nelson::Evaluator::popID</a></div><div class="ttdeci">void popID()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00149">Evaluator.cpp:149</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a90d227c0237c6872fcc1aa3e0842a9b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90d227c0237c6872fcc1aa3e0842a9b4">&#9670;&nbsp;</a></span>multiFunctionCall()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Nelson::Evaluator::multiFunctionCall </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">ASTPtr</a>&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>printIt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A multifunction call is an expression of the sort [expr1,expr2,...,exprn] = func(args). The <a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">AST</a> is multiCall | []-&gt;functionExpression_AST | ;-&gt;NULL | rowDefs When calculating the number of left hand sides for the multifunction, single variables without subindexing expressions are counted as a single left hand side. Thus, an expression such as [A{1:3},B] = func(args) counts for four left hand sides, regardless of the contents of B. If the printIt flag is set, each of the outputs is to be written to the console. Throws an exception if the <a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">AST</a> is malformed (i.e., the '[]' is missing, or there are multiple rows in the left hand side.). </p>

<p class="definition">Definition at line <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l02509">2509</a> of file <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html">Evaluator.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l01712">statementType()</a>.</p>
<div class="fragment"><div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;    {</div><div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;        ArrayOfVector m;</div><div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;        ASTPtr s, fAST, saveLHS, cAST;</div><div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;        ArrayOf c;</div><div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;        <span class="comment">//int lhsSize;</span></div><div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;        FunctionDef *fptr;</div><div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;        cAST = t;</div><div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;        fAST = t-&gt;right;</div><div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;        <span class="keywordtype">bool</span> bDeal = <span class="keyword">false</span>;</div><div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;        <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#aee2051332070cc09eff626ef99c498bf">pushID</a>(fAST-&gt;context());</div><div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;        ArrayOf r;</div><div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#aa169442da120d4445972f7bcf1fe4fcc">lookupFunction</a>(fAST-&gt;text, fptr))</div><div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;        {</div><div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;            <span class="keywordtype">bool</span> isVar = context-&gt;<a class="code" href="../../db/d1f/class_nelson_1_1_context.html#a6d61ffdd05d5e85aa4a747f84b3551c1">lookupVariable</a>(fAST-&gt;text, r);</div><div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;            <span class="keywordflow">if</span> (isVar)</div><div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;            {</div><div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;                <span class="keywordflow">if</span> (r.isClassStruct())</div><div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;                {</div><div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;                    std::string className = r.getStructType();</div><div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;                    std::string extractionFunctionName = className + <span class="stringliteral">&quot;_extraction&quot;</span>;</div><div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;                    <span class="keywordtype">bool</span> isFun = <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#aa169442da120d4445972f7bcf1fe4fcc">lookupFunction</a>(extractionFunctionName, fptr);</div><div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;                    <span class="keywordflow">if</span> (!isFun)</div><div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;                    {</div><div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;                        Error(<span class="keyword">this</span>, utf8_to_wstring(_(<span class="stringliteral">&quot;Undefined function&quot;</span>) + <span class="stringliteral">&quot; &quot;</span> + extractionFunctionName));</div><div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;                    }</div><div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;                }</div><div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (r.isCell())</div><div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;                {</div><div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;                    <span class="comment">// C = {rand(3),nan(3),zeros(3),inf(3)}</span></div><div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;                    <span class="comment">// [a, b, c, d] = C{ : }</span></div><div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;                    <span class="keywordflow">if</span> (t-&gt;opNum != OP_BRACKETS)</div><div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;                    {</div><div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;                        Error(<span class="keyword">this</span>, ERROR_ILLEGAL_LEFT_MULTIFUNCTION_EXPRESSION);</div><div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;                    }</div><div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;                    bDeal = <span class="keyword">true</span>;</div><div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;                }</div><div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;                <span class="keywordflow">else</span></div><div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;                {</div><div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;                    Error(<span class="keyword">this</span>, utf8_to_wstring(_(<span class="stringliteral">&quot;Undefined function&quot;</span>) + <span class="stringliteral">&quot; &quot;</span> + fAST-&gt;text));</div><div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;                }</div><div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;            }</div><div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;            {</div><div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;                Error(<span class="keyword">this</span>, utf8_to_wstring(_(<span class="stringliteral">&quot;Undefined function&quot;</span>) + <span class="stringliteral">&quot; &quot;</span> + fAST-&gt;text));</div><div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;            }</div><div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;        }</div><div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;        <span class="keywordflow">if</span> (t-&gt;opNum != OP_BRACKETS)</div><div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;        {</div><div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;            Error(<span class="keyword">this</span>, ERROR_ILLEGAL_LEFT_MULTIFUNCTION_EXPRESSION);</div><div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;        }</div><div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;        s = t-&gt;down;</div><div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;        <span class="keywordflow">if</span> (s-&gt;opNum != OP_SEMICOLON)</div><div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;        {</div><div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;            Error(<span class="keyword">this</span>, ERROR_ILLEGAL_LEFT_MULTIFUNCTION_EXPRESSION);</div><div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;        }</div><div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;        <span class="keywordflow">if</span> (s-&gt;right != <span class="keyword">nullptr</span>)</div><div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;        {</div><div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;            Error(<span class="keyword">this</span>, ERROR_MULTIPLE_ROWS_NOT_ALLOWED);</div><div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;        }</div><div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;        <span class="comment">// We have to make multiple passes through the LHS part of the AST.</span></div><div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;        <span class="comment">// The first pass is to count how many function outputs are actually</span></div><div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;        <span class="comment">// being requested.</span></div><div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;        <span class="comment">// Calculate how many lhs objects there are</span></div><div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;        <span class="comment">//lhsSize = s-&gt;peerCount();</span></div><div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;        s = s-&gt;down;</div><div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;        saveLHS = s;</div><div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;        <span class="comment">// Get the lhs objects into rset</span></div><div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;        indexType lhsCount = 0;</div><div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;        ASTPtr mptr = s;</div><div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;        <span class="keywordflow">while</span> (mptr != <span class="keyword">nullptr</span>)</div><div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;        {</div><div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;            indexType dmp = countLeftHandSides(mptr-&gt;down);</div><div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;            lhsCount += dmp;</div><div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;            mptr = mptr-&gt;right;</div><div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;        }</div><div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;        <span class="keywordflow">if</span> (bDeal)</div><div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;        {</div><div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;            <span class="comment">// C = {rand(3),nan(3),zeros(3),inf(3)}</span></div><div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;            <span class="comment">// [a, b, c, d] = C{ : }</span></div><div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;            Dimensions rhsDimensions;</div><div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;            rhsDimensions = r.getDimensions();</div><div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;            m = <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#ab0099c901e72d85b3528ba8f1649e906">expressionList</a>(fAST-&gt;down-&gt;down, &amp;rhsDimensions);</div><div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;            <span class="keywordflow">if</span> (m.size() == 0)</div><div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;            {</div><div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;                Error(<span class="keyword">this</span>, ERROR_INDEX_EXPRESSION_EXPECTED);</div><div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;            }</div><div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (m.size() == 1)</div><div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;            {</div><div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;                ArrayOfVector m2 = r.getVectorContentsAsList(m[0]);</div><div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;                <span class="keywordflow">if</span> ((indexType)m2.size() &lt; lhsCount)</div><div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;                {</div><div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;                    Error(<span class="keyword">this</span>, _W(<span class="stringliteral">&quot;Insufficient number of outputs.&quot;</span>));</div><div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;                }</div><div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;                <span class="keywordflow">else</span></div><div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;                {</div><div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;                    m = m2;</div><div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;                }</div><div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;            }</div><div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;            {</div><div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;                Error(<span class="keyword">this</span>, _W(<span class="stringliteral">&quot;Case not managed.&quot;</span>));</div><div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;            }</div><div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;        }</div><div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;        {</div><div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;            m = <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a87271a334465cbb93a99436d1674dd81">functionExpression</a>(fptr, fAST, (<span class="keywordtype">int</span>)lhsCount, <span class="keyword">false</span>);</div><div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;        }</div><div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;        s = saveLHS;</div><div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;        <span class="keywordflow">while</span> ((s != <span class="keyword">nullptr</span>) &amp;&amp; (m.size() &gt; 0))</div><div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;        {</div><div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;            ArrayOf c(assignExpression(s-&gt;down, m));</div><div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;            <span class="keywordtype">bool</span> bInserted = context-&gt;<a class="code" href="../../db/d1f/class_nelson_1_1_context.html#affcf1c0f68f6b99452dfeb9a24f5cd83">insertVariable</a>(s-&gt;down-&gt;text, c);</div><div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;            <span class="keywordflow">if</span> (!bInserted)</div><div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;            {</div><div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;                Error(<span class="keyword">this</span>, _W(<span class="stringliteral">&quot;Redefining permanent variable.&quot;</span>));</div><div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;            }</div><div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;            <span class="keywordflow">if</span> (printIt)</div><div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;            {</div><div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;                io-&gt;<a class="code" href="../../da/d11/class_nelson_1_1_interface.html#af9306e16136e800f11c7d2cc8c5ea652">outputMessage</a>(s-&gt;down-&gt;text);</div><div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;                io-&gt;<a class="code" href="../../da/d11/class_nelson_1_1_interface.html#af9306e16136e800f11c7d2cc8c5ea652">outputMessage</a>(L<span class="stringliteral">&quot; =\n\n&quot;</span>);</div><div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;                OverloadDisplay(<span class="keyword">this</span>, c);</div><div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;            }</div><div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;            s = s-&gt;right;</div><div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;        }</div><div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;        <span class="keywordflow">if</span> (s != <span class="keyword">nullptr</span>)</div><div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;        {</div><div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;            io-&gt;<a class="code" href="../../da/d11/class_nelson_1_1_interface.html#a198668ff32ce4415aedada8cd987753d">warningMessage</a>(WARNING_OUTPUTS_NOT_ASSIGNED);</div><div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;        }</div><div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;        <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#ab2b3dd35cd205fa6f4b80882fd937481">popID</a>();</div><div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;    }</div><div class="ttc" id="class_nelson_1_1_interface_html_a198668ff32ce4415aedada8cd987753d"><div class="ttname"><a href="../../da/d11/class_nelson_1_1_interface.html#a198668ff32ce4415aedada8cd987753d">Nelson::Interface::warningMessage</a></div><div class="ttdeci">virtual void warningMessage(std::string msg)=0</div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_aee2051332070cc09eff626ef99c498bf"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#aee2051332070cc09eff626ef99c498bf">Nelson::Evaluator::pushID</a></div><div class="ttdeci">void pushID(int)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00133">Evaluator.cpp:133</a></div></div>
<div class="ttc" id="class_nelson_1_1_interface_html_af9306e16136e800f11c7d2cc8c5ea652"><div class="ttname"><a href="../../da/d11/class_nelson_1_1_interface.html#af9306e16136e800f11c7d2cc8c5ea652">Nelson::Interface::outputMessage</a></div><div class="ttdeci">virtual void outputMessage(std::string msg)=0</div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_a87271a334465cbb93a99436d1674dd81"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#a87271a334465cbb93a99436d1674dd81">Nelson::Evaluator::functionExpression</a></div><div class="ttdeci">ArrayOfVector functionExpression(FunctionDef *funcDef, ASTPtr t, int narg_out, bool outputOptional)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l03096">Evaluator.cpp:3096</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_ab2b3dd35cd205fa6f4b80882fd937481"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#ab2b3dd35cd205fa6f4b80882fd937481">Nelson::Evaluator::popID</a></div><div class="ttdeci">void popID()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00149">Evaluator.cpp:149</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_ab0099c901e72d85b3528ba8f1649e906"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#ab0099c901e72d85b3528ba8f1649e906">Nelson::Evaluator::expressionList</a></div><div class="ttdeci">ArrayOfVector expressionList(ASTPtr t, Dimensions *dim)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00791">Evaluator.cpp:791</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_aa169442da120d4445972f7bcf1fe4fcc"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#aa169442da120d4445972f7bcf1fe4fcc">Nelson::Evaluator::lookupFunction</a></div><div class="ttdeci">bool lookupFunction(std::string funcName, FuncPtr &amp;val)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l03649">Evaluator.cpp:3649</a></div></div>
<div class="ttc" id="class_nelson_1_1_context_html_a6d61ffdd05d5e85aa4a747f84b3551c1"><div class="ttname"><a href="../../db/d1f/class_nelson_1_1_context.html#a6d61ffdd05d5e85aa4a747f84b3551c1">Nelson::Context::lookupVariable</a></div><div class="ttdeci">bool lookupVariable(const std::string &amp;varName, ArrayOf &amp;var)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/df6/_context_8cpp_source.html#l00136">Context.cpp:136</a></div></div>
<div class="ttc" id="class_nelson_1_1_context_html_affcf1c0f68f6b99452dfeb9a24f5cd83"><div class="ttname"><a href="../../db/d1f/class_nelson_1_1_context.html#affcf1c0f68f6b99452dfeb9a24f5cd83">Nelson::Context::insertVariable</a></div><div class="ttdeci">bool insertVariable(const std::string &amp;varName, const ArrayOf &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/df6/_context_8cpp_source.html#l00115">Context.cpp:115</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab2b3dd35cd205fa6f4b80882fd937481"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2b3dd35cd205fa6f4b80882fd937481">&#9670;&nbsp;</a></span>popID()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Nelson::Evaluator::popID </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Pop a location ID off the stack </p>

<p class="definition">Definition at line <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l00149">149</a> of file <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html">Evaluator.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l00349">cellDefinition()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l00905">conditionedStatement()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l00769">doubleColon()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l00448">expression()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l00791">expressionList()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l01316">forStatement()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l03096">functionExpression()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l01170">ifStatement()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l00280">matrixDefinition()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l02509">multiFunctionCall()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l03880">rhsExpression()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l03654">rhsExpressionSimple()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l00206">rowDefinition()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l00386">ShortCutOr()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l02062">simpleSubindexExpression()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l02458">specialFunctionCall()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l01959">statement()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l01712">statementType()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l01087">switchStatement()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l00935">testCaseStatement()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l00754">unitColon()</a>, and <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l01226">whileStatement()</a>.</p>
<div class="fragment"><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    {</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        <span class="keywordflow">if</span> (!cstack.empty())</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        {</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;            cstack.pop_back();</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        }</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        {</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;            io-&gt;<a class="code" href="../../da/d11/class_nelson_1_1_interface.html#af9306e16136e800f11c7d2cc8c5ea652">outputMessage</a>(<span class="stringliteral">&quot;IDERROR\n&quot;</span>);</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        }</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    }</div><div class="ttc" id="class_nelson_1_1_interface_html_af9306e16136e800f11c7d2cc8c5ea652"><div class="ttname"><a href="../../da/d11/class_nelson_1_1_interface.html#af9306e16136e800f11c7d2cc8c5ea652">Nelson::Interface::outputMessage</a></div><div class="ttdeci">virtual void outputMessage(std::string msg)=0</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aee2051332070cc09eff626ef99c498bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee2051332070cc09eff626ef99c498bf">&#9670;&nbsp;</a></span>pushID()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Nelson::Evaluator::pushID </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>a</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Push the given location ID onto the stack </p>

<p class="definition">Definition at line <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l00133">133</a> of file <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html">Evaluator.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l00349">cellDefinition()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l00905">conditionedStatement()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l00769">doubleColon()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l00448">expression()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l00791">expressionList()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l01316">forStatement()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l03096">functionExpression()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l01170">ifStatement()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l00280">matrixDefinition()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l02509">multiFunctionCall()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l03880">rhsExpression()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l03654">rhsExpressionSimple()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l00206">rowDefinition()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l00386">ShortCutOr()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l02062">simpleSubindexExpression()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l02458">specialFunctionCall()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l01959">statement()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l01712">statementType()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l01087">switchStatement()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l00935">testCaseStatement()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l00754">unitColon()</a>, and <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l01226">whileStatement()</a>.</p>
<div class="fragment"><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    {</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        <span class="keywordflow">if</span> (!cstack.empty())</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        {</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;            <span class="keywordflow">if</span> (cstack.size() &gt; cstack.capacity() - 100)</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;            {</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                cstack.reserve(cstack.capacity() * 2);</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;            }</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;            cstack.push_back(StackEntry(cstack.back().cname, cstack.back().detail, a));</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        }</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        {</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;            cstack.push_back(StackEntry(<span class="stringliteral">&quot;base&quot;</span>, <span class="stringliteral">&quot;base&quot;</span>, a));</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        }</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a id="abdb69079dab69283f5009a1974137846"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abdb69079dab69283f5009a1974137846">&#9670;&nbsp;</a></span>resetState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Nelson::Evaluator::resetState </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reset the state of the tree walker. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l00171">171</a> of file <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html">Evaluator.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l02004">block()</a>, <a class="el" href="../../df/df8/_macro_function_def_8cpp_source.html#l00155">Nelson::MacroFunctionDef::evaluateFunction()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l04111">Evaluator()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l01316">forStatement()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l01712">statementType()</a>, and <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l01226">whileStatement()</a>.</p>
<div class="fragment"><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    {</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        state = NLS_STATE_OK;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a id="a13c22c4af6b6932f7bd885995392f43e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13c22c4af6b6932f7bd885995392f43e">&#9670;&nbsp;</a></span>rhsExpression()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ArrayOfVector Nelson::Evaluator::rhsExpression </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">ASTPtr</a>&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The RHS expression is used to represent an rvalue in an assignment statement (or an implicit assignment such as &ndash;&gt;2+3). The form of the <a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">AST</a> depends on the head. If the head identifier is a function name, then the form of the <a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">AST</a> is: ident | () | expr1-&gt;expr2-&gt;... On the other hand, if the identifier represents a variable (variables are checked for first, incidentally), then the <a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">AST</a> looks like: ident | ()-&gt;{}-&gt;. | | | | | field | expr3-&gt;... expr1-&gt;expr2-&gt;... Throws an <a class="el" href="../../db/db9/class_nelson_1_1_exception.html">Exception</a></p><ul>
<li>if the identifier cannot be matched to either a variable or function.</li>
<li></li>
</ul>

<p class="definition">Definition at line <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l03880">3880</a> of file <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html">Evaluator.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l00448">expression()</a>, <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l00791">expressionList()</a>, and <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l01712">statementType()</a>.</p>
<div class="fragment"><div class="line"><a name="l03881"></a><span class="lineno"> 3881</span>&#160;    {</div><div class="line"><a name="l03882"></a><span class="lineno"> 3882</span>&#160;        ArrayOf r, q;</div><div class="line"><a name="l03883"></a><span class="lineno"> 3883</span>&#160;        ArrayOf n, p;</div><div class="line"><a name="l03884"></a><span class="lineno"> 3884</span>&#160;        ArrayOfVector m;</div><div class="line"><a name="l03885"></a><span class="lineno"> 3885</span>&#160;        ArrayOfVector rv;</div><div class="line"><a name="l03886"></a><span class="lineno"> 3886</span>&#160;        <span class="keywordtype">bool</span> isVar;</div><div class="line"><a name="l03887"></a><span class="lineno"> 3887</span>&#160;        <span class="keywordtype">bool</span> isFun = <span class="keyword">false</span>;</div><div class="line"><a name="l03888"></a><span class="lineno"> 3888</span>&#160;        Dimensions rhsDimensions;</div><div class="line"><a name="l03889"></a><span class="lineno"> 3889</span>&#160;        FunctionDef *funcDef = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l03890"></a><span class="lineno"> 3890</span>&#160;        <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#aee2051332070cc09eff626ef99c498bf">pushID</a>(t-&gt;context());</div><div class="line"><a name="l03891"></a><span class="lineno"> 3891</span>&#160;        <span class="comment">// Try to satisfy the rhs expression with what functions we have already</span></div><div class="line"><a name="l03892"></a><span class="lineno"> 3892</span>&#160;        <span class="comment">// loaded.</span></div><div class="line"><a name="l03893"></a><span class="lineno"> 3893</span>&#160;        isVar = context-&gt;<a class="code" href="../../db/d1f/class_nelson_1_1_context.html#a6d61ffdd05d5e85aa4a747f84b3551c1">lookupVariable</a>(t-&gt;text, r);</div><div class="line"><a name="l03894"></a><span class="lineno"> 3894</span>&#160;        <span class="keywordflow">if</span> (isVar)</div><div class="line"><a name="l03895"></a><span class="lineno"> 3895</span>&#160;        {</div><div class="line"><a name="l03896"></a><span class="lineno"> 3896</span>&#160;            <span class="keywordflow">if</span> (r.isClassStruct())</div><div class="line"><a name="l03897"></a><span class="lineno"> 3897</span>&#160;            {</div><div class="line"><a name="l03898"></a><span class="lineno"> 3898</span>&#160;                std::string className = r.getStructType();</div><div class="line"><a name="l03899"></a><span class="lineno"> 3899</span>&#160;                std::string extractionFunctionName = className + <span class="stringliteral">&quot;_extraction&quot;</span>;</div><div class="line"><a name="l03900"></a><span class="lineno"> 3900</span>&#160;                isFun = <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#aa169442da120d4445972f7bcf1fe4fcc">lookupFunction</a>(extractionFunctionName, funcDef);</div><div class="line"><a name="l03901"></a><span class="lineno"> 3901</span>&#160;                <span class="keywordflow">if</span> (isFun)</div><div class="line"><a name="l03902"></a><span class="lineno"> 3902</span>&#160;                {</div><div class="line"><a name="l03903"></a><span class="lineno"> 3903</span>&#160;                    m = <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a87271a334465cbb93a99436d1674dd81">functionExpression</a>(funcDef, t, 1, <span class="keyword">false</span>);</div><div class="line"><a name="l03904"></a><span class="lineno"> 3904</span>&#160;                    <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#ab2b3dd35cd205fa6f4b80882fd937481">popID</a>();</div><div class="line"><a name="l03905"></a><span class="lineno"> 3905</span>&#160;                    <span class="keywordflow">return</span> m;</div><div class="line"><a name="l03906"></a><span class="lineno"> 3906</span>&#160;                }</div><div class="line"><a name="l03907"></a><span class="lineno"> 3907</span>&#160;                <span class="keywordflow">else</span></div><div class="line"><a name="l03908"></a><span class="lineno"> 3908</span>&#160;                {</div><div class="line"><a name="l03909"></a><span class="lineno"> 3909</span>&#160;                    Error(<span class="keyword">this</span>, utf8_to_wstring(_(<span class="stringliteral">&quot;Undefined function:&quot;</span>) + <span class="stringliteral">&quot; &quot;</span> + extractionFunctionName));</div><div class="line"><a name="l03910"></a><span class="lineno"> 3910</span>&#160;                }</div><div class="line"><a name="l03911"></a><span class="lineno"> 3911</span>&#160;            }</div><div class="line"><a name="l03912"></a><span class="lineno"> 3912</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l03913"></a><span class="lineno"> 3913</span>&#160;            {</div><div class="line"><a name="l03914"></a><span class="lineno"> 3914</span>&#160;                <span class="keywordflow">if</span> (t-&gt;down == <span class="keyword">nullptr</span>)</div><div class="line"><a name="l03915"></a><span class="lineno"> 3915</span>&#160;                {</div><div class="line"><a name="l03916"></a><span class="lineno"> 3916</span>&#160;                    ArrayOfVector rv;</div><div class="line"><a name="l03917"></a><span class="lineno"> 3917</span>&#160;                    rv.push_back(r);</div><div class="line"><a name="l03918"></a><span class="lineno"> 3918</span>&#160;                    <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#ab2b3dd35cd205fa6f4b80882fd937481">popID</a>();</div><div class="line"><a name="l03919"></a><span class="lineno"> 3919</span>&#160;                    <span class="keywordflow">return</span> rv;</div><div class="line"><a name="l03920"></a><span class="lineno"> 3920</span>&#160;                }</div><div class="line"><a name="l03921"></a><span class="lineno"> 3921</span>&#160;                <span class="keywordflow">else</span></div><div class="line"><a name="l03922"></a><span class="lineno"> 3922</span>&#160;                {</div><div class="line"><a name="l03923"></a><span class="lineno"> 3923</span>&#160;                    ASTPtr tt;</div><div class="line"><a name="l03924"></a><span class="lineno"> 3924</span>&#160;                    tt = t-&gt;down;</div><div class="line"><a name="l03925"></a><span class="lineno"> 3925</span>&#160;                    <span class="keywordflow">if</span> (tt-&gt;opNum == OP_PARENS)</div><div class="line"><a name="l03926"></a><span class="lineno"> 3926</span>&#160;                    {</div><div class="line"><a name="l03927"></a><span class="lineno"> 3927</span>&#160;                        <span class="keywordflow">if</span> (tt-&gt;down == <span class="keyword">nullptr</span>)</div><div class="line"><a name="l03928"></a><span class="lineno"> 3928</span>&#160;                        {</div><div class="line"><a name="l03929"></a><span class="lineno"> 3929</span>&#160;                            <span class="keywordflow">if</span> (tt-&gt;right)</div><div class="line"><a name="l03930"></a><span class="lineno"> 3930</span>&#160;                            {</div><div class="line"><a name="l03931"></a><span class="lineno"> 3931</span>&#160;                                tt = tt-&gt;right;</div><div class="line"><a name="l03932"></a><span class="lineno"> 3932</span>&#160;                                <span class="keywordflow">if</span> (tt-&gt;opNum == OP_DOT)</div><div class="line"><a name="l03933"></a><span class="lineno"> 3933</span>&#160;                                {</div><div class="line"><a name="l03934"></a><span class="lineno"> 3934</span>&#160;                                    ArrayOfVector rv;</div><div class="line"><a name="l03935"></a><span class="lineno"> 3935</span>&#160;                                    rv.push_back(r.getField(tt-&gt;down-&gt;text));</div><div class="line"><a name="l03936"></a><span class="lineno"> 3936</span>&#160;                                    <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#ab2b3dd35cd205fa6f4b80882fd937481">popID</a>();</div><div class="line"><a name="l03937"></a><span class="lineno"> 3937</span>&#160;                                    <span class="keywordflow">return</span> rv;</div><div class="line"><a name="l03938"></a><span class="lineno"> 3938</span>&#160;                                }</div><div class="line"><a name="l03939"></a><span class="lineno"> 3939</span>&#160;                            }</div><div class="line"><a name="l03940"></a><span class="lineno"> 3940</span>&#160;                        }</div><div class="line"><a name="l03941"></a><span class="lineno"> 3941</span>&#160;                    }</div><div class="line"><a name="l03942"></a><span class="lineno"> 3942</span>&#160;                }</div><div class="line"><a name="l03943"></a><span class="lineno"> 3943</span>&#160;            }</div><div class="line"><a name="l03944"></a><span class="lineno"> 3944</span>&#160;        }</div><div class="line"><a name="l03945"></a><span class="lineno"> 3945</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l03946"></a><span class="lineno"> 3946</span>&#160;        {</div><div class="line"><a name="l03947"></a><span class="lineno"> 3947</span>&#160;            isFun = <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#aa169442da120d4445972f7bcf1fe4fcc">lookupFunction</a>(t-&gt;text, funcDef);</div><div class="line"><a name="l03948"></a><span class="lineno"> 3948</span>&#160;            <span class="keywordflow">if</span> (isFun)</div><div class="line"><a name="l03949"></a><span class="lineno"> 3949</span>&#160;            {</div><div class="line"><a name="l03950"></a><span class="lineno"> 3950</span>&#160;                <span class="keywordflow">if</span> (funcDef-&gt;outputArgCount() == 0)</div><div class="line"><a name="l03951"></a><span class="lineno"> 3951</span>&#160;                {</div><div class="line"><a name="l03952"></a><span class="lineno"> 3952</span>&#160;                    <span class="keywordflow">throw</span> Exception(ERROR_WRONG_NUMBERS_OUTPUT_ARGS, utf8_to_wstring(funcDef-&gt;name));</div><div class="line"><a name="l03953"></a><span class="lineno"> 3953</span>&#160;                }</div><div class="line"><a name="l03954"></a><span class="lineno"> 3954</span>&#160;                m = <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a87271a334465cbb93a99436d1674dd81">functionExpression</a>(funcDef, t, 1, <span class="keyword">false</span>);</div><div class="line"><a name="l03955"></a><span class="lineno"> 3955</span>&#160;                <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#ab2b3dd35cd205fa6f4b80882fd937481">popID</a>();</div><div class="line"><a name="l03956"></a><span class="lineno"> 3956</span>&#160;                <span class="keywordflow">return</span> m;</div><div class="line"><a name="l03957"></a><span class="lineno"> 3957</span>&#160;            }</div><div class="line"><a name="l03958"></a><span class="lineno"> 3958</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l03959"></a><span class="lineno"> 3959</span>&#160;            {</div><div class="line"><a name="l03960"></a><span class="lineno"> 3960</span>&#160;                Error(<span class="keyword">this</span>, utf8_to_wstring(_(<span class="stringliteral">&quot;Undefined variable or function:&quot;</span>) + <span class="stringliteral">&quot; &quot;</span> + t-&gt;text));</div><div class="line"><a name="l03961"></a><span class="lineno"> 3961</span>&#160;            }</div><div class="line"><a name="l03962"></a><span class="lineno"> 3962</span>&#160;        }</div><div class="line"><a name="l03963"></a><span class="lineno"> 3963</span>&#160;        t = t-&gt;down;</div><div class="line"><a name="l03964"></a><span class="lineno"> 3964</span>&#160;        <span class="keywordflow">while</span> (t != <span class="keyword">nullptr</span>)</div><div class="line"><a name="l03965"></a><span class="lineno"> 3965</span>&#160;        {</div><div class="line"><a name="l03966"></a><span class="lineno"> 3966</span>&#160;            rhsDimensions = r.getDimensions();</div><div class="line"><a name="l03967"></a><span class="lineno"> 3967</span>&#160;            <span class="keywordflow">if</span> (!rv.empty())</div><div class="line"><a name="l03968"></a><span class="lineno"> 3968</span>&#160;            {</div><div class="line"><a name="l03969"></a><span class="lineno"> 3969</span>&#160;                Error(<span class="keyword">this</span>, _W(<span class="stringliteral">&quot;Cannot reindex an expression that returns multiple values.&quot;</span>));</div><div class="line"><a name="l03970"></a><span class="lineno"> 3970</span>&#160;            }</div><div class="line"><a name="l03971"></a><span class="lineno"> 3971</span>&#160;            <span class="keywordflow">if</span> (t-&gt;opNum == (OP_PARENS))</div><div class="line"><a name="l03972"></a><span class="lineno"> 3972</span>&#160;            {</div><div class="line"><a name="l03973"></a><span class="lineno"> 3973</span>&#160;                m = <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#ab0099c901e72d85b3528ba8f1649e906">expressionList</a>(t-&gt;down, &amp;rhsDimensions);</div><div class="line"><a name="l03974"></a><span class="lineno"> 3974</span>&#160;                <span class="keywordflow">if</span> (rhsDimensions.getLength() &gt; (indexType)m.size())</div><div class="line"><a name="l03975"></a><span class="lineno"> 3975</span>&#160;                {</div><div class="line"><a name="l03976"></a><span class="lineno"> 3976</span>&#160;                    Dimensions nDim;</div><div class="line"><a name="l03977"></a><span class="lineno"> 3977</span>&#160;                    <span class="keywordflow">if</span> (m.size() &gt;= 2)</div><div class="line"><a name="l03978"></a><span class="lineno"> 3978</span>&#160;                    {</div><div class="line"><a name="l03979"></a><span class="lineno"> 3979</span>&#160;                        <span class="keywordtype">size_t</span> d = 0;</div><div class="line"><a name="l03980"></a><span class="lineno"> 3980</span>&#160;                        <span class="keywordflow">for</span> (d = 0; d &lt; m.size() - 1; d++)</div><div class="line"><a name="l03981"></a><span class="lineno"> 3981</span>&#160;                        {</div><div class="line"><a name="l03982"></a><span class="lineno"> 3982</span>&#160;                            nDim[d] = rhsDimensions[d];</div><div class="line"><a name="l03983"></a><span class="lineno"> 3983</span>&#160;                        }</div><div class="line"><a name="l03984"></a><span class="lineno"> 3984</span>&#160;                        indexType L = 1;</div><div class="line"><a name="l03985"></a><span class="lineno"> 3985</span>&#160;                        <span class="keywordflow">for</span> (indexType k = d; k &lt; rhsDimensions.getLength(); k++)</div><div class="line"><a name="l03986"></a><span class="lineno"> 3986</span>&#160;                        {</div><div class="line"><a name="l03987"></a><span class="lineno"> 3987</span>&#160;                            L = L * rhsDimensions[k];</div><div class="line"><a name="l03988"></a><span class="lineno"> 3988</span>&#160;                        }</div><div class="line"><a name="l03989"></a><span class="lineno"> 3989</span>&#160;                        nDim[d] = L;</div><div class="line"><a name="l03990"></a><span class="lineno"> 3990</span>&#160;                        r.reshape(nDim);</div><div class="line"><a name="l03991"></a><span class="lineno"> 3991</span>&#160;                        rhsDimensions = r.getDimensions();</div><div class="line"><a name="l03992"></a><span class="lineno"> 3992</span>&#160;                        m = <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#ab0099c901e72d85b3528ba8f1649e906">expressionList</a>(t-&gt;down, &amp;rhsDimensions);</div><div class="line"><a name="l03993"></a><span class="lineno"> 3993</span>&#160;                    }</div><div class="line"><a name="l03994"></a><span class="lineno"> 3994</span>&#160;                }</div><div class="line"><a name="l03995"></a><span class="lineno"> 3995</span>&#160;                <span class="keywordflow">if</span> (m.size() == 0)</div><div class="line"><a name="l03996"></a><span class="lineno"> 3996</span>&#160;                {</div><div class="line"><a name="l03997"></a><span class="lineno"> 3997</span>&#160;                    <span class="keywordflow">if</span> (t-&gt;right == <span class="keyword">nullptr</span>)</div><div class="line"><a name="l03998"></a><span class="lineno"> 3998</span>&#160;                    {</div><div class="line"><a name="l03999"></a><span class="lineno"> 3999</span>&#160;                        ArrayOfVector rv;</div><div class="line"><a name="l04000"></a><span class="lineno"> 4000</span>&#160;                        rv.push_back(r);</div><div class="line"><a name="l04001"></a><span class="lineno"> 4001</span>&#160;                        <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#ab2b3dd35cd205fa6f4b80882fd937481">popID</a>();</div><div class="line"><a name="l04002"></a><span class="lineno"> 4002</span>&#160;                        <span class="keywordflow">return</span> rv;</div><div class="line"><a name="l04003"></a><span class="lineno"> 4003</span>&#160;                    }</div><div class="line"><a name="l04004"></a><span class="lineno"> 4004</span>&#160;                    <span class="keywordflow">else</span></div><div class="line"><a name="l04005"></a><span class="lineno"> 4005</span>&#160;                    {</div><div class="line"><a name="l04006"></a><span class="lineno"> 4006</span>&#160;                        Error(<span class="keyword">this</span>, _W(<span class="stringliteral">&quot;index expected.&quot;</span>));</div><div class="line"><a name="l04007"></a><span class="lineno"> 4007</span>&#160;                    }</div><div class="line"><a name="l04008"></a><span class="lineno"> 4008</span>&#160;                }</div><div class="line"><a name="l04009"></a><span class="lineno"> 4009</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (m.size() == 1)</div><div class="line"><a name="l04010"></a><span class="lineno"> 4010</span>&#160;                {</div><div class="line"><a name="l04011"></a><span class="lineno"> 4011</span>&#160;                    q = r.getVectorSubset(m[0]);</div><div class="line"><a name="l04012"></a><span class="lineno"> 4012</span>&#160;                    r = q;</div><div class="line"><a name="l04013"></a><span class="lineno"> 4013</span>&#160;                }</div><div class="line"><a name="l04014"></a><span class="lineno"> 4014</span>&#160;                <span class="keywordflow">else</span></div><div class="line"><a name="l04015"></a><span class="lineno"> 4015</span>&#160;                {</div><div class="line"><a name="l04016"></a><span class="lineno"> 4016</span>&#160;                    q = r.getNDimSubset(m);</div><div class="line"><a name="l04017"></a><span class="lineno"> 4017</span>&#160;                    r = q;</div><div class="line"><a name="l04018"></a><span class="lineno"> 4018</span>&#160;                }</div><div class="line"><a name="l04019"></a><span class="lineno"> 4019</span>&#160;            }</div><div class="line"><a name="l04020"></a><span class="lineno"> 4020</span>&#160;            <span class="keywordflow">if</span> (t-&gt;opNum == (OP_BRACES))</div><div class="line"><a name="l04021"></a><span class="lineno"> 4021</span>&#160;            {</div><div class="line"><a name="l04022"></a><span class="lineno"> 4022</span>&#160;                m = <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#ab0099c901e72d85b3528ba8f1649e906">expressionList</a>(t-&gt;down, &amp;rhsDimensions);</div><div class="line"><a name="l04023"></a><span class="lineno"> 4023</span>&#160;                <span class="keywordflow">if</span> (rhsDimensions.getLength() &gt; (indexType)m.size())</div><div class="line"><a name="l04024"></a><span class="lineno"> 4024</span>&#160;                {</div><div class="line"><a name="l04025"></a><span class="lineno"> 4025</span>&#160;                    Dimensions nDim;</div><div class="line"><a name="l04026"></a><span class="lineno"> 4026</span>&#160;                    <span class="keywordflow">if</span> (m.size() &gt;= 2)</div><div class="line"><a name="l04027"></a><span class="lineno"> 4027</span>&#160;                    {</div><div class="line"><a name="l04028"></a><span class="lineno"> 4028</span>&#160;                        <span class="keywordtype">size_t</span> d = 0;</div><div class="line"><a name="l04029"></a><span class="lineno"> 4029</span>&#160;                        <span class="keywordflow">for</span> (d = 0; d &lt; m.size() - 1; d++)</div><div class="line"><a name="l04030"></a><span class="lineno"> 4030</span>&#160;                        {</div><div class="line"><a name="l04031"></a><span class="lineno"> 4031</span>&#160;                            nDim[d] = rhsDimensions[d];</div><div class="line"><a name="l04032"></a><span class="lineno"> 4032</span>&#160;                        }</div><div class="line"><a name="l04033"></a><span class="lineno"> 4033</span>&#160;                        indexType L = 1;</div><div class="line"><a name="l04034"></a><span class="lineno"> 4034</span>&#160;                        <span class="keywordflow">for</span> (indexType k = d; k &lt; rhsDimensions.getLength(); k++)</div><div class="line"><a name="l04035"></a><span class="lineno"> 4035</span>&#160;                        {</div><div class="line"><a name="l04036"></a><span class="lineno"> 4036</span>&#160;                            L = L * rhsDimensions[k];</div><div class="line"><a name="l04037"></a><span class="lineno"> 4037</span>&#160;                        }</div><div class="line"><a name="l04038"></a><span class="lineno"> 4038</span>&#160;                        nDim[d] = L;</div><div class="line"><a name="l04039"></a><span class="lineno"> 4039</span>&#160;                        r.reshape(nDim);</div><div class="line"><a name="l04040"></a><span class="lineno"> 4040</span>&#160;                        rhsDimensions = r.getDimensions();</div><div class="line"><a name="l04041"></a><span class="lineno"> 4041</span>&#160;                        m = <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#ab0099c901e72d85b3528ba8f1649e906">expressionList</a>(t-&gt;down, &amp;rhsDimensions);</div><div class="line"><a name="l04042"></a><span class="lineno"> 4042</span>&#160;                    }</div><div class="line"><a name="l04043"></a><span class="lineno"> 4043</span>&#160;                }</div><div class="line"><a name="l04044"></a><span class="lineno"> 4044</span>&#160;                <span class="keywordflow">if</span> (m.size() == 0)</div><div class="line"><a name="l04045"></a><span class="lineno"> 4045</span>&#160;                {</div><div class="line"><a name="l04046"></a><span class="lineno"> 4046</span>&#160;                    Error(<span class="keyword">this</span>, ERROR_INDEX_EXPRESSION_EXPECTED);</div><div class="line"><a name="l04047"></a><span class="lineno"> 4047</span>&#160;                }</div><div class="line"><a name="l04048"></a><span class="lineno"> 4048</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (m.size() == 1)</div><div class="line"><a name="l04049"></a><span class="lineno"> 4049</span>&#160;                {</div><div class="line"><a name="l04050"></a><span class="lineno"> 4050</span>&#160;                    rv = r.getVectorContentsAsList(m[0]);</div><div class="line"><a name="l04051"></a><span class="lineno"> 4051</span>&#160;                }</div><div class="line"><a name="l04052"></a><span class="lineno"> 4052</span>&#160;                <span class="keywordflow">else</span></div><div class="line"><a name="l04053"></a><span class="lineno"> 4053</span>&#160;                {</div><div class="line"><a name="l04054"></a><span class="lineno"> 4054</span>&#160;                    rv = r.getNDimContentsAsList(m);</div><div class="line"><a name="l04055"></a><span class="lineno"> 4055</span>&#160;                }</div><div class="line"><a name="l04056"></a><span class="lineno"> 4056</span>&#160;                <span class="keywordflow">if</span> (rv.size() == 1)</div><div class="line"><a name="l04057"></a><span class="lineno"> 4057</span>&#160;                {</div><div class="line"><a name="l04058"></a><span class="lineno"> 4058</span>&#160;                    r = rv[0];</div><div class="line"><a name="l04059"></a><span class="lineno"> 4059</span>&#160;                    rv = ArrayOfVector();</div><div class="line"><a name="l04060"></a><span class="lineno"> 4060</span>&#160;                }</div><div class="line"><a name="l04061"></a><span class="lineno"> 4061</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rv.size() == 0)</div><div class="line"><a name="l04062"></a><span class="lineno"> 4062</span>&#160;                {</div><div class="line"><a name="l04063"></a><span class="lineno"> 4063</span>&#160;                    Error(<span class="keyword">this</span>, ERROR_EMPTY_EXPRESSION);</div><div class="line"><a name="l04064"></a><span class="lineno"> 4064</span>&#160;                    r = <a class="code" href="../../d2/d46/class_nelson_1_1_array_of.html#a9a613eca0888bdf0f07f112b6add495f">ArrayOf::emptyConstructor</a>();</div><div class="line"><a name="l04065"></a><span class="lineno"> 4065</span>&#160;                }</div><div class="line"><a name="l04066"></a><span class="lineno"> 4066</span>&#160;            }</div><div class="line"><a name="l04067"></a><span class="lineno"> 4067</span>&#160;            <span class="keywordflow">if</span> (t-&gt;opNum == (OP_DOT))</div><div class="line"><a name="l04068"></a><span class="lineno"> 4068</span>&#160;            {</div><div class="line"><a name="l04069"></a><span class="lineno"> 4069</span>&#160;                rv = r.getFieldAsList(t-&gt;down-&gt;text);</div><div class="line"><a name="l04070"></a><span class="lineno"> 4070</span>&#160;                <span class="keywordflow">if</span> (rv.size() == 1)</div><div class="line"><a name="l04071"></a><span class="lineno"> 4071</span>&#160;                {</div><div class="line"><a name="l04072"></a><span class="lineno"> 4072</span>&#160;                    r = rv[0];</div><div class="line"><a name="l04073"></a><span class="lineno"> 4073</span>&#160;                    rv = ArrayOfVector();</div><div class="line"><a name="l04074"></a><span class="lineno"> 4074</span>&#160;                }</div><div class="line"><a name="l04075"></a><span class="lineno"> 4075</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rv.size() == 0)</div><div class="line"><a name="l04076"></a><span class="lineno"> 4076</span>&#160;                {</div><div class="line"><a name="l04077"></a><span class="lineno"> 4077</span>&#160;                    r = <a class="code" href="../../d2/d46/class_nelson_1_1_array_of.html#a9a613eca0888bdf0f07f112b6add495f">ArrayOf::emptyConstructor</a>();</div><div class="line"><a name="l04078"></a><span class="lineno"> 4078</span>&#160;                    rv = ArrayOfVector();</div><div class="line"><a name="l04079"></a><span class="lineno"> 4079</span>&#160;                }</div><div class="line"><a name="l04080"></a><span class="lineno"> 4080</span>&#160;            }</div><div class="line"><a name="l04081"></a><span class="lineno"> 4081</span>&#160;            <span class="keywordflow">if</span> (t-&gt;opNum == (OP_DOTDYN))</div><div class="line"><a name="l04082"></a><span class="lineno"> 4082</span>&#160;            {</div><div class="line"><a name="l04083"></a><span class="lineno"> 4083</span>&#160;                std::string field;</div><div class="line"><a name="l04084"></a><span class="lineno"> 4084</span>&#160;                <span class="keywordflow">try</span></div><div class="line"><a name="l04085"></a><span class="lineno"> 4085</span>&#160;                {</div><div class="line"><a name="l04086"></a><span class="lineno"> 4086</span>&#160;                    ArrayOf fname(<a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">expression</a>(t-&gt;down));</div><div class="line"><a name="l04087"></a><span class="lineno"> 4087</span>&#160;                    field = fname.getContentsAsCString();</div><div class="line"><a name="l04088"></a><span class="lineno"> 4088</span>&#160;                }</div><div class="line"><a name="l04089"></a><span class="lineno"> 4089</span>&#160;                <span class="keywordflow">catch</span> (Exception &amp;e)</div><div class="line"><a name="l04090"></a><span class="lineno"> 4090</span>&#160;                {</div><div class="line"><a name="l04091"></a><span class="lineno"> 4091</span>&#160;                    e.what();</div><div class="line"><a name="l04092"></a><span class="lineno"> 4092</span>&#160;                    Error(<span class="keyword">this</span>, _W(<span class="stringliteral">&quot;dynamic field reference to structure requires a string argument&quot;</span>));</div><div class="line"><a name="l04093"></a><span class="lineno"> 4093</span>&#160;                }</div><div class="line"><a name="l04094"></a><span class="lineno"> 4094</span>&#160;                rv = r.getFieldAsList(field);</div><div class="line"><a name="l04095"></a><span class="lineno"> 4095</span>&#160;                <span class="keywordflow">if</span> (rv.size() &lt;= 1)</div><div class="line"><a name="l04096"></a><span class="lineno"> 4096</span>&#160;                {</div><div class="line"><a name="l04097"></a><span class="lineno"> 4097</span>&#160;                    r = rv[0];</div><div class="line"><a name="l04098"></a><span class="lineno"> 4098</span>&#160;                    rv = ArrayOfVector();</div><div class="line"><a name="l04099"></a><span class="lineno"> 4099</span>&#160;                }</div><div class="line"><a name="l04100"></a><span class="lineno"> 4100</span>&#160;            }</div><div class="line"><a name="l04101"></a><span class="lineno"> 4101</span>&#160;            t = t-&gt;right;</div><div class="line"><a name="l04102"></a><span class="lineno"> 4102</span>&#160;        }</div><div class="line"><a name="l04103"></a><span class="lineno"> 4103</span>&#160;        <span class="keywordflow">if</span> (rv.empty())</div><div class="line"><a name="l04104"></a><span class="lineno"> 4104</span>&#160;        {</div><div class="line"><a name="l04105"></a><span class="lineno"> 4105</span>&#160;            rv.push_back(r);</div><div class="line"><a name="l04106"></a><span class="lineno"> 4106</span>&#160;        }</div><div class="line"><a name="l04107"></a><span class="lineno"> 4107</span>&#160;        <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#ab2b3dd35cd205fa6f4b80882fd937481">popID</a>();</div><div class="line"><a name="l04108"></a><span class="lineno"> 4108</span>&#160;        <span class="keywordflow">return</span> rv;</div><div class="line"><a name="l04109"></a><span class="lineno"> 4109</span>&#160;    }</div><div class="ttc" id="class_nelson_1_1_evaluator_html_aee2051332070cc09eff626ef99c498bf"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#aee2051332070cc09eff626ef99c498bf">Nelson::Evaluator::pushID</a></div><div class="ttdeci">void pushID(int)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00133">Evaluator.cpp:133</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_a85a1b68ec34f3e8a7c855e4bb860cbf1"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">Nelson::Evaluator::expression</a></div><div class="ttdeci">ArrayOf expression(ASTPtr t)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00448">Evaluator.cpp:448</a></div></div>
<div class="ttc" id="class_nelson_1_1_array_of_html_a9a613eca0888bdf0f07f112b6add495f"><div class="ttname"><a href="../../d2/d46/class_nelson_1_1_array_of.html#a9a613eca0888bdf0f07f112b6add495f">Nelson::ArrayOf::emptyConstructor</a></div><div class="ttdeci">static ArrayOf emptyConstructor(Dimensions dim, bool bIsSparse=false)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d59/_array_of_8cpp_source.html#l02376">ArrayOf.cpp:2376</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_a87271a334465cbb93a99436d1674dd81"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#a87271a334465cbb93a99436d1674dd81">Nelson::Evaluator::functionExpression</a></div><div class="ttdeci">ArrayOfVector functionExpression(FunctionDef *funcDef, ASTPtr t, int narg_out, bool outputOptional)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l03096">Evaluator.cpp:3096</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_ab2b3dd35cd205fa6f4b80882fd937481"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#ab2b3dd35cd205fa6f4b80882fd937481">Nelson::Evaluator::popID</a></div><div class="ttdeci">void popID()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00149">Evaluator.cpp:149</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_ab0099c901e72d85b3528ba8f1649e906"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#ab0099c901e72d85b3528ba8f1649e906">Nelson::Evaluator::expressionList</a></div><div class="ttdeci">ArrayOfVector expressionList(ASTPtr t, Dimensions *dim)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00791">Evaluator.cpp:791</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_aa169442da120d4445972f7bcf1fe4fcc"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#aa169442da120d4445972f7bcf1fe4fcc">Nelson::Evaluator::lookupFunction</a></div><div class="ttdeci">bool lookupFunction(std::string funcName, FuncPtr &amp;val)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l03649">Evaluator.cpp:3649</a></div></div>
<div class="ttc" id="class_nelson_1_1_context_html_a6d61ffdd05d5e85aa4a747f84b3551c1"><div class="ttname"><a href="../../db/d1f/class_nelson_1_1_context.html#a6d61ffdd05d5e85aa4a747f84b3551c1">Nelson::Context::lookupVariable</a></div><div class="ttdeci">bool lookupVariable(const std::string &amp;varName, ArrayOf &amp;var)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/df6/_context_8cpp_source.html#l00136">Context.cpp:136</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a84d213e8a40f4f0aa77e68088d6910a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84d213e8a40f4f0aa77e68088d6910a6">&#9670;&nbsp;</a></span>rhsExpressionSimple()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d46/class_nelson_1_1_array_of.html">ArrayOf</a> Nelson::Evaluator::rhsExpressionSimple </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">ASTPtr</a>&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Special case the single assignment statement 'A = B' for speed. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l03654">3654</a> of file <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html">Evaluator.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l00448">expression()</a>.</p>
<div class="fragment"><div class="line"><a name="l03655"></a><span class="lineno"> 3655</span>&#160;    {</div><div class="line"><a name="l03656"></a><span class="lineno"> 3656</span>&#160;        ArrayOf r;</div><div class="line"><a name="l03657"></a><span class="lineno"> 3657</span>&#160;        ArrayOfVector m;</div><div class="line"><a name="l03658"></a><span class="lineno"> 3658</span>&#160;        <span class="keywordtype">bool</span> isVar;</div><div class="line"><a name="l03659"></a><span class="lineno"> 3659</span>&#160;        <span class="keywordtype">bool</span> isFun;</div><div class="line"><a name="l03660"></a><span class="lineno"> 3660</span>&#160;        FunctionDef *funcDef;</div><div class="line"><a name="l03661"></a><span class="lineno"> 3661</span>&#160;        <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#aee2051332070cc09eff626ef99c498bf">pushID</a>(t-&gt;context());</div><div class="line"><a name="l03662"></a><span class="lineno"> 3662</span>&#160;        <span class="comment">// Try to satisfy the rhs expression with what functions we have already</span></div><div class="line"><a name="l03663"></a><span class="lineno"> 3663</span>&#160;        <span class="comment">// loaded.</span></div><div class="line"><a name="l03664"></a><span class="lineno"> 3664</span>&#160;        isVar = context-&gt;<a class="code" href="../../db/d1f/class_nelson_1_1_context.html#a6d61ffdd05d5e85aa4a747f84b3551c1">lookupVariable</a>(t-&gt;text, r);</div><div class="line"><a name="l03665"></a><span class="lineno"> 3665</span>&#160;        <span class="keywordflow">if</span> (isVar &amp;&amp; (t-&gt;down == <span class="keyword">nullptr</span>))</div><div class="line"><a name="l03666"></a><span class="lineno"> 3666</span>&#160;        {</div><div class="line"><a name="l03667"></a><span class="lineno"> 3667</span>&#160;            <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#ab2b3dd35cd205fa6f4b80882fd937481">popID</a>();</div><div class="line"><a name="l03668"></a><span class="lineno"> 3668</span>&#160;            <span class="keywordflow">return</span> r;</div><div class="line"><a name="l03669"></a><span class="lineno"> 3669</span>&#160;        }</div><div class="line"><a name="l03670"></a><span class="lineno"> 3670</span>&#160;        <span class="keywordflow">if</span> (!isVar)</div><div class="line"><a name="l03671"></a><span class="lineno"> 3671</span>&#160;        {</div><div class="line"><a name="l03672"></a><span class="lineno"> 3672</span>&#160;            isFun = <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#aa169442da120d4445972f7bcf1fe4fcc">lookupFunction</a>(t-&gt;text, funcDef);</div><div class="line"><a name="l03673"></a><span class="lineno"> 3673</span>&#160;        }</div><div class="line"><a name="l03674"></a><span class="lineno"> 3674</span>&#160;        <span class="keywordflow">if</span> (!isVar &amp;&amp; isFun)</div><div class="line"><a name="l03675"></a><span class="lineno"> 3675</span>&#160;        {</div><div class="line"><a name="l03676"></a><span class="lineno"> 3676</span>&#160;            m = <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a87271a334465cbb93a99436d1674dd81">functionExpression</a>(funcDef, t, 1, <span class="keyword">false</span>);</div><div class="line"><a name="l03677"></a><span class="lineno"> 3677</span>&#160;            <span class="keywordflow">if</span> (m.empty())</div><div class="line"><a name="l03678"></a><span class="lineno"> 3678</span>&#160;            {</div><div class="line"><a name="l03679"></a><span class="lineno"> 3679</span>&#160;                <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#ab2b3dd35cd205fa6f4b80882fd937481">popID</a>();</div><div class="line"><a name="l03680"></a><span class="lineno"> 3680</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="../../d2/d46/class_nelson_1_1_array_of.html#a9a613eca0888bdf0f07f112b6add495f">ArrayOf::emptyConstructor</a>();</div><div class="line"><a name="l03681"></a><span class="lineno"> 3681</span>&#160;            }</div><div class="line"><a name="l03682"></a><span class="lineno"> 3682</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l03683"></a><span class="lineno"> 3683</span>&#160;            {</div><div class="line"><a name="l03684"></a><span class="lineno"> 3684</span>&#160;                <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#ab2b3dd35cd205fa6f4b80882fd937481">popID</a>();</div><div class="line"><a name="l03685"></a><span class="lineno"> 3685</span>&#160;                <span class="keywordflow">return</span> m[0];</div><div class="line"><a name="l03686"></a><span class="lineno"> 3686</span>&#160;            }</div><div class="line"><a name="l03687"></a><span class="lineno"> 3687</span>&#160;        }</div><div class="line"><a name="l03688"></a><span class="lineno"> 3688</span>&#160;        <span class="keywordflow">if</span> (!isVar)</div><div class="line"><a name="l03689"></a><span class="lineno"> 3689</span>&#160;        {</div><div class="line"><a name="l03690"></a><span class="lineno"> 3690</span>&#160;            Error(<span class="keyword">this</span>, utf8_to_wstring(_(<span class="stringliteral">&quot;Undefined variable:&quot;</span>) + <span class="stringliteral">&quot; &quot;</span> + t-&gt;text));</div><div class="line"><a name="l03691"></a><span class="lineno"> 3691</span>&#160;        }</div><div class="line"><a name="l03692"></a><span class="lineno"> 3692</span>&#160;        <span class="keywordflow">if</span> (!isFun)</div><div class="line"><a name="l03693"></a><span class="lineno"> 3693</span>&#160;        {</div><div class="line"><a name="l03694"></a><span class="lineno"> 3694</span>&#160;            Error(<span class="keyword">this</span>, utf8_to_wstring(_(<span class="stringliteral">&quot;Undefined function:&quot;</span>) + <span class="stringliteral">&quot; &quot;</span> +t-&gt;text));</div><div class="line"><a name="l03695"></a><span class="lineno"> 3695</span>&#160;        }</div><div class="line"><a name="l03696"></a><span class="lineno"> 3696</span>&#160;        <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#ab2b3dd35cd205fa6f4b80882fd937481">popID</a>();</div><div class="line"><a name="l03697"></a><span class="lineno"> 3697</span>&#160;        <span class="keywordflow">return</span> r;</div><div class="line"><a name="l03698"></a><span class="lineno"> 3698</span>&#160;    }</div><div class="ttc" id="class_nelson_1_1_evaluator_html_aee2051332070cc09eff626ef99c498bf"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#aee2051332070cc09eff626ef99c498bf">Nelson::Evaluator::pushID</a></div><div class="ttdeci">void pushID(int)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00133">Evaluator.cpp:133</a></div></div>
<div class="ttc" id="class_nelson_1_1_array_of_html_a9a613eca0888bdf0f07f112b6add495f"><div class="ttname"><a href="../../d2/d46/class_nelson_1_1_array_of.html#a9a613eca0888bdf0f07f112b6add495f">Nelson::ArrayOf::emptyConstructor</a></div><div class="ttdeci">static ArrayOf emptyConstructor(Dimensions dim, bool bIsSparse=false)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d59/_array_of_8cpp_source.html#l02376">ArrayOf.cpp:2376</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_a87271a334465cbb93a99436d1674dd81"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#a87271a334465cbb93a99436d1674dd81">Nelson::Evaluator::functionExpression</a></div><div class="ttdeci">ArrayOfVector functionExpression(FunctionDef *funcDef, ASTPtr t, int narg_out, bool outputOptional)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l03096">Evaluator.cpp:3096</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_ab2b3dd35cd205fa6f4b80882fd937481"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#ab2b3dd35cd205fa6f4b80882fd937481">Nelson::Evaluator::popID</a></div><div class="ttdeci">void popID()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00149">Evaluator.cpp:149</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_aa169442da120d4445972f7bcf1fe4fcc"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#aa169442da120d4445972f7bcf1fe4fcc">Nelson::Evaluator::lookupFunction</a></div><div class="ttdeci">bool lookupFunction(std::string funcName, FuncPtr &amp;val)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l03649">Evaluator.cpp:3649</a></div></div>
<div class="ttc" id="class_nelson_1_1_context_html_a6d61ffdd05d5e85aa4a747f84b3551c1"><div class="ttname"><a href="../../db/d1f/class_nelson_1_1_context.html#a6d61ffdd05d5e85aa4a747f84b3551c1">Nelson::Context::lookupVariable</a></div><div class="ttdeci">bool lookupVariable(const std::string &amp;varName, ArrayOf &amp;var)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/df6/_context_8cpp_source.html#l00136">Context.cpp:136</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a819e13bde9b0cfd872bdf93a4834f88c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a819e13bde9b0cfd872bdf93a4834f88c">&#9670;&nbsp;</a></span>rowDefinition()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ArrayOfVector Nelson::Evaluator::rowDefinition </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">ASTPtr</a>&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Convert an expression list into a vector of <a class="el" href="../../d2/d46/class_nelson_1_1_array_of.html">ArrayOf</a> variables. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l00206">206</a> of file <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html">Evaluator.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l00349">cellDefinition()</a>, and <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l00280">matrixDefinition()</a>.</p>
<div class="fragment"><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    {</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#aee2051332070cc09eff626ef99c498bf">pushID</a>(t-&gt;context());</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        <span class="keywordflow">if</span> (t-&gt;opNum != OP_SEMICOLON)</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        {</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;            Error(<span class="keyword">this</span>, ERROR_AST_SYNTAX_ERROR);</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        }</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        ASTPtr s = t-&gt;down;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        ArrayOfVector expl = <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#ab0099c901e72d85b3528ba8f1649e906">expressionList</a>(s, NULL);</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        ArrayOfVector retval(expl);</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#ab2b3dd35cd205fa6f4b80882fd937481">popID</a>();</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        <span class="keywordflow">return</span> retval;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    }</div><div class="ttc" id="class_nelson_1_1_evaluator_html_aee2051332070cc09eff626ef99c498bf"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#aee2051332070cc09eff626ef99c498bf">Nelson::Evaluator::pushID</a></div><div class="ttdeci">void pushID(int)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00133">Evaluator.cpp:133</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_ab2b3dd35cd205fa6f4b80882fd937481"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#ab2b3dd35cd205fa6f4b80882fd937481">Nelson::Evaluator::popID</a></div><div class="ttdeci">void popID()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00149">Evaluator.cpp:149</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_ab0099c901e72d85b3528ba8f1649e906"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#ab0099c901e72d85b3528ba8f1649e906">Nelson::Evaluator::expressionList</a></div><div class="ttdeci">ArrayOfVector expressionList(ASTPtr t, Dimensions *dim)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00791">Evaluator.cpp:791</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a829b217d54b82a3ccda7c6e9c5b15484"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a829b217d54b82a3ccda7c6e9c5b15484">&#9670;&nbsp;</a></span>setExitCode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Nelson::Evaluator::setExitCode </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>_exitCode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set exit code. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l00201">201</a> of file <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html">Evaluator.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    {</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        exitCode = _exitCode;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a id="af5e041e12ca7015bbdd69e4e6fb16383"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5e041e12ca7015bbdd69e4e6fb16383">&#9670;&nbsp;</a></span>setLastErrorString()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Nelson::Evaluator::setLastErrorString </td>
          <td>(</td>
          <td class="paramtype">std::wstring&#160;</td>
          <td class="paramname"><em>txt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the text for the last error. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l04275">4275</a> of file <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html">Evaluator.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l04276"></a><span class="lineno"> 4276</span>&#160;    {</div><div class="line"><a name="l04277"></a><span class="lineno"> 4277</span>&#160;        <span class="keywordflow">if</span> (lastException)</div><div class="line"><a name="l04278"></a><span class="lineno"> 4278</span>&#160;        {</div><div class="line"><a name="l04279"></a><span class="lineno"> 4279</span>&#160;            lastException-&gt;setMessage(txt);</div><div class="line"><a name="l04280"></a><span class="lineno"> 4280</span>&#160;        }</div><div class="line"><a name="l04281"></a><span class="lineno"> 4281</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a id="ab905cb1b961d991ce6e71ba7584046b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab905cb1b961d991ce6e71ba7584046b8">&#9670;&nbsp;</a></span>setLastWarningString()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Nelson::Evaluator::setLastWarningString </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the text for the last warning. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l04330">4330</a> of file <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html">Evaluator.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l04320">getLastWarningString()</a>.</p>
<div class="fragment"><div class="line"><a name="l04331"></a><span class="lineno"> 4331</span>&#160;    {</div><div class="line"><a name="l04332"></a><span class="lineno"> 4332</span>&#160;        lastwarn = utf8_to_wstring(txt);</div><div class="line"><a name="l04333"></a><span class="lineno"> 4333</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a id="a8faba7ce318cb5d7c3c1aa696555b931"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8faba7ce318cb5d7c3c1aa696555b931">&#9670;&nbsp;</a></span>setPrintLimit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Nelson::Evaluator::setPrintLimit </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lim</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the print limit (number of element printed prior to truncation). </p>

<p class="definition">Definition at line <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l00161">161</a> of file <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html">Evaluator.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    {</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        printLimit = lim;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a id="ae3fd0fa5603d666ea58b78b7d3904f79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3fd0fa5603d666ea58b78b7d3904f79">&#9670;&nbsp;</a></span>setState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">State Nelson::Evaluator::setState </td>
          <td>(</td>
          <td class="paramtype">State&#160;</td>
          <td class="paramname"><em>newState</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the state of the tree walker. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l00184">184</a> of file <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html">Evaluator.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l04453">evalCLI()</a>.</p>
<div class="fragment"><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    {</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        State previousState = state;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        state = newState;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        <span class="keywordflow">return</span> previousState;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a id="a650c501bcf3ce9da1e93b8b3d2759ac9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a650c501bcf3ce9da1e93b8b3d2759ac9">&#9670;&nbsp;</a></span>ShortCutOr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d46/class_nelson_1_1_array_of.html">ArrayOf</a> Nelson::Evaluator::ShortCutOr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">ASTPtr</a>&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Handles the logistics of shortcut evaluation </p>

<p class="definition">Definition at line <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l00386">386</a> of file <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html">Evaluator.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l00448">expression()</a>.</p>
<div class="fragment"><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    {</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#aee2051332070cc09eff626ef99c498bf">pushID</a>(t-&gt;context());</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        ArrayOfVector argsOut = CallOperatorFunction(<span class="keyword">this</span>, <span class="stringliteral">&quot;shortcutor&quot;</span>, <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">expression</a>(t-&gt;down), <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">expression</a>(t-&gt;down-&gt;right), 1);</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        ArrayOf retval = argsOut[0];</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#ab2b3dd35cd205fa6f4b80882fd937481">popID</a>();</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        <span class="keywordflow">return</span> retval;</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        <span class="comment">/*</span></div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;<span class="comment">        ArrayOf retval;</span></div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;<span class="comment">        if (!a.isScalar())</span></div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;<span class="comment">        {</span></div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;<span class="comment">        retval = Or(a, expression(t-&gt;down-&gt;right));</span></div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;<span class="comment">        }</span></div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;<span class="comment">        else</span></div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;<span class="comment">        {</span></div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="comment">        // A is a scalar - is it true?</span></div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;<span class="comment">        a.promoteType(NLS_LOGICAL);</span></div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;<span class="comment">        if (*((const logical*)a.getDataPointer()))</span></div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;<span class="comment">        {</span></div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;<span class="comment">        retval = a;</span></div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;<span class="comment">        }</span></div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;<span class="comment">        else</span></div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;<span class="comment">        {</span></div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;<span class="comment">        retval = Or(a, expression(t-&gt;down-&gt;right));</span></div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<span class="comment">        }</span></div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;<span class="comment">        }</span></div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;<span class="comment">        */</span></div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    }</div><div class="ttc" id="class_nelson_1_1_evaluator_html_aee2051332070cc09eff626ef99c498bf"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#aee2051332070cc09eff626ef99c498bf">Nelson::Evaluator::pushID</a></div><div class="ttdeci">void pushID(int)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00133">Evaluator.cpp:133</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_a85a1b68ec34f3e8a7c855e4bb860cbf1"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">Nelson::Evaluator::expression</a></div><div class="ttdeci">ArrayOf expression(ASTPtr t)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00448">Evaluator.cpp:448</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_ab2b3dd35cd205fa6f4b80882fd937481"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#ab2b3dd35cd205fa6f4b80882fd937481">Nelson::Evaluator::popID</a></div><div class="ttdeci">void popID()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00149">Evaluator.cpp:149</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a49c4082818b4f432841ab8abdb92f55b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49c4082818b4f432841ab8abdb92f55b">&#9670;&nbsp;</a></span>simpleSubindexExpression()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d46/class_nelson_1_1_array_of.html">ArrayOf</a> Nelson::Evaluator::simpleSubindexExpression </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d46/class_nelson_1_1_array_of.html">ArrayOf</a> &amp;&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">ASTPtr</a>&#160;</td>
          <td class="paramname"><em>t</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Process an <a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">AST</a> to form an lvalue in an assignment statement. The <a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">AST</a> looks like: ident | ()-&gt;{}-&gt;. | | | | | field | expr3-&gt;... expr1-&gt;expr2-&gt;... The lhsExpression method creates a LeftHandSide object that captures the original object and the subindexing expressions applied to it. Throws an <a class="el" href="../../db/db9/class_nelson_1_1_exception.html">Exception</a> if the indexing expressions are empty. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l02062">2062</a> of file <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html">Evaluator.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;    {</div><div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;        Dimensions rhsDimensions;</div><div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;        ArrayOfVector m;</div><div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;        rhsDimensions = r.getDimensions();</div><div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;        <span class="keywordflow">if</span> (t-&gt;opNum == (OP_PARENS))</div><div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;        {</div><div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;            m = <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#ab0099c901e72d85b3528ba8f1649e906">expressionList</a>(t-&gt;down, &amp;rhsDimensions);</div><div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;            <span class="keywordflow">if</span> (m.size() == 0)</div><div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;            {</div><div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;                Error(<span class="keyword">this</span>, ERROR_INDEX_EXPRESSION_EXPECTED);</div><div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;            }</div><div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (m.size() == 1)</div><div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;            {</div><div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;                <span class="keywordflow">if</span> (r.isClassStruct())</div><div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;                {</div><div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;                    Error(<span class="keyword">this</span>, ERROR_NEED_OVERLOAD);</div><div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;                }</div><div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;                <span class="keywordflow">else</span></div><div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;                {</div><div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;                    <span class="keywordflow">try</span></div><div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;                    {</div><div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;                        <span class="keywordflow">return</span>(r.getVectorSubset(m[0]));</div><div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;                    }</div><div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;                    <span class="keywordflow">catch</span> (Exception &amp;e)</div><div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;                    {</div><div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;                        e.what();</div><div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;                        <span class="keywordflow">return</span>(<a class="code" href="../../d2/d46/class_nelson_1_1_array_of.html#a9a613eca0888bdf0f07f112b6add495f">ArrayOf::emptyConstructor</a>());</div><div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;                    }</div><div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;                }</div><div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;            }</div><div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;            {</div><div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;                <span class="keywordflow">try</span></div><div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;                {</div><div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;                    <span class="keywordflow">return</span>(r.getNDimSubset(m));</div><div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;                }</div><div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;                <span class="keywordflow">catch</span> (Exception &amp;e)</div><div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;                {</div><div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;                    e.what();</div><div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;                    <span class="keywordflow">return</span>(<a class="code" href="../../d2/d46/class_nelson_1_1_array_of.html#a9a613eca0888bdf0f07f112b6add495f">ArrayOf::emptyConstructor</a>());</div><div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;                }</div><div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;            }</div><div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;        }</div><div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;        <span class="keywordflow">if</span> (t-&gt;opNum == (OP_BRACES))</div><div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;        {</div><div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;            m = <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#ab0099c901e72d85b3528ba8f1649e906">expressionList</a>(t-&gt;down, &amp;rhsDimensions);</div><div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;            <span class="keywordflow">if</span> (m.size() == 0)</div><div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;            {</div><div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;                Error(<span class="keyword">this</span>, ERROR_INDEX_EXPRESSION_EXPECTED);</div><div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;            }</div><div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (m.size() == 1)</div><div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;            {</div><div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;                <span class="keywordflow">try</span></div><div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;                {</div><div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;                    <span class="keywordflow">return</span>(r.getVectorContents(m[0]));</div><div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;                }</div><div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;                <span class="keywordflow">catch</span> (Exception &amp;e)</div><div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;                {</div><div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;                    e.what();</div><div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;                    <span class="keywordflow">return</span>(<a class="code" href="../../d2/d46/class_nelson_1_1_array_of.html#a9a613eca0888bdf0f07f112b6add495f">ArrayOf::emptyConstructor</a>());</div><div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;                }</div><div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;            }</div><div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;            {</div><div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;                <span class="keywordflow">try</span></div><div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;                {</div><div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;                    <span class="keywordflow">return</span>(r.getNDimContents(m));</div><div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;                }</div><div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;                <span class="keywordflow">catch</span> (Exception &amp;e)</div><div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;                {</div><div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;                    e.what();</div><div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;                    <span class="keywordflow">return</span>(<a class="code" href="../../d2/d46/class_nelson_1_1_array_of.html#a9a613eca0888bdf0f07f112b6add495f">ArrayOf::emptyConstructor</a>());</div><div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;                }</div><div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;            }</div><div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;        }</div><div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;        <span class="keywordflow">if</span> (t-&gt;opNum == (OP_DOT))</div><div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;        {</div><div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;            {</div><div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;                <span class="keywordflow">return</span>(r.getField(t-&gt;down-&gt;text));</div><div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;            }</div><div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;            <span class="keywordflow">catch</span> (Exception &amp;e)</div><div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;            {</div><div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;                e.what();</div><div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;                <span class="keywordflow">return</span>(<a class="code" href="../../d2/d46/class_nelson_1_1_array_of.html#a9a613eca0888bdf0f07f112b6add495f">ArrayOf::emptyConstructor</a>());</div><div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;            }</div><div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;        }</div><div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;        <span class="keywordflow">if</span> (t-&gt;opNum == (OP_DOTDYN))</div><div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;        {</div><div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;            std::string field = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;            {</div><div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;                ArrayOf fname(<a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">expression</a>(t-&gt;down));</div><div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;                field = fname.getContentsAsCString();</div><div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;            }</div><div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;            <span class="keywordflow">catch</span> (Exception &amp;e)</div><div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;            {</div><div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;                e.what();</div><div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;                Error(<span class="keyword">this</span>, ERROR_DYNAMIC_FIELD_STRING_EXPECTED);</div><div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;            }</div><div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;            {</div><div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;                ArrayOf R = r.getField(field);</div><div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;                <span class="keywordflow">return</span> R;</div><div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;            }</div><div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;            <span class="keywordflow">catch</span> (Exception &amp;e)</div><div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;            {</div><div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;                e.what();</div><div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;                <span class="keywordflow">return</span>(<a class="code" href="../../d2/d46/class_nelson_1_1_array_of.html#a9a613eca0888bdf0f07f112b6add495f">ArrayOf::emptyConstructor</a>());</div><div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;            }</div><div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;        }</div><div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;        <span class="keywordflow">return</span>(<a class="code" href="../../d2/d46/class_nelson_1_1_array_of.html#a9a613eca0888bdf0f07f112b6add495f">ArrayOf::emptyConstructor</a>());</div><div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;    }</div><div class="ttc" id="class_nelson_1_1_evaluator_html_a85a1b68ec34f3e8a7c855e4bb860cbf1"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">Nelson::Evaluator::expression</a></div><div class="ttdeci">ArrayOf expression(ASTPtr t)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00448">Evaluator.cpp:448</a></div></div>
<div class="ttc" id="class_nelson_1_1_array_of_html_a9a613eca0888bdf0f07f112b6add495f"><div class="ttname"><a href="../../d2/d46/class_nelson_1_1_array_of.html#a9a613eca0888bdf0f07f112b6add495f">Nelson::ArrayOf::emptyConstructor</a></div><div class="ttdeci">static ArrayOf emptyConstructor(Dimensions dim, bool bIsSparse=false)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d59/_array_of_8cpp_source.html#l02376">ArrayOf.cpp:2376</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_ab0099c901e72d85b3528ba8f1649e906"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#ab0099c901e72d85b3528ba8f1649e906">Nelson::Evaluator::expressionList</a></div><div class="ttdeci">ArrayOfVector expressionList(ASTPtr t, Dimensions *dim)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00791">Evaluator.cpp:791</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac45116fb4af2afab291c46521b0d132a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac45116fb4af2afab291c46521b0d132a">&#9670;&nbsp;</a></span>specialFunctionCall()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ArrayOfVector Nelson::Evaluator::specialFunctionCall </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">ASTPtr</a>&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>printIt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A special function call is an expression of the form </p><blockquote class="doxtable">
<blockquote class="doxtable">
<p>func arg1 arg2 arg3 </p>
</blockquote>
</blockquote>
<p>which is represented in an <a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">AST</a> is scall | fname-&gt;arg </p>

<p class="definition">Definition at line <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l02458">2458</a> of file <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html">Evaluator.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l01712">statementType()</a>.</p>
<div class="fragment"><div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;    {</div><div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;        ArrayOfVector m;</div><div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;        stringVector args;</div><div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;        args.push_back(t-&gt;text);</div><div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;        ASTPtr s = t-&gt;right;</div><div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;        <span class="keywordflow">while</span> (s)</div><div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;        {</div><div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;            args.push_back(s-&gt;text);</div><div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;            s = s-&gt;right;</div><div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;        }</div><div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;        <span class="keywordflow">if</span> (args.empty())</div><div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;        {</div><div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;            <span class="keywordflow">return</span> m;</div><div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;        }</div><div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;        ArrayOfVector n;</div><div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 1; i &lt; args.size(); i++)</div><div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;        {</div><div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;            n.push_back(<a class="code" href="../../d2/d46/class_nelson_1_1_array_of.html#a2ecb17d6702c4f4ea1204f57ada32dd1">ArrayOf::stringConstructor</a>(args[i].c_str()));</div><div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;        }</div><div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;        FuncPtr val;</div><div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;        <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#aee2051332070cc09eff626ef99c498bf">pushID</a>(t-&gt;context());</div><div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#aa169442da120d4445972f7bcf1fe4fcc">lookupFunction</a>(args[0], val))</div><div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;        {</div><div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;            Error(<span class="keyword">this</span>, utf8_to_wstring(_(<span class="stringliteral">&quot;unable to resolve &quot;</span>) + args[0] + _(<span class="stringliteral">&quot; to a function call&quot;</span>)));</div><div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;        }</div><div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;        <span class="keywordtype">bool</span> CLIFlagsave = InCLI;</div><div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;        InCLI = <span class="keyword">false</span>;</div><div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;        <span class="keywordflow">try</span></div><div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;        {</div><div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;            m = val-&gt;evaluateFunction(<span class="keyword">this</span>, n, 0);</div><div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;        }</div><div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;        <span class="keywordflow">catch</span> (Exception&amp; e)</div><div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;        {</div><div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;            e.what();</div><div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;            InCLI = CLIFlagsave;</div><div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;            <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#ab2b3dd35cd205fa6f4b80882fd937481">popID</a>();</div><div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;            <span class="keywordflow">throw</span>;</div><div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;        }</div><div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;        InCLI = CLIFlagsave;</div><div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;        <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#ab2b3dd35cd205fa6f4b80882fd937481">popID</a>();</div><div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;        <span class="keywordflow">return</span> m;</div><div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;    }</div><div class="ttc" id="class_nelson_1_1_evaluator_html_aee2051332070cc09eff626ef99c498bf"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#aee2051332070cc09eff626ef99c498bf">Nelson::Evaluator::pushID</a></div><div class="ttdeci">void pushID(int)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00133">Evaluator.cpp:133</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_ab2b3dd35cd205fa6f4b80882fd937481"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#ab2b3dd35cd205fa6f4b80882fd937481">Nelson::Evaluator::popID</a></div><div class="ttdeci">void popID()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00149">Evaluator.cpp:149</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_aa169442da120d4445972f7bcf1fe4fcc"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#aa169442da120d4445972f7bcf1fe4fcc">Nelson::Evaluator::lookupFunction</a></div><div class="ttdeci">bool lookupFunction(std::string funcName, FuncPtr &amp;val)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l03649">Evaluator.cpp:3649</a></div></div>
<div class="ttc" id="class_nelson_1_1_array_of_html_a2ecb17d6702c4f4ea1204f57ada32dd1"><div class="ttname"><a href="../../d2/d46/class_nelson_1_1_array_of.html#a2ecb17d6702c4f4ea1204f57ada32dd1">Nelson::ArrayOf::stringConstructor</a></div><div class="ttdeci">static ArrayOf stringConstructor(std::string aval)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dae/_array_of___string_type_8cpp_source.html#l00061">ArrayOf_StringType.cpp:61</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a905ee3f7d9ea351e4b99a99237ec28bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a905ee3f7d9ea351e4b99a99237ec28bb">&#9670;&nbsp;</a></span>statement()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Nelson::Evaluator::statement </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">ASTPtr</a>&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The statement method simply screens out the need for the printIt flag. It also retrieves the statement context for use in error reporting. The <a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">AST</a> looks like: qstatement A quiet statement (printIt -&gt; false) | context (optional) | statementBody</p>
<p>rstatement A normal statement (printIt -&gt; true) | context (optional) | statementBody The context data is supplied by the parse (indicates the line number and filename if necessary). </p>

<p class="definition">Definition at line <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l01959">1959</a> of file <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html">Evaluator.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l02004">block()</a>.</p>
<div class="fragment"><div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;    {</div><div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;        <span class="keywordflow">try</span></div><div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;        {</div><div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;            <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#aee2051332070cc09eff626ef99c498bf">pushID</a>(t-&gt;context());</div><div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;            <span class="keywordflow">if</span> (t-&gt;opNum == (OP_QSTATEMENT))</div><div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;            {</div><div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;                <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a2a2d94cebdd73fbd95b67701efa49281">statementType</a>(t-&gt;down, <span class="keyword">false</span>);</div><div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;            }</div><div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (t-&gt;opNum == (OP_RSTATEMENT))</div><div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;            {</div><div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;                <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a2a2d94cebdd73fbd95b67701efa49281">statementType</a>(t-&gt;down, <span class="keyword">true</span> &amp;&amp; bEchoMode);</div><div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;            }</div><div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;            {</div><div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;                <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a2a2d94cebdd73fbd95b67701efa49281">statementType</a>(t-&gt;down, <span class="keyword">true</span> &amp;&amp; bEchoMode);</div><div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;            }</div><div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;            <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#ab2b3dd35cd205fa6f4b80882fd937481">popID</a>();</div><div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;        }</div><div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;        <span class="keywordflow">catch</span> (Exception&amp; e)</div><div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;        {</div><div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;            e.what();</div><div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;            <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#ab2b3dd35cd205fa6f4b80882fd937481">popID</a>();</div><div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;            throw ;</div><div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;            <span class="comment">/*</span></div><div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;<span class="comment">            if (autostop &amp;&amp; !InCLI)</span></div><div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;<span class="comment">            {</span></div><div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;<span class="comment">            e.printMe(io);</span></div><div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;<span class="comment">            stackTrace(true);</span></div><div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;<span class="comment">            debugCLI();</span></div><div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;<span class="comment">            if (state &lt; NLS_STATE_QUIT)</span></div><div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;<span class="comment">            {</span></div><div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;<span class="comment">            resetState();</span></div><div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;<span class="comment">            }</span></div><div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;<span class="comment">            popID();</span></div><div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;<span class="comment">            }</span></div><div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;<span class="comment">            else</span></div><div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;<span class="comment">            {</span></div><div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;<span class="comment">            popID();</span></div><div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;<span class="comment">            throw;</span></div><div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;<span class="comment">            }</span></div><div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;<span class="comment">            */</span></div><div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;        }</div><div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;    }</div><div class="ttc" id="class_nelson_1_1_evaluator_html_aee2051332070cc09eff626ef99c498bf"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#aee2051332070cc09eff626ef99c498bf">Nelson::Evaluator::pushID</a></div><div class="ttdeci">void pushID(int)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00133">Evaluator.cpp:133</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_a2a2d94cebdd73fbd95b67701efa49281"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#a2a2d94cebdd73fbd95b67701efa49281">Nelson::Evaluator::statementType</a></div><div class="ttdeci">void statementType(ASTPtr t, bool printIt)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l01712">Evaluator.cpp:1712</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_ab2b3dd35cd205fa6f4b80882fd937481"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#ab2b3dd35cd205fa6f4b80882fd937481">Nelson::Evaluator::popID</a></div><div class="ttdeci">void popID()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00149">Evaluator.cpp:149</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2a2d94cebdd73fbd95b67701efa49281"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a2d94cebdd73fbd95b67701efa49281">&#9670;&nbsp;</a></span>statementType()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Nelson::Evaluator::statementType </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">ASTPtr</a>&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>printIt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Execute the statement described by the <a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">AST</a> - the printIt flag determines if the result of the statement should be printed to the console. The form of the <a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">AST</a> required depends on the type of statement being executed. The various statement types handled are as follows: = Assignment of expression to LHS | LHS-&gt;expr</p>
<p>multicall Multifunction call | multicallBody</p>
<p>NLS_FOR For statement | forBody</p>
<p>NLS_WHILE While statement | whileBody</p>
<p>NLS_IF If statement | ifBody</p>
<p>NLS_BREAK Break statement - change the state of the interpreter to NLS_STATE_BREAK</p>
<p>NLS_CONTINUE Continue statement - change the state of the interpreter to NLS_STATE_CONTINUE</p>
<p>NLS_RETURN Return statement - change the state to NLS_STATE_RETURN</p>
<p>NLS_SWITCH Switch statement | switchBody</p>
<p>NLS_TRY Try statement | tryBody</p>
<p>NLS_PAUSE Enter another CLI session</p>
<p>rhs A function call being evaluated as a statement | funcName</p>
<p>expr An expression being evaluated as a statement</p>
<p>The function call is trapped before the expression to handle the special variable "ans". Throws an <a class="el" href="../../db/db9/class_nelson_1_1_exception.html">Exception</a> if the statement type is not recognized. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l01712">1712</a> of file <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html">Evaluator.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l01959">statement()</a>.</p>
<div class="fragment"><div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;    {</div><div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;        ArrayOfVector m;</div><div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;        FunctionDef *fdef;</div><div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;        <span class="keywordflow">if</span> (haveEventsLoop())</div><div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;        {</div><div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;            ProcessEventsDynamicFunction(<span class="keyword">false</span>);</div><div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;        }</div><div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;        <span class="keywordflow">if</span> (t == <span class="keyword">nullptr</span>)</div><div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;        {</div><div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;        }</div><div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;        <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#aee2051332070cc09eff626ef99c498bf">pushID</a>(t-&gt;context());</div><div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;        <span class="comment">// check the debug flag</span></div><div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;        <span class="keywordtype">int</span> fullcontext = t-&gt;context();</div><div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;        handleDebug(fullcontext);</div><div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;        <span class="keywordflow">if</span> (t-&gt;isEmpty())</div><div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;        {</div><div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;            <span class="comment">/* Empty statement */</span></div><div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;        }</div><div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (t-&gt;opNum == (OP_ASSIGN))</div><div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;        {</div><div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;            <span class="keywordflow">if</span> (t-&gt;down-&gt;down == <span class="keyword">nullptr</span>)</div><div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;            {</div><div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;                ArrayOf b(<a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">expression</a>(t-&gt;down-&gt;right));</div><div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;                <span class="keywordtype">bool</span> bInserted = context-&gt;<a class="code" href="../../db/d1f/class_nelson_1_1_context.html#affcf1c0f68f6b99452dfeb9a24f5cd83">insertVariable</a>(t-&gt;down-&gt;text, b);</div><div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;                <span class="keywordflow">if</span> (!bInserted)</div><div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;                {</div><div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;                    Error(<span class="keyword">this</span>, _W(<span class="stringliteral">&quot;Redefining permanent variable.&quot;</span>));</div><div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;                }</div><div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;                <span class="keywordflow">if</span> (printIt)</div><div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;                {</div><div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;                    io-&gt;<a class="code" href="../../da/d11/class_nelson_1_1_interface.html#af9306e16136e800f11c7d2cc8c5ea652">outputMessage</a>(t-&gt;down-&gt;text);</div><div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;                    io-&gt;<a class="code" href="../../da/d11/class_nelson_1_1_interface.html#af9306e16136e800f11c7d2cc8c5ea652">outputMessage</a>(L<span class="stringliteral">&quot; =\n\n&quot;</span>);</div><div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;                    OverloadDisplay(<span class="keyword">this</span>, b);</div><div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;                }</div><div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;            }</div><div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;            {</div><div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;                ArrayOf expr(<a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">expression</a>(t-&gt;down-&gt;right));</div><div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;                ArrayOf c(assignExpression(t-&gt;down, expr));</div><div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;                <span class="keywordtype">bool</span> bInserted = context-&gt;<a class="code" href="../../db/d1f/class_nelson_1_1_context.html#affcf1c0f68f6b99452dfeb9a24f5cd83">insertVariable</a>(t-&gt;down-&gt;text, c);</div><div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;                <span class="keywordflow">if</span> (!bInserted)</div><div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;                {</div><div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;                    Error(<span class="keyword">this</span>, _W(<span class="stringliteral">&quot;Redefining permanent variable.&quot;</span>));</div><div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;                }</div><div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;                <span class="keywordflow">if</span> (printIt)</div><div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;                {</div><div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;                    io-&gt;<a class="code" href="../../da/d11/class_nelson_1_1_interface.html#af9306e16136e800f11c7d2cc8c5ea652">outputMessage</a>(t-&gt;down-&gt;text);</div><div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;                    io-&gt;<a class="code" href="../../da/d11/class_nelson_1_1_interface.html#af9306e16136e800f11c7d2cc8c5ea652">outputMessage</a>(L<span class="stringliteral">&quot; =\n\n&quot;</span>);</div><div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;                    OverloadDisplay(<span class="keyword">this</span>, c);</div><div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;                }</div><div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;            }</div><div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;        }</div><div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (t-&gt;opNum == (OP_MULTICALL))</div><div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;        {</div><div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;            <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a90d227c0237c6872fcc1aa3e0842a9b4">multiFunctionCall</a>(t-&gt;down, printIt);</div><div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;        }</div><div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (t-&gt;opNum == (OP_SCALL))</div><div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;        {</div><div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;            ArrayOfVector m = <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#ac45116fb4af2afab291c46521b0d132a">specialFunctionCall</a>(t-&gt;down, printIt);</div><div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;            <span class="keywordflow">if</span> (m.size() &gt; 0)</div><div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;            {</div><div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;                io-&gt;<a class="code" href="../../da/d11/class_nelson_1_1_interface.html#af9306e16136e800f11c7d2cc8c5ea652">outputMessage</a>(L<span class="stringliteral">&quot;\nans =\n\n&quot;</span>);</div><div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;                OverloadDisplay(<span class="keyword">this</span>, m[0]);</div><div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;                context-&gt;<a class="code" href="../../db/d1f/class_nelson_1_1_context.html#affcf1c0f68f6b99452dfeb9a24f5cd83">insertVariable</a>(<span class="stringliteral">&quot;ans&quot;</span>, m[0]);</div><div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;            }</div><div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;        }</div><div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (t-&gt;type == reserved_node)</div><div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;        {</div><div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;            <span class="keywordflow">switch</span> (t-&gt;tokenNumber)</div><div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;            {</div><div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;                <span class="keywordflow">case</span> NLS_KEYWORD_FOR:</div><div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;                    <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a2b080954d76eb36eb1c0e9423dbf983b">forStatement</a>(t-&gt;down);</div><div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;                <span class="keywordflow">case</span> NLS_KEYWORD_WHILE:</div><div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;                    <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a5fdc2b5c973549b28743dca6f88cf0a8">whileStatement</a>(t-&gt;down);</div><div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;                <span class="keywordflow">case</span> NLS_KEYWORD_IF:</div><div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;                    <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a59a2f25bdefa2ea31ead1bed591beb59">ifStatement</a>(t-&gt;down);</div><div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../d5/d55/namespace_nelson.html#ab166f2b12e615578407589e296b396f2">NLS_KEYWORD_BREAK</a>:</div><div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;                    <span class="keywordflow">if</span> (context-&gt;<a class="code" href="../../db/d1f/class_nelson_1_1_context.html#af76de22d46f4e7e7320efa919f518524">inLoop</a>())</div><div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;                    {</div><div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;                        state = NLS_STATE_BREAK;</div><div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;                    }</div><div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;                <span class="keywordflow">case</span> NLS_KEYWORD_CONTINUE:</div><div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;                    <span class="keywordflow">if</span> (context-&gt;<a class="code" href="../../db/d1f/class_nelson_1_1_context.html#af76de22d46f4e7e7320efa919f518524">inLoop</a>())</div><div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;                    {</div><div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;                        state = NLS_STATE_CONTINUE;</div><div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;                    }</div><div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;                <span class="keywordflow">case</span> NLS_KEYWORD_RETURN:</div><div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;                    state = NLS_STATE_RETURN;</div><div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;                <span class="keywordflow">case</span> NLS_KEYWORD_SWITCH:</div><div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;                    <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#ad12d52389627584f78263869ec76205e">switchStatement</a>(t-&gt;down);</div><div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;                <span class="keywordflow">case</span> NLS_KEYWORD_TRY:</div><div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;                    <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#ae1209f29d82064b665969dc2daea4e56">tryStatement</a>(t-&gt;down);</div><div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;                <span class="keywordflow">case</span> NLS_KEYWORD_QUIT:</div><div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;                    state = NLS_STATE_QUIT;</div><div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;                <span class="keywordflow">case</span> NLS_KEYWORD_ABORT:</div><div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;                    state = NLS_STATE_ABORT;</div><div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;                    <span class="keywordflow">if</span> (depth)</div><div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;                    {</div><div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;                        depth = 0;</div><div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;                    }</div><div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;                <span class="keywordflow">case</span> NLS_KEYWORD_PAUSE:</div><div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;                    depth++;</div><div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;                    <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a1d55731dc47cd7b4a5b08a747d34832d">evalCLI</a>();</div><div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;                    <span class="keywordflow">if</span> (state &lt; NLS_STATE_QUIT)</div><div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;                    {</div><div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;                        <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#abdb69079dab69283f5009a1974137846">resetState</a>();</div><div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;                    }</div><div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;                    depth--;</div><div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;                <span class="keywordflow">case</span> NLS_KEYWORD_ENDFUNCTION:</div><div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;                    <span class="comment">/* a workaround to have a endfunction keyword */</span></div><div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;                    <span class="keywordflow">if</span> (context-&gt;<a class="code" href="../../db/d1f/class_nelson_1_1_context.html#aa73e5d4936a2bb5f816d42d07ca53816">getCurrentScope</a>()-&gt;<a class="code" href="../../d6/d48/class_nelson_1_1_scope.html#aa6913d90b696a304bb4a7e1289d36e43">getName</a>() == <span class="stringliteral">&quot;base&quot;</span>)</div><div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;                    {</div><div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;                        Error(<span class="keyword">this</span>, ERROR_ENDFUNCTION_WRONG_USE);</div><div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;                    }</div><div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;                    state = NLS_STATE_RETURN;</div><div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;                <span class="keywordflow">default</span>:</div><div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;                    Error(<span class="keyword">this</span>, ERROR_UNRECOGNIZED_STATEMENT);</div><div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;            }</div><div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;        }</div><div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;        {</div><div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;            <span class="comment">// There is a special case to consider here - when a</span></div><div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;            <span class="comment">// function call is made as a statement, we do not require</span></div><div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;            <span class="comment">// that the function have an output.</span></div><div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;            ArrayOf b;</div><div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;            <span class="keywordtype">bool</span> bUpdateAns = <span class="keyword">true</span>;</div><div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;            <span class="keywordflow">if</span> (t-&gt;opNum == (OP_RHS) &amp;&amp;</div><div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;                    !context-&gt;<a class="code" href="../../db/d1f/class_nelson_1_1_context.html#a6d61ffdd05d5e85aa4a747f84b3551c1">lookupVariable</a>(t-&gt;down-&gt;text, b) &amp;&amp;</div><div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;                    <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#aa169442da120d4445972f7bcf1fe4fcc">lookupFunction</a>(t-&gt;down-&gt;text, fdef))</div><div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;            {</div><div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;                <span class="comment">//  m = functionExpression(fdef,t-&gt;down,1,true);</span></div><div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;                <span class="keywordflow">if</span> (fdef-&gt;type() == NLS_BUILT_IN_FUNCTION)</div><div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;                {</div><div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;                    <span class="comment">// We manage case lhs == 0 in builtin</span></div><div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;                    <span class="comment">// example toc or who</span></div><div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;                    m = <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a87271a334465cbb93a99436d1674dd81">functionExpression</a>(fdef, t-&gt;down, 0, <span class="keyword">true</span>);</div><div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;                }</div><div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;                <span class="keywordflow">else</span></div><div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;                {</div><div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;                    m = <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a87271a334465cbb93a99436d1674dd81">functionExpression</a>(fdef, t-&gt;down, 1, <span class="keyword">true</span>);</div><div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;                }</div><div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;                <span class="keywordflow">if</span> (m.size() &gt; 0)</div><div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;                {</div><div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;                    b = m[0];</div><div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;                }</div><div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;                <span class="keywordflow">else</span></div><div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;                {</div><div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;                    bUpdateAns = <span class="keyword">false</span>;</div><div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;                }</div><div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;                <span class="keywordflow">if</span> (fdef-&gt;type() == NLS_BUILT_IN_FUNCTION)</div><div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;                {</div><div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;                    <span class="keywordflow">if</span> (printIt &amp;&amp; (m.size() &gt; 0) &amp;&amp; (state &lt; NLS_STATE_QUIT))</div><div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;                    {</div><div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;                        io-&gt;<a class="code" href="../../da/d11/class_nelson_1_1_interface.html#af9306e16136e800f11c7d2cc8c5ea652">outputMessage</a>(L<span class="stringliteral">&quot;\nans =\n\n&quot;</span>);</div><div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;                        OverloadDisplay(<span class="keyword">this</span>, b);</div><div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;                    }</div><div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;                }</div><div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;                <span class="keywordflow">else</span></div><div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;                {</div><div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;                    <span class="keywordflow">if</span> (printIt &amp;&amp; (fdef-&gt;outputArgCount() != 0) &amp;&amp; (state &lt; NLS_STATE_QUIT))</div><div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;                    {</div><div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;                        io-&gt;<a class="code" href="../../da/d11/class_nelson_1_1_interface.html#af9306e16136e800f11c7d2cc8c5ea652">outputMessage</a>(L<span class="stringliteral">&quot;\nans =\n\n&quot;</span>);</div><div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;                        OverloadDisplay(<span class="keyword">this</span>, b);</div><div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;                    }</div><div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;                }</div><div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;            }</div><div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (t-&gt;opNum == OP_RHS)</div><div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;            {</div><div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;                m = <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a13c22c4af6b6932f7bd885995392f43e">rhsExpression</a>(t-&gt;down);</div><div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;                <span class="keywordflow">if</span> (m.size() == 0)</div><div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;                {</div><div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;                    b = <a class="code" href="../../d2/d46/class_nelson_1_1_array_of.html#a9a613eca0888bdf0f07f112b6add495f">ArrayOf::emptyConstructor</a>();</div><div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;                }</div><div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;                <span class="keywordflow">else</span></div><div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;                {</div><div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;                    b = m[0];</div><div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;                    <span class="keywordflow">if</span> (printIt &amp;&amp; (state &lt; NLS_STATE_QUIT))</div><div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;                    {</div><div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;                        <span class="comment">//io-&gt;outputMessage(L&quot;ans =\n\n&quot;);</span></div><div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;                        io-&gt;<a class="code" href="../../da/d11/class_nelson_1_1_interface.html#af9306e16136e800f11c7d2cc8c5ea652">outputMessage</a>(<span class="stringliteral">&quot;\n&quot;</span>);</div><div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;                        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> j = 0; j &lt; m.size(); j++)</div><div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;                        {</div><div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;                            <span class="keywordflow">if</span> (m.size() &gt; 1)</div><div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;                            {</div><div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;                                <span class="keywordtype">char</span> buffer[1000];</div><div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;                                sprintf(buffer, _(<span class="stringliteral">&quot;\n%d of %d:\n&quot;</span>).c_str(), j + 1, m.size());</div><div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;                                io-&gt;<a class="code" href="../../da/d11/class_nelson_1_1_interface.html#af9306e16136e800f11c7d2cc8c5ea652">outputMessage</a>(buffer);</div><div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;                            }</div><div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;                            OverloadDisplay(<span class="keyword">this</span>, m[j]);</div><div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;                        }</div><div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;                    }</div><div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;                }</div><div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;            }</div><div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;            {</div><div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;                b = <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">expression</a>(t);</div><div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;                <span class="keywordflow">if</span> (printIt &amp;&amp; (state &lt; NLS_STATE_QUIT))</div><div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;                {</div><div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;                    io-&gt;<a class="code" href="../../da/d11/class_nelson_1_1_interface.html#af9306e16136e800f11c7d2cc8c5ea652">outputMessage</a>(L<span class="stringliteral">&quot;\nans =\n\n&quot;</span>);</div><div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;                    OverloadDisplay(<span class="keyword">this</span>, b);</div><div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;                }</div><div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;            }</div><div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;            <span class="keywordflow">if</span> (state == NLS_STATE_QUIT ||</div><div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;                    state == NLS_STATE_ABORT)</div><div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;            {</div><div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;                <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#ab2b3dd35cd205fa6f4b80882fd937481">popID</a>();</div><div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;            }</div><div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;            <span class="keywordflow">if</span> (bUpdateAns)</div><div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;            {</div><div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;                context-&gt;<a class="code" href="../../db/d1f/class_nelson_1_1_context.html#affcf1c0f68f6b99452dfeb9a24f5cd83">insertVariable</a>(<span class="stringliteral">&quot;ans&quot;</span>, b);</div><div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;            }</div><div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;        }</div><div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;        <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#ab2b3dd35cd205fa6f4b80882fd937481">popID</a>();</div><div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;    }</div><div class="ttc" id="class_nelson_1_1_evaluator_html_aee2051332070cc09eff626ef99c498bf"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#aee2051332070cc09eff626ef99c498bf">Nelson::Evaluator::pushID</a></div><div class="ttdeci">void pushID(int)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00133">Evaluator.cpp:133</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_a85a1b68ec34f3e8a7c855e4bb860cbf1"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">Nelson::Evaluator::expression</a></div><div class="ttdeci">ArrayOf expression(ASTPtr t)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00448">Evaluator.cpp:448</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_a5fdc2b5c973549b28743dca6f88cf0a8"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#a5fdc2b5c973549b28743dca6f88cf0a8">Nelson::Evaluator::whileStatement</a></div><div class="ttdeci">void whileStatement(ASTPtr t)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l01226">Evaluator.cpp:1226</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_ad12d52389627584f78263869ec76205e"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#ad12d52389627584f78263869ec76205e">Nelson::Evaluator::switchStatement</a></div><div class="ttdeci">void switchStatement(ASTPtr t)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l01087">Evaluator.cpp:1087</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_ae1209f29d82064b665969dc2daea4e56"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#ae1209f29d82064b665969dc2daea4e56">Nelson::Evaluator::tryStatement</a></div><div class="ttdeci">void tryStatement(ASTPtr t)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00997">Evaluator.cpp:997</a></div></div>
<div class="ttc" id="class_nelson_1_1_array_of_html_a9a613eca0888bdf0f07f112b6add495f"><div class="ttname"><a href="../../d2/d46/class_nelson_1_1_array_of.html#a9a613eca0888bdf0f07f112b6add495f">Nelson::ArrayOf::emptyConstructor</a></div><div class="ttdeci">static ArrayOf emptyConstructor(Dimensions dim, bool bIsSparse=false)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d59/_array_of_8cpp_source.html#l02376">ArrayOf.cpp:2376</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_a2b080954d76eb36eb1c0e9423dbf983b"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#a2b080954d76eb36eb1c0e9423dbf983b">Nelson::Evaluator::forStatement</a></div><div class="ttdeci">void forStatement(ASTPtr t)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l01316">Evaluator.cpp:1316</a></div></div>
<div class="ttc" id="class_nelson_1_1_context_html_af76de22d46f4e7e7320efa919f518524"><div class="ttname"><a href="../../db/d1f/class_nelson_1_1_context.html#af76de22d46f4e7e7320efa919f518524">Nelson::Context::inLoop</a></div><div class="ttdeci">bool inLoop()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/df6/_context_8cpp_source.html#l00235">Context.cpp:235</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_a1d55731dc47cd7b4a5b08a747d34832d"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#a1d55731dc47cd7b4a5b08a747d34832d">Nelson::Evaluator::evalCLI</a></div><div class="ttdeci">void evalCLI()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l04453">Evaluator.cpp:4453</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_ac45116fb4af2afab291c46521b0d132a"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#ac45116fb4af2afab291c46521b0d132a">Nelson::Evaluator::specialFunctionCall</a></div><div class="ttdeci">ArrayOfVector specialFunctionCall(ASTPtr t, bool printIt)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l02458">Evaluator.cpp:2458</a></div></div>
<div class="ttc" id="class_nelson_1_1_interface_html_af9306e16136e800f11c7d2cc8c5ea652"><div class="ttname"><a href="../../da/d11/class_nelson_1_1_interface.html#af9306e16136e800f11c7d2cc8c5ea652">Nelson::Interface::outputMessage</a></div><div class="ttdeci">virtual void outputMessage(std::string msg)=0</div></div>
<div class="ttc" id="class_nelson_1_1_context_html_aa73e5d4936a2bb5f816d42d07ca53816"><div class="ttname"><a href="../../db/d1f/class_nelson_1_1_context.html#aa73e5d4936a2bb5f816d42d07ca53816">Nelson::Context::getCurrentScope</a></div><div class="ttdeci">Scope * getCurrentScope()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/df6/_context_8cpp_source.html#l00064">Context.cpp:64</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_a59a2f25bdefa2ea31ead1bed591beb59"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#a59a2f25bdefa2ea31ead1bed591beb59">Nelson::Evaluator::ifStatement</a></div><div class="ttdeci">void ifStatement(ASTPtr t)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l01170">Evaluator.cpp:1170</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_a87271a334465cbb93a99436d1674dd81"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#a87271a334465cbb93a99436d1674dd81">Nelson::Evaluator::functionExpression</a></div><div class="ttdeci">ArrayOfVector functionExpression(FunctionDef *funcDef, ASTPtr t, int narg_out, bool outputOptional)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l03096">Evaluator.cpp:3096</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_ab2b3dd35cd205fa6f4b80882fd937481"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#ab2b3dd35cd205fa6f4b80882fd937481">Nelson::Evaluator::popID</a></div><div class="ttdeci">void popID()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00149">Evaluator.cpp:149</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_abdb69079dab69283f5009a1974137846"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#abdb69079dab69283f5009a1974137846">Nelson::Evaluator::resetState</a></div><div class="ttdeci">void resetState()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00171">Evaluator.cpp:171</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_a13c22c4af6b6932f7bd885995392f43e"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#a13c22c4af6b6932f7bd885995392f43e">Nelson::Evaluator::rhsExpression</a></div><div class="ttdeci">ArrayOfVector rhsExpression(ASTPtr t)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l03880">Evaluator.cpp:3880</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_aa169442da120d4445972f7bcf1fe4fcc"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#aa169442da120d4445972f7bcf1fe4fcc">Nelson::Evaluator::lookupFunction</a></div><div class="ttdeci">bool lookupFunction(std::string funcName, FuncPtr &amp;val)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l03649">Evaluator.cpp:3649</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_a90d227c0237c6872fcc1aa3e0842a9b4"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#a90d227c0237c6872fcc1aa3e0842a9b4">Nelson::Evaluator::multiFunctionCall</a></div><div class="ttdeci">void multiFunctionCall(ASTPtr t, bool printIt)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l02509">Evaluator.cpp:2509</a></div></div>
<div class="ttc" id="class_nelson_1_1_scope_html_aa6913d90b696a304bb4a7e1289d36e43"><div class="ttname"><a href="../../d6/d48/class_nelson_1_1_scope.html#aa6913d90b696a304bb4a7e1289d36e43">Nelson::Scope::getName</a></div><div class="ttdeci">std::string getName()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d40/_scope_8cpp_source.html#l00117">Scope.cpp:117</a></div></div>
<div class="ttc" id="class_nelson_1_1_context_html_a6d61ffdd05d5e85aa4a747f84b3551c1"><div class="ttname"><a href="../../db/d1f/class_nelson_1_1_context.html#a6d61ffdd05d5e85aa4a747f84b3551c1">Nelson::Context::lookupVariable</a></div><div class="ttdeci">bool lookupVariable(const std::string &amp;varName, ArrayOf &amp;var)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/df6/_context_8cpp_source.html#l00136">Context.cpp:136</a></div></div>
<div class="ttc" id="class_nelson_1_1_context_html_affcf1c0f68f6b99452dfeb9a24f5cd83"><div class="ttname"><a href="../../db/d1f/class_nelson_1_1_context.html#affcf1c0f68f6b99452dfeb9a24f5cd83">Nelson::Context::insertVariable</a></div><div class="ttdeci">bool insertVariable(const std::string &amp;varName, const ArrayOf &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/df6/_context_8cpp_source.html#l00115">Context.cpp:115</a></div></div>
<div class="ttc" id="namespace_nelson_html_ab166f2b12e615578407589e296b396f2"><div class="ttname"><a href="../../d5/d55/namespace_nelson.html#ab166f2b12e615578407589e296b396f2">Nelson::NLS_KEYWORD_BREAK</a></div><div class="ttdeci">const unsigned int NLS_KEYWORD_BREAK</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d90/_keywords_8hpp_source.html#l00034">Keywords.hpp:34</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad12d52389627584f78263869ec76205e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad12d52389627584f78263869ec76205e">&#9670;&nbsp;</a></span>switchStatement()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Nelson::Evaluator::switchStatement </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">ASTPtr</a>&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Handle a switch statement. The switch statement tests an expression against a number of case blocks. If a case block matches, the code in the case block is executed, and the switch statement quits. If none of the case blocks match, the otherwise code is executed. The <a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">AST</a> looks like expr-&gt;caseBlock-&gt;otherwiseCode | testCase-&gt;testCase-&gt;...-&gt;NULL Where testCase is the <a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">AST</a> passed to testCaseStatement. For a switch statement, the switch value must be either a scalar value or a string. The test values in each case statement can either be the same type, or a cell array. If it is a cell array, then the switch value is compared with each entry in the case expression. Throws an <a class="el" href="../../db/db9/class_nelson_1_1_exception.html">Exception</a> if the switch expression is not either a scalar or a string. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l01087">1087</a> of file <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html">Evaluator.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l01712">statementType()</a>.</p>
<div class="fragment"><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;    {</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;        ArrayOf switchVal;</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;        <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#aee2051332070cc09eff626ef99c498bf">pushID</a>(t-&gt;context());</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;        <span class="comment">// First, extract the value to perform the switch on.</span></div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;        switchVal = <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">expression</a>(t);</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;        <span class="comment">// Assess its type to determine if this is a scalar switch</span></div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;        <span class="comment">// or a string switch.</span></div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;        <span class="keywordflow">if</span> (!switchVal.isScalar() &amp;&amp; !switchVal.isSingleString())</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;        {</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;            Error(<span class="keyword">this</span>, ERROR_SWITCH_STATEMENTS);</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;        }</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;        <span class="comment">// Move to the next node in the AST</span></div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;        t = t-&gt;right;</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;        <span class="comment">// Check for additional conditions</span></div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;        <span class="keywordflow">if</span> (t != <span class="keyword">nullptr</span>)</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;        {</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;            <span class="keywordtype">bool</span> caseMatched = <span class="keyword">false</span>;</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;            <span class="keywordflow">if</span> (t-&gt;opNum == (OP_CASEBLOCK))</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;            {</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;                ASTPtr s = t-&gt;down;</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;                <span class="keywordflow">while</span> (!caseMatched &amp;&amp; s != <span class="keyword">nullptr</span>)</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;                {</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;                    caseMatched = <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a909e182739c104a5cd5cd7594286ce79">testCaseStatement</a>(s, switchVal);</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;                    s = s-&gt;right;</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;                }</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;            }</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;            t = t-&gt;right;</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;            <span class="keywordflow">if</span> (!(caseMatched || (t == <span class="keyword">nullptr</span>)))</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;                <span class="comment">// Do the &quot;otherwise&quot; code</span></div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;            {</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;                <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a548de9d4130e1c6c8c1298c68a2ebbd8">block</a>(t);</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;            }</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;        }</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;        <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#ab2b3dd35cd205fa6f4b80882fd937481">popID</a>();</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;    }</div><div class="ttc" id="class_nelson_1_1_evaluator_html_aee2051332070cc09eff626ef99c498bf"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#aee2051332070cc09eff626ef99c498bf">Nelson::Evaluator::pushID</a></div><div class="ttdeci">void pushID(int)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00133">Evaluator.cpp:133</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_a85a1b68ec34f3e8a7c855e4bb860cbf1"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">Nelson::Evaluator::expression</a></div><div class="ttdeci">ArrayOf expression(ASTPtr t)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00448">Evaluator.cpp:448</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_ab2b3dd35cd205fa6f4b80882fd937481"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#ab2b3dd35cd205fa6f4b80882fd937481">Nelson::Evaluator::popID</a></div><div class="ttdeci">void popID()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00149">Evaluator.cpp:149</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_a909e182739c104a5cd5cd7594286ce79"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#a909e182739c104a5cd5cd7594286ce79">Nelson::Evaluator::testCaseStatement</a></div><div class="ttdeci">bool testCaseStatement(ASTPtr t, ArrayOf x)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00935">Evaluator.cpp:935</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_a548de9d4130e1c6c8c1298c68a2ebbd8"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#a548de9d4130e1c6c8c1298c68a2ebbd8">Nelson::Evaluator::block</a></div><div class="ttdeci">void block(ASTPtr t)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l02004">Evaluator.cpp:2004</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a909e182739c104a5cd5cd7594286ce79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a909e182739c104a5cd5cd7594286ce79">&#9670;&nbsp;</a></span>testCaseStatement()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Nelson::Evaluator::testCaseStatement </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">ASTPtr</a>&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d46/class_nelson_1_1_array_of.html">ArrayOf</a>&#160;</td>
          <td class="paramname"><em>s</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This somewhat strange test is used by the switch statement. If x is a scalar, and we are a scalar, this is an equality test. If x is a string and we are a string, this is a strcmp test. If x is a scalar and we are a cell-array, this test is applied on an element-by-element basis, looking for any matches. If x is a string and we are a cell-array, then this is applied on an element-by-element basis also. The <a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">AST</a> for this looks like: NLS_CASE | expr-&gt;codeBlock The expression is compared to x using <a class="el" href="../../d2/d46/class_nelson_1_1_array_of.html#ad24499b103087bf01616ed15b6784117">ArrayOf::testForCaseMatch</a>. If a match is found, then the codeBlock is executed. The result of the test is returned. Throws an exception if the <a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">AST</a> is malformed.</p>
<p>This somewhat strange test is used by the switch statement. If x is a scalar, and we are a scalar, this is an equality test. If x is a string and we are a string, this is a strcmp test. If x is a scalar and we are a cell-array, this test is applied on an element-by-element basis, looking for any matches. If x is a string and we are a cell-array, then this is applied on an element-by-element basis also. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l00935">935</a> of file <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html">Evaluator.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l01087">switchStatement()</a>.</p>
<div class="fragment"><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    {</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;        <span class="keywordtype">bool</span> caseMatched;</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;        ArrayOf r;</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;        <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#aee2051332070cc09eff626ef99c498bf">pushID</a>(t-&gt;context());</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;        <span class="keywordflow">if</span> (t-&gt;type != reserved_node || t-&gt;tokenNumber != NLS_KEYWORD_CASE)</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;        {</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;            Error(<span class="keyword">this</span>, ERROR_AST_SYNTAX_ERROR);</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;        }</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;        t = t-&gt;down;</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;        r = <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">expression</a>(t);</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;        caseMatched = s.testForCaseMatch(r);</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;        <span class="keywordflow">if</span> (caseMatched)</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;        {</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;            <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a548de9d4130e1c6c8c1298c68a2ebbd8">block</a>(t-&gt;right);</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;        }</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;        <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#ab2b3dd35cd205fa6f4b80882fd937481">popID</a>();</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;        <span class="keywordflow">return</span> caseMatched;</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;    }</div><div class="ttc" id="class_nelson_1_1_evaluator_html_aee2051332070cc09eff626ef99c498bf"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#aee2051332070cc09eff626ef99c498bf">Nelson::Evaluator::pushID</a></div><div class="ttdeci">void pushID(int)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00133">Evaluator.cpp:133</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_a85a1b68ec34f3e8a7c855e4bb860cbf1"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">Nelson::Evaluator::expression</a></div><div class="ttdeci">ArrayOf expression(ASTPtr t)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00448">Evaluator.cpp:448</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_ab2b3dd35cd205fa6f4b80882fd937481"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#ab2b3dd35cd205fa6f4b80882fd937481">Nelson::Evaluator::popID</a></div><div class="ttdeci">void popID()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00149">Evaluator.cpp:149</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_a548de9d4130e1c6c8c1298c68a2ebbd8"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#a548de9d4130e1c6c8c1298c68a2ebbd8">Nelson::Evaluator::block</a></div><div class="ttdeci">void block(ASTPtr t)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l02004">Evaluator.cpp:2004</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae1209f29d82064b665969dc2daea4e56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1209f29d82064b665969dc2daea4e56">&#9670;&nbsp;</a></span>tryStatement()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Nelson::Evaluator::tryStatement </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">ASTPtr</a>&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Implements the try statement. The <a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">AST</a> looks like block-&gt;catchBlock The code in block is executed. If an exception occurs, then the code in catchBlock is executed. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l00997">997</a> of file <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html">Evaluator.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l01712">statementType()</a>.</p>
<div class="fragment"><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    {</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;        <span class="comment">// Turn off autostop for this statement block</span></div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;        <span class="keywordtype">bool</span> autostop_save = autostop;</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;        autostop = <span class="keyword">false</span>;</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;        <span class="comment">// Get the state of the IDnum stack and the</span></div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;        <span class="comment">// contextStack and the cnameStack</span></div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;        <span class="keywordtype">size_t</span> stackdepth = cstack.size();</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;        <span class="keywordflow">try</span></div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;        {</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;            <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a548de9d4130e1c6c8c1298c68a2ebbd8">block</a>(t);</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;        }</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;        <span class="keywordflow">catch</span> (Exception &amp;e)</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;        {</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;            e.what();</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;            <span class="keywordflow">while</span> (cstack.size() &gt; stackdepth)</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;            {</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;                cstack.pop_back();</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;            }</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;            <span class="comment">//      cname = cstack.back().cname;</span></div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;            t = t-&gt;right;</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;            <span class="keywordflow">if</span> (t != <span class="keyword">nullptr</span>)</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;            {</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;                autostop = autostop_save;</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;                <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a548de9d4130e1c6c8c1298c68a2ebbd8">block</a>(t);</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;            }</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;        }</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;        autostop = autostop_save;</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;    }</div><div class="ttc" id="class_nelson_1_1_evaluator_html_a548de9d4130e1c6c8c1298c68a2ebbd8"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#a548de9d4130e1c6c8c1298c68a2ebbd8">Nelson::Evaluator::block</a></div><div class="ttdeci">void block(ASTPtr t)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l02004">Evaluator.cpp:2004</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1c34660f5bcad3052804bb02ea654616"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c34660f5bcad3052804bb02ea654616">&#9670;&nbsp;</a></span>unitColon()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d46/class_nelson_1_1_array_of.html">ArrayOf</a> Nelson::Evaluator::unitColon </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">ASTPtr</a>&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Evaluate a unit colon expression. The <a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">AST</a> input should look like: : | expr1-&gt;expr2</p>
<p>The output is the expression expr1:expr2, which is the vector [expr1,expr1+1,expr1+2,...,expr1+n], where n is the largest integer such that expr1+n &lt;= expr2. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l00754">754</a> of file <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html">Evaluator.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l00448">expression()</a>.</p>
<div class="fragment"><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    {</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;        ArrayOf a, b;</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;        <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#aee2051332070cc09eff626ef99c498bf">pushID</a>(t-&gt;context());</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;        a = <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">expression</a>(t-&gt;down);</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;        b = <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">expression</a>(t-&gt;down-&gt;right);</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;        <span class="comment">/*</span></div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;<span class="comment">        ArrayOf retval(UnitColon(a, b));</span></div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;<span class="comment">        */</span></div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;        ArrayOfVector argsOut = CallOperatorFunction(<span class="keyword">this</span>, <span class="stringliteral">&quot;colon&quot;</span>, <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">expression</a>(t-&gt;down), <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">expression</a>(t-&gt;down-&gt;right), 1);</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;        ArrayOf retval = argsOut[0];</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;        <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#ab2b3dd35cd205fa6f4b80882fd937481">popID</a>();</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;        <span class="keywordflow">return</span> retval;</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    }</div><div class="ttc" id="class_nelson_1_1_evaluator_html_aee2051332070cc09eff626ef99c498bf"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#aee2051332070cc09eff626ef99c498bf">Nelson::Evaluator::pushID</a></div><div class="ttdeci">void pushID(int)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00133">Evaluator.cpp:133</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_a85a1b68ec34f3e8a7c855e4bb860cbf1"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">Nelson::Evaluator::expression</a></div><div class="ttdeci">ArrayOf expression(ASTPtr t)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00448">Evaluator.cpp:448</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_ab2b3dd35cd205fa6f4b80882fd937481"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#ab2b3dd35cd205fa6f4b80882fd937481">Nelson::Evaluator::popID</a></div><div class="ttdeci">void popID()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00149">Evaluator.cpp:149</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5fdc2b5c973549b28743dca6f88cf0a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5fdc2b5c973549b28743dca6f88cf0a8">&#9670;&nbsp;</a></span>whileStatement()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Nelson::Evaluator::whileStatement </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">ASTPtr</a>&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Implements the while control statement. The <a class="el" href="../../dc/d92/class_nelson_1_1_a_s_t.html">AST</a> looks like expr-&gt;codeBlock The test expression is evaluated until it fails, and for each successful expression, the codeBlock is executed. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l01226">1226</a> of file <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html">Evaluator.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html#l01712">statementType()</a>.</p>
<div class="fragment"><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;    {</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;        ASTPtr testCondition;</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;        ArrayOf condVar;</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;        ASTPtr codeBlock;</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;        <span class="keywordtype">bool</span> conditionTrue;</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;        <span class="keywordtype">bool</span> breakEncountered;</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;        <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#aee2051332070cc09eff626ef99c498bf">pushID</a>(t-&gt;context());</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;        testCondition = t;</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;        codeBlock = t-&gt;right;</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;        breakEncountered = <span class="keyword">false</span>;</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;        condVar = <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">expression</a>(testCondition);</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;        conditionTrue = !condVar.isRealAllZeros();</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;        context-&gt;<a class="code" href="../../db/d1f/class_nelson_1_1_context.html#ae4e21048f1686a393abb4f436e57a1b0">enterLoop</a>();</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;        <span class="keywordflow">while</span> (conditionTrue &amp;&amp; !breakEncountered)</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;        {</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;            <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a548de9d4130e1c6c8c1298c68a2ebbd8">block</a>(codeBlock);</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;            <span class="keywordflow">if</span> (state == NLS_STATE_RETURN ||</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;                    state == NLS_STATE_ABORT ||</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;                    state == NLS_STATE_QUIT)</div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;            {</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;            }</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;            <span class="keywordflow">if</span> (state == NLS_STATE_CONTINUE)</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;            {</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;                <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#abdb69079dab69283f5009a1974137846">resetState</a>();</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;            }</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;            breakEncountered = (state == NLS_STATE_BREAK);</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;            <span class="keywordflow">if</span> (!breakEncountered)</div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;            {</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;                condVar = <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">expression</a>(testCondition);</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;                conditionTrue = !condVar.isRealAllZeros();</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;            }</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;            {</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;                <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#abdb69079dab69283f5009a1974137846">resetState</a>();</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;            }</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;        }</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;        context-&gt;<a class="code" href="../../db/d1f/class_nelson_1_1_context.html#ad81317d1c949a72c33efe73b66b972a7">exitLoop</a>();</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;        <a class="code" href="../../d6/de2/class_nelson_1_1_evaluator.html#ab2b3dd35cd205fa6f4b80882fd937481">popID</a>();</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;    }</div><div class="ttc" id="class_nelson_1_1_evaluator_html_aee2051332070cc09eff626ef99c498bf"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#aee2051332070cc09eff626ef99c498bf">Nelson::Evaluator::pushID</a></div><div class="ttdeci">void pushID(int)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00133">Evaluator.cpp:133</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_a85a1b68ec34f3e8a7c855e4bb860cbf1"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#a85a1b68ec34f3e8a7c855e4bb860cbf1">Nelson::Evaluator::expression</a></div><div class="ttdeci">ArrayOf expression(ASTPtr t)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00448">Evaluator.cpp:448</a></div></div>
<div class="ttc" id="class_nelson_1_1_context_html_ad81317d1c949a72c33efe73b66b972a7"><div class="ttname"><a href="../../db/d1f/class_nelson_1_1_context.html#ad81317d1c949a72c33efe73b66b972a7">Nelson::Context::exitLoop</a></div><div class="ttdeci">void exitLoop()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/df6/_context_8cpp_source.html#l00230">Context.cpp:230</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_ab2b3dd35cd205fa6f4b80882fd937481"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#ab2b3dd35cd205fa6f4b80882fd937481">Nelson::Evaluator::popID</a></div><div class="ttdeci">void popID()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00149">Evaluator.cpp:149</a></div></div>
<div class="ttc" id="class_nelson_1_1_context_html_ae4e21048f1686a393abb4f436e57a1b0"><div class="ttname"><a href="../../db/d1f/class_nelson_1_1_context.html#ae4e21048f1686a393abb4f436e57a1b0">Nelson::Context::enterLoop</a></div><div class="ttdeci">void enterLoop()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/df6/_context_8cpp_source.html#l00225">Context.cpp:225</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_abdb69079dab69283f5009a1974137846"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#abdb69079dab69283f5009a1974137846">Nelson::Evaluator::resetState</a></div><div class="ttdeci">void resetState()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l00171">Evaluator.cpp:171</a></div></div>
<div class="ttc" id="class_nelson_1_1_evaluator_html_a548de9d4130e1c6c8c1298c68a2ebbd8"><div class="ttname"><a href="../../d6/de2/class_nelson_1_1_evaluator.html#a548de9d4130e1c6c8c1298c68a2ebbd8">Nelson::Evaluator::block</a></div><div class="ttdeci">void block(ASTPtr t)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd8/_evaluator_8cpp_source.html#l02004">Evaluator.cpp:2004</a></div></div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>F:/Developpements/GitHub/nelson/modules/interpreter/src/include/<a class="el" href="../../d5/d33/_evaluator_8hpp_source.html">Evaluator.hpp</a></li>
<li>F:/Developpements/GitHub/nelson/modules/interpreter/src/cpp/<a class="el" href="../../d3/dd8/_evaluator_8cpp_source.html">Evaluator.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
