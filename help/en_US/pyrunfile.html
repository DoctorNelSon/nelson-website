<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns = "http://www.w3.org/1999/xhtml">
<!--
SAME AS NELSON SOFTWARE
-->

<head>
<meta name="generator" content=
"HTML Generated by Nelson"/>
<link rel="stylesheet" type="text/css" href="style.css" />
<link rel="stylesheet" href="mono-blue.css"  type="text/css" />
<script src = "highlight.pack.js" type = "text/javascript">
</script>
<script type = "text/javascript">hljs.highlightAll();</script>
</script>
	<meta http-equiv="Content-Type" content = "text/html; charset=utf-8" />
	<title>pyrunfile</title>

</head>
<body>

<div class = "manualnavbar">
<table width = "100%"><tr>

<td width="30%" class="previous">
<span class="top"><a href="pyrun.html">&lt;&lt; pyrun</a></span>
</td>

<td width="40%" class="center">
<span class="top"><a href="chapter_python_engine.html">Python engine</a></span>
</td>

</tr></table>
<hr />

<h1 class="refname">pyrunfile</h1>
<hr/>

<h3>Run Python file from Nelson.</h3>
<hr/>

<h3>Syntax</h3>
<hr/>

<table summary="syntax" style="width:50%">
	<tr>
		<td>pyrunfile(filename)</td>
	</tr>

	<tr>
		<td>pyrunfile(filename input)</td>
	</tr>

	<tr>
		<td>outvars = pyrunfile(filename, outputs)</td>
	</tr>

	<tr>
		<td>outvars = pyrunfile(filename, outputs, pyName, pyValue, ...)</td>
	</tr>

</table>

<h3>Input argument</h3>
<hr/>

<dl>
<dt><span class="term">filename</span></dt>
<dd>
<p class="para">a string scalar, character vector: filename .py to run.</p>
</dd>

<dt><span class="term">"filename 'input'"</span></dt>
<dd>
<p class="para">a string scalar, character vector: filename .py to run with input arguments.</p>
</dd>

<dt><span class="term">pyName, pyValue</span></dt>
<dd>
<p class="para">Input arguments name and value</p>
</dd>

<dt><span class="term">outputs</span></dt>
<dd>
<p class="para">string array: Python variable names.</p>
</dd>

</dl>

<h3>Output argument</h3>
<hr/>

<dl>
<dt><span class="term">outvars</span></dt>
<dd>
<p class="para">One or more Nelson workspace variable names returned as valid Python types.</p>
</dd>

</dl>

<h3>Description</h3>
<hr/>

<p></p>

  <p><b>pyrunfile(filenam)</b> function executes Python file.</p>
  <p>In contrast to the <b>pyrun</b> function, variables generated in the Python workspace through the <b>pyrunfile</b> function do not persist. This means that subsequent calls to <b>pyrunfile</b> won't be able to access these variables.</p>
  <p>The code <b>outvars = pyrunfile(file, outputs, pyName1, pyValue2, ..., pyNameN, pyValueN)</b> executes the code with one or more name-value pair arguments.</p>
  <p>Known limitation:</p>
  <p>The <b>pyrun</b> and <b>pyrunfile</b> functions lack support for classes containing local variables initialized by other local variables via methods. In such cases, it's advisable to create a module and access it instead.</p>


<h3>Examples</h3>
<hr/>

<p>pyrunfile_example_1.py</p>
<pre>
<code class = "Python">content = "hello Nelson"
print(content)
</code>
</pre>
<p>pyrunfile from Nelson</p>
<pre>
<code class = "nelson">pyrunfile('pyrunfile_example_1.py')
</code>
</pre>
<p>pyrunfile_example_2.py</p>
<pre>
<code class = "Python">import sys
print('greetings from:')
for arg in sys.argv[0:]:
    print(arg)
</code>
</pre>
<p>pyrunfile from Nelson with arguments</p>
<pre>
<code class = "nelson">pyrunfile('pyrunfile_example_2.py "Hello" "world"')
</code>
</pre>
<p>pyrunfile_example_3.py</p>
<pre>
<code class = "Python">def minus(a,c):
    b = a-c
    return b

z = minus(x, y)
</code>
</pre>
<p>pyrunfile from Nelson with values from Nelson</p>
<pre>
<code class = "nelson">pyrunfile('pyrunfile_example_3.py', 'x', 5, 'y', 3)
</code>
</pre>

<h3>See also</h3>
<hr/>

<p>
<a href = "pyrun.html" class = "link">pyrun</a>, <a href = "pyenv.html" class = "link">pyenv</a>, <a href = "python_types.html" class = "link">Python types supported</a>.</p>

<h3>History</h3>
<hr/>

<table summary = "history" style="width:50%">
<tr>
	<th>Version</th>
	<th>Description</th>
</tr>
<tr>
	<td>1.4.0</td>
	<td>initial version</td>
</tr>

</table>

<h3>Author</h3>
<hr/>

<p>Allan CORNET</p>

<div class = "manualnavbar">
<table width = "100%"><tr>

<td width="30%" class="previous">
<span class="top"><a href="pyrun.html">&lt;&lt; pyrun</a></span>
</td>

<td width="40%" class="center">
<span class="top"><a href="chapter_python_engine.html">Python engine</a></span>
</td>

</tr></table>
<hr />

</body>

</html>

